/*! For license information please see VNPT_EKYC_SDK.LICENSE.txt */
var ekycsdk=function(e){var n={};function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(n){return e[n]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}({"./locales sync recursive ^\\.\\/.*\\.json$":function(module,exports,__webpack_require__){eval('var map = {\n\t"./en.json": "./locales/en.json",\n\t"./locales.json": "./locales/locales.json",\n\t"./vi.json": "./locales/vi.json"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = "./locales sync recursive ^\\\\.\\\\/.*\\\\.json$";\n\n//# sourceURL=webpack://ekycsdk/./locales_sync_^\\.\\/.*\\.json$?')},"./locales/en.json":function(module){eval('module.exports = JSON.parse("{\\"home\\":{\\"title\\":\\"SELECT IDENTIFICATION DOCUMENT\\",\\"cmt\\":\\"ID card, Citizen Identity card\\",\\"passpost\\":\\"Passport\\",\\"cmt_army\\":\\"Military ID card\\",\\"license\\":\\"Driver\'s license\\",\\"cmt_chip\\":\\"Chip identification card\\",\\"start\\":\\"START\\"},\\"face\\":{\\"portrait\\":\\"Portrait\\",\\"please\\":\\"Please\\",\\"des_1\\":\\"Move the face to fit the restricted area\\",\\"take_photo\\":\\"Take photo\\",\\"take_again\\":\\"Take again\\",\\"next\\":\\"Next\\",\\"guide\\":\\"Guideline\\",\\"guide_1\\":\\"Guideline for verifying document owner\'s face\\",\\"guide_2\\":\\"Move the face to fit the restricted area\\",\\"guide_3\\":\\"Keep your face steady when taking a photo\\",\\"guide_4\\":\\"Avoid other people appearing in the camera while taking photos\\",\\"touch\\":\\"Touch to take a photo\\",\\"guide_5\\":\\"Keep document within the rectangular frame,\\",\\"guide_6\\":\\"capture enough lighting and clarity\\",\\"guide_7\\":\\"Move the face to fit\\",\\"guide_8\\":\\"the restricted area\\",\\"guide_9\\":\\"Please remove the glasses\\"},\\"front\\":{\\"qr\\":\\"QR code\\",\\"front\\":\\"Front\\",\\"back\\":\\"Back\\",\\"result\\":\\"Result\\",\\"guide_1\\":\\"Guideline for capturing your documents\\",\\"guide_2\\":\\"Bring your document to the camera so that its four corners match with the restricted area\\",\\"guide_3\\":\\"Capture information on document clearly and completely \\",\\"guide_4\\":\\"Place document within the rectangular frame, capture enough lighting and clarity\\",\\"guide_5\\":\\"Select Retake if the image is blurry, not in focus\\",\\"guide_6\\":\\"Select Next to go to the next step\\",\\"guide_7\\":\\"Select “Next” to go to the next step\\",\\"upload_image\\":\\"Upload image\\",\\"qr_des\\":\\"Please put the QR code in the center of the camera\\",\\"previous\\":\\"Back\\",\\"accept\\":\\"Accept\\"},\\"notice\\":{\\"notice_1\\":\\"Don\'t shoot too blurry\\",\\"notice_2\\":\\"Don\'t take the shot off the angle\\",\\"notice_3\\":\\"Do not take a blowout picture\\"},\\"choose_version_qr\\":{\\"choose_version\\":\\"CHOOSE VERSION\\",\\"version_for_you\\":\\"Choose the version you want to experience\\",\\"standard_version\\":\\"Standard version\\",\\"use_qrcode\\":\\"The version uses QR Code to extract CCCD information\\",\\"is_qrcode_scan\\":\\"Scan the QR Code\\"},\\"document_modal\\":{\\"tutorial_title\\":\\"Guideline for capturing your documents\\",\\"tutorial_notice1\\":\\"Bring your document to the camera so that its four corners match with the restricted area\\",\\"tutorial_notice2\\":\\"Capture information on document clearly and completely \\",\\"do_not\\":\\"Don\'t take\\",\\"tutorial1\\":\\"too blurry\\",\\"tutorial2\\":\\"take the shot off the angle\\",\\"tutorial3\\":\\"glare\\"},\\"face_modal\\":{\\"tutorial_title\\":\\"Guideline for verifying document owner\'s face\\",\\"tutorial_notice1\\":\\"Move the face to fit the restricted area\\",\\"tutorial_notice2\\":\\"Keep your face steady when taking a photo\\",\\"tutorial_notice3\\":\\" Avoid other people appearing in the camera while taking photos\\",\\"do_not\\":\\"Don\'t take\\",\\"tutorial1\\":\\"too blurry\\",\\"tutorial2\\":\\"wear glasses\\",\\"tutorial3\\":\\"glare\\"},\\"oval_face\\":{\\"tutorial_title\\":\\"Tutorial\\",\\"tutorial_title2\\":\\"Guideline for capturing your documents\\",\\"tutorial_title3\\":\\"Watch the video for an easier experience\\",\\"tutorial_notice1\\":\\"Let the face fit small frame and large frame\\",\\"tutorial_notice2\\":\\"Do not wear glasses, masks, do not take photos against the light\\"}}");\n\n//# sourceURL=webpack://ekycsdk/./locales/en.json?')},"./locales/locales.json":function(module){eval('module.exports = JSON.parse("{\\"vi\\":{\\"title\\":\\"Tiêu đề\\"}}");\n\n//# sourceURL=webpack://ekycsdk/./locales/locales.json?')},"./locales/vi.json":function(module){eval('module.exports = JSON.parse("{\\"home\\":{\\"title\\":\\"CHỌN LOẠI GIẤY TỜ\\",\\"cmt\\":\\"Chứng minh thư, Thẻ căn cước\\",\\"passpost\\":\\"Hộ chiếu\\",\\"cmt_army\\":\\"Chứng minh thư quân đội\\",\\"license\\":\\"Bằng lái xe\\",\\"cmt_chip\\":\\"Thẻ căn cước gắn chíp\\",\\"start\\":\\"BẮT ĐẦU\\"},\\"face\\":{\\"portrait\\":\\"Chân dung\\",\\"please\\":\\"Xin vui lòng\\",\\"des_1\\":\\"Di chuyển khuôn mặt sao cho vừa với vùng giới hạn\\",\\"take_photo\\":\\"Chụp ảnh\\",\\"take_again\\":\\"Chụp lại\\",\\"upload_photo\\":\\"Tải ảnh\\",\\"next\\":\\"Tiếp theo\\",\\"guide\\":\\"Hướng dẫn\\",\\"guide_1\\":\\"Hướng dẫn Chụp ảnh Chân dung\\",\\"guide_2\\":\\"Di chuyển khuôn mặt sao cho vừa với vùng giới hạn\\",\\"guide_3\\":\\"Giữ nguyên khuôn mặt khi chụp ảnh\\",\\"guide_4\\":\\"Hạn chế có người khác trong camera khi chụp\\",\\"touch\\":\\"Chạm để chụp ảnh\\",\\"guide_5\\":\\"Đặt giấy tờ nằm vừa khung hình chữ nhật,\\",\\"guide_6\\":\\"chụp đủ ánh sáng và rõ nét\\",\\"guide_7\\":\\"Di chuyển khuôn mặt sao cho vừa\\",\\"guide_8\\":\\"với vùng giới hạn\\",\\"guide_9\\":\\"Vui lòng tháo kính để xác thực chính xác hơn\\"},\\"front\\":{\\"qr\\":\\"QR code\\",\\"front\\":\\"Mặt trước\\",\\"back\\":\\"Mặt sau\\",\\"result\\":\\"Kết quả\\",\\"guide_1\\":\\"Hướng dẫn Chụp ảnh giấy tờ cầm tay\\",\\"guide_2\\":\\"Đưa giấy tờ vào gần camera sao cho 4 góc của giấy tờ trùng với vùng giới hạn\\",\\"guide_3\\":\\"Chụp rõ nét và đầy đủ thông tin trên giấy tờ\\",\\"guide_4\\":\\"Đặt giấy tờ nằm vừa khung hình chữ nhật, chụp đủ ánh sáng và rõ nét\\",\\"guide_5\\":\\"Chọn Chụp lại nếu ảnh mờ, không rõ nét\\",\\"guide_6\\":\\"Chọn Tiếp theo để sang bước tiếp theo\\",\\"guide_7\\":\\"Chọn “Tiếp theo” để sang bước tiếp theo\\",\\"upload_image\\":\\"Tải ảnh lên\\",\\"qr_des\\":\\"Xin vui lòng đưa mã QR code vào trung tâm của camera\\",\\"previous\\":\\"Quay lại\\",\\"accept\\":\\"Đồng ý\\"},\\"notice\\":{\\"notice_1\\":\\"Không chụp quá mờ\\",\\"notice_2\\":\\"Không chụp mất góc\\",\\"notice_3\\":\\"Không chụp lóa sáng\\"},\\"choose_version_qr\\":{\\"choose_version\\":\\"CHỌN PHIÊN BẢN\\",\\"version_for_you\\":\\"Chọn phiên bản bạn muốn trải nghiệm\\",\\"standard_version\\":\\"Phiên bản tiêu chuẩn\\",\\"use_qrcode\\":\\"Phiên bản sử dụng QR Code để bóc tách thông tin CCCD\\",\\"is_qrcode_scan\\":\\"Quét QR Code\\"},\\"document_modal\\":{\\"tutorial_title\\":\\"Hướng dẫn chụp ảnh giấy tờ cầm tay\\",\\"tutorial_notice1\\":\\"Đưa giấy tờ vào gần camera sao cho 4 góc của giấy tờ trùng với vùng giới hạn\\",\\"tutorial_notice2\\":\\"Chụp rõ nét và đầy đủ thông tin trên giấy tờ\\",\\"do_not\\":\\"Không chụp\\",\\"tutorial1\\":\\"quá mờ\\",\\"tutorial2\\":\\"mất góc\\",\\"tutorial3\\":\\"lóa sáng\\"},\\"face_modal\\":{\\"tutorial_title\\":\\"Hướng dẫn chụp ảnh chân dung\\",\\"tutorial_notice1\\":\\"Di chuyển khuôn mặt sao cho vừa với vùng giới hạn\\",\\"tutorial_notice2\\":\\"Giữ nguyên khuôn mặt khi chụp ảnh\\",\\"tutorial_notice3\\":\\" Hạn chế có người khác trong camera khi chụp\\",\\"do_not\\":\\"Không chụp\\",\\"tutorial1\\":\\"quá mờ\\",\\"tutorial2\\":\\"đeo kính\\",\\"tutorial3\\":\\"lóa sáng\\"},\\"oval_face\\":{\\"tutorial_title\\":\\"Hướng dẫn\\",\\"tutorial_title2\\":\\"Xác thực khuôn mặt chủ giấy tờ\\",\\"tutorial_title3\\":\\"Xem video để trải nghiệm dễ dàng hơn\\",\\"tutorial_notice1\\":\\"Để khuôn mặt vừa khung hình nhỏ và khung hình lớn \\",\\"tutorial_notice2\\":\\"Không đeo kính, khẩu trang, không chụp ngược sáng\\"}}");\n\n//# sourceURL=webpack://ekycsdk/./locales/vi.json?')},"./src/js/app.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reload", function() { return reload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewResult", function() { return viewResult; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeExistingItem", function() { return removeExistingItem; });\n/* harmony import */ var _home_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.js */ "./src/js/home.js");\n/* harmony import */ var _type1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type1.js */ "./src/js/type1.js");\n/* harmony import */ var _type2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type2.js */ "./src/js/type2.js");\n/* harmony import */ var _mobileDemo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mobileDemo.js */ "./src/js/mobileDemo.js");\n/* harmony import */ var _flow_type_front_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./flow_type/front.js */ "./src/js/flow_type/front.js");\n/* harmony import */ var _result__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./result */ "./src/js/result.js");\n/* harmony import */ var _result2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./result2 */ "./src/js/result2.js");\n/* harmony import */ var _flow_type_result3__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./flow_type/result3 */ "./src/js/flow_type/result3.js");\n/* harmony import */ var _flow_type_result4__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./flow_type/result4 */ "./src/js/flow_type/result4.js");\n\n\n\n\n// import { Capture } from  \'./step1-temp.js\';\n\n\n\n\n\n\n\nfunction init(init_data, cb, call_after_end_flow) {\n  Object(_home_js__WEBPACK_IMPORTED_MODULE_0__["RenderHomepage"])(init_data, cb, call_after_end_flow);\n  // Demo(init_data, cb, call_after_end_flow);\n\n}\n\nfunction removeExistingItem(key) {\n  if (localStorage.getItem(key) === null)\n    return false;\n  localStorage.removeItem(key);\n  return true;\n}\n\nfunction reload(init_data, cb, call_after_end_flow) {\n  let vnpt_ekyc = document.getElementById("vnpt_ekyc");\n  if (vnpt_ekyc) {\n    vnpt_ekyc.parentNode.removeChild(vnpt_ekyc);\n  }\n  init(init_data, cb, call_after_end_flow);\n}\n\nfunction viewResult(type, data) {\n  if (type === 9) {\n    Object(_flow_type_result3__WEBPACK_IMPORTED_MODULE_7__["RederResult3"])(data)\n  }\n  if (type === -1 || type === 7) {\n    Object(_result__WEBPACK_IMPORTED_MODULE_5__["RederResult"])(data)\n  }\n  if (type == 5 || type === 6) {\n    Object(_result2__WEBPACK_IMPORTED_MODULE_6__["RederResult2"])(data)\n  }\n\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/app.js?')},"./src/js/ekycHelper.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "httpPOST", function() { return httpPOST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "httpGET", function() { return httpGET; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return isEmpty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPropertyImage", function() { return setPropertyImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encryptoData", function() { return encryptoData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uuidv4", function() { return uuidv4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b64DecodeUnicode", function() { return b64DecodeUnicode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNested", function() { return getNested; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBase64", function() { return getBase64; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b64toBlob", function() { return b64toBlob; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckLocalStorageWritable", function() { return CheckLocalStorageWritable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "httpPOSTNOTAUTH", function() { return httpPOSTNOTAUTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "syntaxHighlight", function() { return syntaxHighlight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showLoading", function() { return showLoading; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hiddenLoading", function() { return hiddenLoading; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showCaptureFrame", function() { return showCaptureFrame; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "translate", function() { return translate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dataURLtoFile", function() { return dataURLtoFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyDrawImg", function() { return onlyDrawImg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "styleString", function() { return styleString; });\nfunction httpGET(url) {\n  // console.log(\'url\', url);\n}\n\nfunction isEmpty(data) {\n  if (typeof(data) === \'object\') {\n    if (JSON.stringify(data) === \'{}\' || JSON.stringify(data) === \'[]\') {\n      return true;\n    } else if (!data) {\n      return true;\n    }\n    return false;\n  } else if (typeof(data) === \'string\') {\n    if (!data.trim()) {\n      return true;\n    }\n    return false;\n  } else if (typeof(data) === \'undefined\') {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction httpPOST(url, header = {}, data, callbackSuccess, callbackFail, init_data = {}) {\n  var http = new XMLHttpRequest();\n  // var token = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsicmVzdHNlcnZpY2UiXSwidXNlcl9uYW1lIjoibGluaGh0dDJAdGVzdC5jb20iLCJhdXRob3JpdGllcyI6WyJVU0VSIl0sImp0aSI6IjQ3ZGFiYWUxLTQxOGYtNDQzNy1hMmNlLTI4NDVlZWRkNWJiNiIsImNsaWVudF9pZCI6ImFkbWluYXBwIiwic2NvcGUiOlsicmVhZCJdfQ.kdP5LcqzPDoBG4Fh3IuunhGYqoKUgPsTmOTxavg3cPDJWG84Ts7U-Av_05pUXW8A0D5LPQY8O5pabFLj2ITr8b9z5tacIx8E16wbmYYiwoCx-s8v49vIrzbvHtSLUv4IOfF-6HOJgvVkSaP2tg2cE0BR5OumWvouWdkT9m6ksfgrbQCbt8AaefjIMVwEdIgmAIUPsl3Ku0rk-XSCgknu3aVJgSyaNokacZz-e826srcJ2DdjNNm3lVX-X63CUQhNROvlst26QbYPjv3qksl-h8qNqmWMPqFZnP0OOUII3Em8xsws1prPSBn11M5VAjK8138EvHGJMsdAUSnn0Jd42w"\n  // var token = init_data.ENABLE_GGCAPCHAR ? localStorage.getItem("v_ekyc_actk") : init_data.AUTHORIZION;\n  var token = init_data.AUTHORIZION;\n  var token_id = init_data.TOKEN_ID;\n  var token_key = init_data.TOKEN_KEY;\n  http.open(\'POST\', url, true);\n  isEmpty(header) ? \'\' : http.setRequestHeader(header["key"], header["value"]);\n  http.setRequestHeader(\'Authorization\', \'Bearer \' + token);\n  http.setRequestHeader(\'Token-id\', token_id);\n  http.setRequestHeader(\'Token-key\', token_key);\n  http.setRequestHeader(\'mac-address\', "WEB-001");\n\n  http.onreadystatechange = function() {\n    if (http.readyState == 4) {\n      if (http.status == 200) {\n        callbackSuccess(http.responseText);\n\n      } else {\n        callbackFail(http.responseText);\n      }\n    }\n\n  }\n  http.send(data);\n}\n\nfunction httpPOSTNOTAUTH(url, header = {}, data, callbackSuccess, callbackFail) {\n  var http = new XMLHttpRequest();\n  http.open(\'POST\', url, true);\n  isEmpty(header) ? \'\' : http.setRequestHeader(header["key"], header["value"]);\n  http.onreadystatechange = function() {\n    if (http.readyState == 4) {\n      if (http.status == 200) {\n        callbackSuccess(http.responseText);\n\n      } else {\n        callbackFail(http.statusText);\n      }\n    }\n\n  }\n  http.send(data);\n}\n\nfunction formatDate(date) {\n  var d = new Date(date),\n    month = \'\' + (d.getMonth() + 1),\n    day = \'\' + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2)\n    month = \'0\' + month;\n  if (day.length < 2)\n    day = \'0\' + day;\n\n  return [year, month, day].join(\'-\');\n}\n\nfunction setPropertyImage(data, width, height) {\n  var zeroth = {};\n  var exif = {};\n  var gps = {};\n  zeroth[piexif.ImageIFD.Make] = "wb";\n  zeroth[piexif.ImageIFD.XResolution] = [width, 1];\n  zeroth[piexif.ImageIFD.YResolution] = [height, 1];\n  zeroth[piexif.ImageIFD.Software] = "vnpt_ekyc";\n  exif[piexif.ExifIFD.DateTimeOriginal] = formatDate(new Date());\n  exif[piexif.ExifIFD.LensMake] = "LensMake";\n  exif[piexif.ExifIFD.Sharpness] = 777;\n  exif[piexif.ExifIFD.LensSpecification] = [\n    [1, 1],\n    [1, 1],\n    [1, 1],\n    [1, 1]\n  ];\n  gps[piexif.GPSIFD.GPSVersionID] = [7, 7, 7, 7];\n  gps[piexif.GPSIFD.GPSDateStamp] = "1999:99:99 99:99:99";\n  var exifObj = { "0th": zeroth, "Exif": exif, "GPS": gps };\n  var exifbytes = piexif.dump(exifObj);\n  var inserted = piexif.insert(exifbytes, data);\n  return inserted;\n}\n\nfunction encryptoData(data, s) {\n\n  // convert data to base64\n  var database64 = btoa(JSON.stringify(data))\n\n\n  // var s = uuidv4();\n  // Encrypt\n  var ciphertext = CryptoJS.AES.encrypt(database64, s).toString();\n\n  // Decrypt\n  var bytes = CryptoJS.AES.decrypt(ciphertext, s);\n  var originalText = bytes.toString(CryptoJS.enc.Utf8);\n\n  //To decode base64 to actual json\n  var actual = JSON.parse(atob(originalText));\n  return ciphertext;\n}\n\nfunction uuidv4() {\n  return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0,\n      v = c == \'x\' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\nfunction b64EncodeUnicode(str) {\n  // first we use encodeURIComponent to get percent-encoded UTF-8,\n  // then we convert the percent encodings into raw bytes which\n  // can be fed into btoa.\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\n      function toSolidBytes(match, p1) {\n          return String.fromCharCode(\'0x\' + p1);\n  }));\n}\n\n\nfunction b64DecodeUnicode(str) {\n  // Going backwards: from bytestream, to percent-encoding, to original string.\n  return decodeURIComponent(atob(str).split(\'\').map(function(c) {\n    return \'%\' + (\'00\' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(\'\'));\n}\n\n\n\nfunction getNested(obj, ...args) {\n  return args.reduce((obj, level) => obj && obj[level], obj)\n}\n\nfunction checkNested(obj, args) {\n  for (var i = 0; i < args.length; i++) {\n    if (!obj || !obj.hasOwnProperty(args[i])) {\n      return false;\n    }\n    obj = obj[args[i]];\n  }\n  return true;\n}\n\nfunction getBase64(file) {\n  var b64file = \'\';\n  var reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = function() {\n    // console.log(reader.result);\n    b64file = b64toBlob(reader.result)\n  };\n  reader.onerror = function(error) {\n    console.log(\'Error: \', error);\n  };\n  return b64file;\n}\n\nfunction b64toBlob(dataURI) {\n  var byteString = atob(dataURI.split(\',\')[1]);\n  var ab = new ArrayBuffer(byteString.length);\n  var ia = new Uint8Array(ab);\n\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], { type: \'image/jpeg\' });\n}\n\nfunction CheckLocalStorageWritable() {\n  var mod = \'modernizr\';\n  try {\n    localStorage.setItem(mod, mod);\n    localStorage.removeItem(mod);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction syntaxHighlight(json) {\n  json = json.replace(/&/g, \'&amp;\').replace(/</g, \'&lt;\').replace(/>/g, \'&gt;\');\n  return json.replace(/("(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\"])*"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function(match) {\n    var cls = \'number\';\n    if (/^"/.test(match)) {\n      if (/:$/.test(match)) {\n        cls = \'key\';\n      } else {\n        cls = \'string\';\n      }\n    } else if (/true|false/.test(match)) {\n      cls = \'boolean\';\n    } else if (/null/.test(match)) {\n      cls = \'null\';\n    }\n    return \'<span class="\' + cls + \'">\' + match + \'</span>\';\n  });\n}\n\nfunction hiddenLoading() {\n  let loadingElement = document.getElementById("ekyc-loading");\n  let step1DemoEkyc = document.getElementById("step1-demo-ekyc");\n  if (loadingElement) {\n    loadingElement.style.display = "none";\n  }\n  step1DemoEkyc.parentNode.removeChild(step1DemoEkyc);\n}\n\nfunction showLoading() {\n  let loadingElement = document.getElementById("ekyc-loading");\n  if (loadingElement) {\n    loadingElement.style.display = "block";\n  }\n\n\n}\n\n\n\nfunction showCaptureFrame() {\n  var vnpt_ekyc = document.getElementById("vnpt_ekyc");\n  if (vnpt_ekyc) {\n    vnpt_ekyc.parentNode.removeChild(vnpt_ekyc);\n  }\n}\n\nvar cache = [];\n\nfunction genderTemplate(t, n) { var p = /\\W/.test(t) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push(\'" + t.replace(/[\\r\\t\\n]/g, " ").split("<%").join("\\t").replace(/((^|%>)[^\\t]*)\'/g, "$1\\r").replace(/\\t=(.*?)%>/g, "\',$1,\'").split("\\t").join("\');").split("%>").join("p.push(\'").split("\\r").join("\\\\\'") + "\');}return p.join(\'\');") : cache[t] = cache[t] || tmpl(document.getElementById(t).innerHTML); return n ? p(n) : p }\n\nfunction translate(varTags, language) {\n  language = language.toLowerCase();\n  const arr = [\'en\', \'vi\'];\n  if (!arr.includes(language)) language = \'vi\';\n  const jsonFile = __webpack_require__("./locales sync recursive ^\\\\.\\\\/.*\\\\.json$")(`./${language}.json`);\n  for (var i = 0; i < varTags.length; i++) {\n    try {\n      varTags[i].textContent = (\n        new Function(\'return this.\' + varTags[i].textContent.toLowerCase() + \';\')).call(jsonFile);\n    } catch (e) {\n      varTags[i].textContent = "";\n      // console.log("Error in <var/> Tag: " + e.message);\n    }\n  }\n}\n\nfunction dataURLtoFile(dataurl, filename) {\n\n  var arr = dataurl.split(\',\'),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new File([u8arr], filename, { type: mime });\n}\n\nconst onlyDrawImg = (elID) => {\n  let video = document.getElementById(elID);\n  let canvas = document.createElement("canvas");\n  let result = null;\n\n  canvas.width = video.videoWidth;\n  canvas.height = video.videoHeight;\n  canvas.getContext(\'2d\').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n  result = canvas.toDataURL(\'image/jpeg\');\n  \n  return result\n\n}\n\nconst styleString = (style) => {\n  return Object.entries(style).map(([k, v]) => `${k}:${v}`).join(\';\');\n}\n\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/ekycHelper.js?')},"./src/js/exposeResultSDK.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exposeResultSDK\", function() { return exposeResultSDK; });\nfunction exposeResultSDK(data) {\n\n  function getData() {\n    console.log('getResultSDK', data)\n  }\n\n  return getData;\n  \n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/exposeResultSDK.js?")},"./src/js/flow_type/apiModule.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadImage", function() { return uploadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livenessCardWeb", function() { return livenessCardWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livebessCardMobileV2", function() { return livebessCardMobileV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livenessCardMobile", function() { return livenessCardMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livenessFaceWeb", function() { return livenessFaceWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livenessFaceMobile", function() { return livenessFaceMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrOneSideWeb", function() { return ocrOneSideWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrOneSideMobile", function() { return ocrOneSideMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrFullSideWeb", function() { return ocrFullSideWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrFullSideMobile", function() { return ocrFullSideMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maskedFaceWeb", function() { return maskedFaceWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maskedFaceMobile", function() { return maskedFaceMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compareFaceWeb", function() { return compareFaceWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compareFaceMobile", function() { return compareFaceMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "liveness3DWeb", function() { return liveness3DWeb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compareFaceWebV2", function() { return compareFaceWebV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrFullSideWebV2", function() { return ocrFullSideWebV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrOneSideMobileV2", function() { return ocrOneSideMobileV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ocrFullSideMobileV2", function() { return ocrFullSideMobileV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "livenessFaceMobileV2", function() { return livenessFaceMobileV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "maskedFaceMobileV2", function() { return maskedFaceMobileV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compareFaceMobileV2", function() { return compareFaceMobileV2; });\n/* harmony import */ var _ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ekycHelper.js */ "./src/js/ekycHelper.js");\n\n\n// var BASE_URL_API = "https://api.idg.vnpt.vn/";\n// var BASE_URL_API = "https://explorer.idg.vnpt.vn/"\nvar BASE_URL_API = "https://sandbox-idg.vnpt.vn/"\n\n\nconst setHeader = (token, token_id, token_key) => {\n  let objHeader = {};\n  objHeader = {\n    "Content-Type": "application/json",\n    "Authorization": "Bearer " + token,\n    "Token-id": token_id,\n    "Token-key": token_key,\n    "mac-address": "WEB-001"\n  };\n  return objHeader;\n}\n\nfunction uploadImage(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "file-service/v1/addFile";\n    var formData = new FormData();\n    formData.append("file\t", data.file);\n    formData.append("title\t", "upload_file");\n    formData.append("description\t", "ic_upload_file");\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url, {},\n      formData,\n      (payload) => { successCallback(JSON.parse(payload), data) },\n      (error) => { errorCallback(error) },\n      configData\n    );\n  } catch (error) {\n    console.log(\'uploadImageErr\', error);\n  }\n}\n\nasync function livebessCardMobileV2(data, configData) {\n  let url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/card/liveness";\n  var jsonData = {\n    "img": data.currentHash,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n    "token": "ai/v1/web/card/liveness",\n    "crop_param": "0,0",\n  };\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors", \n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res )\n  .catch(error => error)\n  return response;\n}\n\n\n\nfunction livenessCardWeb(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/card/liveness";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.currentHash,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "ai/v2/web/card/liveness",\n      "optimizer": data.dataImage.optimizer,\n      "crop_param": "0,0",\n    };\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'livenessFrontCardWebErr\', error);\n  }\n}\n\nfunction livenessCardMobile(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/card/liveness";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.currentHash,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "ai/v1/web/card/liveness",\n      "crop_param": "0,0",\n    };\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'livenessFrontCardWebErr\', error);\n  }\n}\n\nfunction livenessFaceWeb(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/face/liveness";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.currentHash,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "sdk-web-e41-1b6d-45c9-9",\n      "optimizer": data.dataImage.optimizer\n    };\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'livenessFrontFaceWebErr\', error)\n\n  }\n}\n\nfunction livenessFaceMobile(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/liveness";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.hashFace,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "sdk-web-e41-1b6d-45c9-9",\n      // "optimizer": data.dataImage.optimizer\n    };\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'livenessFrontFaceWebErr\', error)\n\n  }\n}\n\n\nasync function livenessFaceMobileV2(data, configData) {\n  let url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/liveness";\n  var jsonData = {\n    "img": data.hashFace,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n    "token": "ai/v1/web/card/liveness",\n  };\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors",\n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res )\n  .catch(error => error)\n  return response;\n}\n\n\nfunction ocrOneSideWeb(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/ocr/id/front";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.currentHash,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "e41-1b6d-45c9-9",\n      "type": data.typeDocument,\n      "crop_param": "0,0",\n      "validate_postcode": true,\n      "optimizer": data.dataImage.optimizer\n    };\n\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'ocrOneSideWebErr\', error)\n  }\n\n}\n\n\n\nfunction ocrOneSideMobile(data, successCallback, errorCallback, configData) {\n  console.log("ocrOneSideMobile", data)\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/ocr/id/front";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.currentHash,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "e41-1b6d-45c9-9",\n      "type": data.typeDocument,\n      "crop_param": "0,0",\n      "validate_postcode": true,\n      // "optimizer": data.dataImage.optimizer\n    };\n\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'ocrOneSideWebErr\', error)\n  }\n\n}\n\nasync function ocrOneSideMobileV2(data, configData) {\n  var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/ocr/id/front";\n  var jsonData = {\n    "img_front": data.currentHash,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n    "token": "e41-1b6d-45c9-9",\n    "type": data.typeDocument,\n    "crop_param": "0,0",\n    "validate_postcode": true,\n  };\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors",\n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res )\n  .catch(error => error)\n  return response;\n}\n\nfunction ocrFullSideWeb(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/ocr/id";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hash0,\n      "img_back": data.dataHash.hash1,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "e41-1b6d-45c9-9",\n      "type": data.typeDocument,\n      "crop_param": "0,0",\n      "validate_postcode": true,\n      "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'ocrOneSideWebErr\', error)\n  }\n\n}\n\nfunction ocrFullSideMobile(data, successCallback, errorCallback, configData) {\n  console.log("ocrFullSideMobile", data)\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/ocr/id";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hash0,\n      "img_back": data.dataHash.hash1,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "e41-1b6d-45c9-9",\n      "type": data.typeDocument,\n      "crop_param": "0,0",\n      "validate_postcode": true,\n      // "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'ocrOneSideWebErr\', error)\n  }\n\n}\n\nasync function ocrFullSideMobileV2(data, configData) {\n  var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/ocr/id";\n  var jsonData = {\n    "img_front": data.dataHash.hash0,\n    "img_back": data.dataHash.hash1,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n    "token": "e41-1b6d-45c9-9",\n    "type": data.typeDocument,\n    "crop_param": "0,0",\n    "validate_postcode": true,\n  }\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors",\n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res)\n  .catch(error => error)\n  return response;\n}\n\n\nfunction ocrFullSideWebV2(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/ocr/id";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hashFront,\n      "img_back": data.dataHash.hashBack,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "e41-1b6d-45c9-9",\n      "type": data.typeDocument,\n      "crop_param": "0,0",\n      "validate_postcode": true,\n      "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'ocrOneSideWebErr\', error)\n  }\n\n}\n\n\n\nfunction maskedFaceWeb(data, successCallback, errorCallback, configData) {\n  try {\n    console.log(\'maskedFaceWeb\', data)\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/face/mask";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.dataHash.hashFace,\n      "face_bbox": null,\n      "face_lmark": null,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n\n      },\n      (error) => {\n        errorCallback(error);\n\n\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'maskedFaceWebErr\', error)\n  }\n\n}\n\nfunction maskedFaceMobile(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/mask";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img": data.hashFace,\n      "face_bbox": null,\n      "face_lmark": null,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      // "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n\n      },\n      (error) => {\n        errorCallback(error);\n\n\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'maskedFaceWebErr\', error)\n  }\n\n}\n\nasync function maskedFaceMobileV2(data, configData) {\n  var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/mask";\n  var jsonData = {\n    "img": data.hashFace,\n    "face_bbox": null,\n    "face_lmark": null,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n  }\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors",\n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res )\n  .catch(error => error)\n  return response;\n}\n\nfunction compareFaceWeb(data, successCallback, errorCallback, configData) {\n  try {\n    console.log(\'compareFaceWeb\', data)\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/face/compare";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hashFront,\n      "img_face": data.dataHash.hashFace,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "abc",\n      "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'compareFaceWebErr\', error)\n  }\n\n}\n\nfunction compareFaceMobile(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/compare";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hashFront,\n      "img_face": data.dataHash.hashFace,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "/ai/v1/web/face/compare",\n      // "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'compareFaceWebErr\', error)\n  }\n\n}\n\n\nasync function compareFaceMobileV2(data, configData) {\n  var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/compare";\n  var jsonData = {\n    "img_front": data.hashFront,\n    "img_face": data.hashFace,\n    "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n    "token": "/ai/v1/web/face/compare",\n  }\n  var token = configData.AUTHORIZION;\n  var token_id = configData.TOKEN_ID;\n  var token_key = configData.TOKEN_KEY;\n  const response = await fetch(url,{\n    method: "POST",\n    mode: "cors",\n    credentials: "same-origin",\n    headers: setHeader(token, token_id, token_key),\n    body: JSON.stringify(jsonData)\n  }).then(res => res.json())\n  .then(res => res )\n  .catch(error => error)\n  return response;\n}\n\n\n\nfunction compareFaceWebV2(data, successCallback, errorCallback, configData, typeDocument) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v2/web/face/compare";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "img_front": data.dataHash.hashFront,\n      "img_face": data.dataHash.hashFace,\n      "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n      "token": "abc",\n      "optimizer": data.dataImage.optimizer\n    }\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n    console.log(\'compareFaceWebErr\', error)\n  }\n\n}\n\n\n\nfunction liveness3DWeb(data, successCallback, errorCallback, configData) {\n  try {\n    var url = (configData.BACKEND_URL.length > 0 ? configData.BACKEND_URL : BASE_URL_API) + "ai/v1/web/face/liveness-3d";\n    var header = { key: "Content-Type", value: "application/json" };\n    var jsonData = {\n      "far_img": data.far_img,\n      "near_img": data.near_img,\n      // "scan3d": "20210112-1f2d4bb2-6cd4-11ea-a8e2-77dd23bcf353/IDG01_a99a7e80-5485-11eb-9be0-a77d0f4705bc",\n      "scan3d": data.scan3d,\n      "token": "sdk-web-e41-1b6d-45c9-9",\n      "client_session": "web-ic-vnpt",\n      // "optimizer": data.dataImage.optimizer\n    };\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["httpPOST"])(\n      url,\n      header,\n      JSON.stringify(jsonData),\n      (payload) => {\n        successCallback(JSON.parse(payload))\n      },\n      (error) => {\n        errorCallback(error);\n      },\n      configData\n    );\n  } catch (error) {\n\n  }\n}\n\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/apiModule.js?')},"./src/js/flow_type/faceV2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FaceV2", function() { return FaceV2; });\n/* harmony import */ var _webcamModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webcamModule.js */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _apiModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ekycHelper.js */ "./src/js/ekycHelper.js");\n/* harmony import */ var _templates_loadingComponent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/loadingComponent.js */ "./src/templates/loadingComponent.js");\n\n\n\n\n\n\n\nfunction FaceV2(type_document, init_data, cb_result, call_after_end_flow) {\n  var animation = null;\n  var caution = null;\n  var parent = document.getElementById("vnpt_ekyc");\n  var streamVideo = [];\n\n  var content =\n    "<div class=\'step1-demo-ekyc\' id=\'step1-demo-ekyc\'>" +\n    "<div class=\'header-title\'id=\'header-title\' style=\'color: " + init_data.OTHER_CONFIG.oval_title_color + "\'><var>FACE.PORTRAIT</var></div>" +\n    (Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["genderInputPhotoV2"])(init_data, manageStream)) +\n    (Object(_templates_loadingComponent_js__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)) +\n    "</div>";\n\n  var object_local = {\n    type_document: type_document\n  };\n  var image_base64 = {};\n  var oval_web_ani = init_data.OTHER_CONFIG.oval_web;\n  var oval_mobile_ani = init_data.OTHER_CONFIG.oval_mobile;\n  var notice_ani = init_data.OTHER_CONFIG.notice_ani;\n  var loadingElement = document.getElementById("ekyc-loading");\n\n\n  const drawWebcam = async () => {\n    parent.insertAdjacentHTML(\'beforeend\', content);\n    const root = document.getElementById(\'step1-demo-ekyc\');\n    const varTags = root.getElementsByTagName("var");\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n  }\n\n\n\n  const animationControll = async () => {\n    var windowWidth = window.screen.width < window.outerWidth ? window.screen.width : window.outerWidth;\n    if (windowWidth < 1024) {\n      animation = bodymovin.loadAnimation({\n        container: document.getElementById(\'animation\'),\n        path: oval_mobile_ani, // Required\n        renderer: \'svg\', // Required\n        loop: false, // Optional\n        autoplay: false, // Optional\n        name: "oval", // Name for future reference. Optional.\n        rendererSettings: {\n          progressiveLoad: true\n        }\n      })\n    } else {\n      // document.getElementById("video").style.width = \'640px\';\n      // document.getElementById("video").style.height = \'360px\';\n      animation = bodymovin.loadAnimation({\n        container: document.getElementById(\'animation\'),\n        path: oval_mobile_ani, // Required\n        renderer: \'svg\', // Required\n        loop: false, // Optional\n        autoplay: false, // Optional\n        name: "oval", // Name for future reference. Optional.\n      })\n    }\n    caution = bodymovin.loadAnimation({\n      container: document.getElementById(\'notice-ani\'),\n      path: notice_ani, // Required\n      renderer: \'svg\', // Required\n      loop: true, // Optional\n      autoplay: true, // Optional\n      name: "caution", // Name for future reference. Optional.\n    })\n    // animation.playSegments([0, 100], true)\n    // animation.playSegments([0, 100], true)\n    // animation.setSpeed(0.5);\n  }\n\n  async function drawImageOVal(thresholdX, thresholdY) {\n    return new Promise(function (resolve) {\n      var video = document.getElementById("video");\n      var canvas = document.createElement("canvas");\n      if (video) {\n        canvas.width = video.videoWidth * thresholdX;\n        canvas.height = video.videoHeight * thresholdY;\n        var img = new Image();\n        img.crossOrigin = "anonymous";\n        let sx = ((1 - thresholdX) / 2) * video.videoWidth;\n        let sy = ((1 - thresholdY) / 2) * video.videoHeight;\n        let sw = video.videoWidth * thresholdX;\n        let sh = video.videoHeight;\n        let dx = 0;\n        let dy = 0;\n        let dw = video.videoWidth * thresholdX;\n        let dh = video.videoHeight;\n        if (sw < 0) {\n          sx += sw;\n          sw = Math.abs(sw);\n        }\n        if (sh < 0) {\n          sy += sh;\n          sh = Math.abs(sh);\n        }\n        if (dw < 0) {\n          dx += dw;\n          dw = Math.abs(dw);\n        }\n        if (dh < 0) {\n          dy += dh;\n          dh = Math.abs(dh);\n        }\n        const x1 = Math.max(sx, 0);\n        const x2 = Math.min(sx + sw, video.videoWidth);\n        const y1 = Math.max(sy, 0);\n        const y2 = Math.min(sy + sh, video.videoHeight);\n        const w_ratio = dw / sw;\n        const h_ratio = dh / sh;\n        canvas.getContext(\'2d\').drawImage(\n          video,\n          x1,\n          y1,\n          x2 - x1,\n          y2 - y1,\n          sx < 0 ? dx - (sx * w_ratio) : dx,\n          sy < 0 ? dy - (sy * h_ratio) : dy,\n          (x2 - x1) * w_ratio,\n          (y2 - y1) * h_ratio\n        );\n        // img.src = canvas.toDataURL("image/png");\n        // img.width = canvas.width;\n        // img.height = canvas.height;\n        // outPut.src = canvas.toDataURL("image/png");\n        // let wrapper = document.getElementById("wrapper-oval");\n        // let animation = document.getElementById("animation");\n        // outPut2.innerHTML = `${wrapper.offsetWidth + "-" + animation.offsetWidth}`;\n\n        resolve(canvas);\n      }\n\n    });\n  }\n\n\n  var isRun = true;\n  var validCount = 0;\n  var STABLE_FACE_NUM = 2;\n  var stateAnimation = "FAR";\n\n  var hash_liveness_3d = {\n    far_img: null,\n    near_img: null\n  }\n  async function process() {\n    // debugger;\n    var MESSAGE_FACE = {\n      FIT: "FIT",\n      TO_THE_RIGHT: "TO_THE_RIGHT",\n      TO_THE_LEFT: "TO_THE_LEFT",\n      TO_THE_BOTTOM: "TO_THE_BOTTOM",\n      TO_THE_TOP: "TO_THE_TOP",\n      NOT_STRAIGHT: "NOT_STRAIGHT",\n      TOO_FAR: "TOO_FAR",\n      TOO_NEAR: "TOO_NEAR",\n      INVALID: "INVALID",\n      NO_FACE: "NO_FACE",\n      TIME_EXCEED: "TIME_EXCEED"\n    };\n    var default_status = init_data.LANGUAGE == "vi" ? "Đảm bảo khuôn mặt vừa khung hình" : "Make sure the face fits in the frame"\n    var error_status = init_data.LANGUAGE == "vi" ? "Có lỗi xảy tra trong quá trình liveness" : "An error occurred during liveness"\n    var MESSAGE_NOTICE = {\n      FIT: (init_data.LANGUAGE == "vi" ? "Giữ vững khuôn mặt" : "Keep your face steady"),\n      TO_THE_RIGHT: default_status,\n      TO_THE_LEFT: default_status,\n      TO_THE_BOTTOM: default_status,\n      TO_THE_TOP: default_status,\n      NOT_STRAIGHT: default_status,\n      TOO_FAR: (init_data.LANGUAGE == "vi" ? "Gần hơn nữa" : "A little closer"),\n      TOO_NEAR: (init_data.LANGUAGE == "vi" ? "Xa hơn nữa" : "A little further"),\n      INVALID: default_status,\n      NO_FACE: default_status,\n      TIME_EXCEED: error_status,\n      "Library not loaded": error_status,\n      "Image format error": default_status,\n    }\n\n\n    if (isRun) {\n      let imgD = null;\n      let windowWidth = window.screen.width < window.outerWidth ? window.screen.width : window.outerWidth;\n      let response = null;\n      var percent_temp = 0;\n      if (stateAnimation == "FAR") {\n        percent_temp = 0.6 * 1.5 * 0.75;\n        imgD = await drawImageOVal(percent_temp, 0.6);\n      }\n      if (stateAnimation == "NEAR") {\n        percent_temp = 1.8 * 0.75;\n        imgD = await drawImageOVal(percent_temp, 1)\n      }\n      response = await (FaceVNPTBrowserSDK.processFace(imgD, 2));\n      // if (windowWidth < 1024) {\n      //   if (stateAnimation == "FAR") {\n      //     percent_temp = 0.6 * 1.5 * 0.75;\n      //     imgD = await drawImageOVal(percent_temp, 0.6);\n      //   }\n      //   if (stateAnimation == "NEAR") {\n      //     percent_temp = 1.8 * 0.75;\n      //     imgD = await drawImageOVal(percent_temp, 1)\n      //   }\n      //   response = await (FaceVNPTBrowserSDK.processFace(imgD, 2));\n      // } else {\n      //   if (stateAnimation == "FAR") {\n      //     imgD = await drawImageOVal(0.4, 0.65);\n      //   }\n      //   if (stateAnimation == "NEAR") {\n      //     imgD = await drawImageOVal(0.5, 1);\n\n      //   }\n      //   response = await (FaceVNPTBrowserSDK.processFace(imgD, 1));\n      // }\n\n\n\n      // console.log("Response : ", response);\n      document.getElementById("notice-face").innerHTML = MESSAGE_NOTICE[response];\n      // document.getElementById("notice-face").innerHTML = response;\n\n      setTimeout(() => {\n        requestAnimationFrame(process);\n      }, 350);\n\n\n      if (response === MESSAGE_FACE.FIT) {\n        validCount++;\n\n      } else {\n        if (response === MESSAGE_FACE.TIME_EXCEED) {\n          Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n          FaceVNPTBrowserSDK.free();\n          setTimeout(function () {\n            Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n            Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n            object_local[\'liveness_face\'] = { object: {}, message: "liveness face error by TIME_EXCEED" };\n            cb_result(object_local);\n            if (call_after_end_flow) {\n              call_after_end_flow(object_local);\n            }\n          }, 2000);\n        } else {\n          validCount = 0;\n\n        }\n      }\n\n\n      if (validCount > STABLE_FACE_NUM && stateAnimation === "FAR") {\n        FaceVNPTBrowserSDK.notifyCapture();\n        animation.playSegments([0, 100], true);\n        validCount = 0;\n        stateAnimation = "NEAR";\n        isRun = false;\n        let far_img = await drawImageOVal(1, 1);\n\n        let data = { file: Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(far_img.toDataURL()) }\n        image_base64["img_face_far"] = far_img.toDataURL();\n        object_local["base64_face_img"] = image_base64;\n\n        function uploadFarImgSuccess(res) {\n          hash_liveness_3d["far_img"] = res.object.hash;\n          if (init_data.COMPARE_FACE) {\n            let dataHash = {};\n            let data = {};\n            dataHash["hashFront"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n            dataHash["hashFace"] = res.object.hash;\n            data["dataHash"] = dataHash;\n            Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["compareFaceMobile"])(data, (res) => { object_local["compare"] = res }, (error) => { object_local["compare"] = JSON.parse(error) }, init_data)\n          }\n          if (init_data.CHECK_MASKED_FACE) {\n            let data = {};\n            data["hashFace"] = res.object.hash;\n            Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["maskedFaceMobile"])(data, (res) => { object_local["masked"] = res }, (error) => { object_local["masked"] = JSON.parse(error) }, init_data)\n          }\n          // console.log(\'uploadFarImgSuccess\', hash_liveness_3d)\n        }\n        Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(\n          data,\n          uploadFarImgSuccess,\n          (err) => { console.log(\'loi upload file img_far\', err) },\n          init_data\n        )\n        setTimeout(() => {\n          isRun = true;\n          process();\n        }, 3000);\n      }\n\n\n      if (validCount > STABLE_FACE_NUM && stateAnimation === "NEAR") {\n        FaceVNPTBrowserSDK.notifyCapture();\n        let maks3D = FaceVNPTBrowserSDK.getResult();\n        let file3D = new Blob([maks3D], { type: "text" });\n        let dataFile = { file: file3D }\n\n        FaceVNPTBrowserSDK.free();\n        isRun = false;\n        animation.playSegments([120, 180], true);\n        let img_near = await drawImageOVal(1, 1);\n        let dataSend = Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["captureBtnV2"])(img_near.width, img_near.height, img_near.toDataURL("image/jpeg"))\n        image_base64["img_face_near"] = img_near.toDataURL();\n        object_local["base64_face_img"] = image_base64;\n        Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n        //upload file 3dmask\n        Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(\n          dataFile,\n          (mask3dRes) => {\n            function uploadNearImgSuccess(res) {\n              hash_liveness_3d["near_img"] = res.object.hash;\n              hash_liveness_3d["scan3d"] = mask3dRes.object.hash\n              if (init_data.CHECK_LIVENESS_FACE) {\n                Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["liveness3DWeb"])(hash_liveness_3d, liveness3DWebSuccess, liveness3DWebError, init_data)\n              } else {\n                setTimeout(function () {\n                  Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n                  Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n                  cb_result(object_local);\n                  if (call_after_end_flow) {\n                    call_after_end_flow(object_local);\n                  }\n                }, 2000);\n              }\n            }\n\n            Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(\n              dataSend,\n              uploadNearImgSuccess,\n              (err) => {\n                Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n                console.log(\'loi upload file img_near\', err)\n              },\n              init_data\n            )\n          },\n          (err) => {\n            console.log(\'loi upload file 3dmask\', err)\n          },\n          init_data\n        )\n\n        function liveness3DWebSuccess(res) {\n          setTimeout(function () {\n            Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n            Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n            object_local[\'liveness_face\'] = res;\n            cb_result(object_local);\n            if (call_after_end_flow) {\n              call_after_end_flow(object_local);\n            }\n          }, 2000);\n        }\n\n        function liveness3DWebError(err) {\n          setTimeout(function () {\n            Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n            Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n            object_local[\'liveness_face\'] = JSON.parse(err);\n            cb_result(object_local);\n            if (call_after_end_flow) {\n              call_after_end_flow(object_local);\n            }\n          }, 2000);\n        }\n      }\n    }\n  }\n\n  const initial = async () => {\n    await drawWebcam();\n    await animationControll();\n    // await FaceVNPTBrowserSDK.init();\n    await process();\n  }\n\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream)\n    }\n  }\n\n\n  initial();\n\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/faceV2.js?')},"./src/js/flow_type/front.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Front", function() { return Front; });\n/* harmony import */ var _webcamModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webcamModule.js */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _apiModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ekycHelper.js */ "./src/js/ekycHelper.js");\n\n\n\n\n\n\nfunction Front(type_document, init_data, cb_result, call_after_end_flow) {\n  var baseCDN = "https://ekyc-web.vnpt.vn";\n  var parent = document.getElementById("vnpt_ekyc");\n  var content =\n    "<div class=\'step1-demo-ekyc front_ekyc\' id=\'step1-demo-ekyc\'>" +\n    "<ul class=\'progressbar\' id=\'progressbar\'>" +\n    "<div id=\'header-title\' class=\'header-title\'><var>FRONT.FRONT</var></div>" +\n    "</ul>" +\n    (showButtonHelp()) +\n    (Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["genderInputPhoto"])(init_data.USE_WEBCAM, init_data.USE_UPLOAD, manageStream)) +\n    (Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["genderDescription"])("DOCUMENT", init_data.USE_WEBCAM, init_data.USE_UPLOAD)) +\n    (Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["genderButtonCapture"])(init_data.USE_WEBCAM, init_data.USE_UPLOAD)) +\n\n    "<div class=\'step1-after-capture\' id=\'step1-after-capture\'>" +\n    "<div class=\'re-capture\' id=\'step1-re-capture\'>" +\n    "<img id=\'step1-re-capture-icon\' class=\'camera-icon\' src=\'" + baseCDN + "/images/capture_icon_b.png\'></img>" +\n    "<span id=\'step1-re-capture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n    "</div>" +\n    "<div class=\'next-step\' id=\'step1-next-step\'>" +\n    "<img id=\'step1-next-step-icon\' class=\'next-icon\' src=\'" + baseCDN + "/images/next_icon_b.png\'></img>" +\n    "<span id=\'step1-next-step-title\'><var>FACE.NEXT</var></span>" +\n    "</div>" +\n    "</div>" +\n\n    "<div class=\'ekyc-popup\' id=\'ekyc-popup-1\'>" +\n    "<div class=\'pu-header\'>" +\n    "<img class=\'close-btn\' id=\'close-pop-1\' width=\'32px\' height=\'32px\' src=\'" + baseCDN + "/images/remove_icon.png\' />" +\n    "<div class=\'icons\'>" +\n    "<img class=\'main-icons\' src=\'" + baseCDN + "/images/touch_cmt.png\' />" +\n    "</div>" +\n    "<div class=\'content\' id=\'header-title-pop\'>" +\n    "<var>FRONT.GUIDE_1</var>" +\n    "</div>" +\n    "</div>" +\n    "<div class=\'pu-body\'>" +\n    "<ul>" +\n    "<li>" +\n    "<var>FRONT.GUIDE_2</var>" +\n    "</li>" +\n    "<li>" +\n    "<var>FRONT.GUIDE_3</var>" +\n    "</li>" +\n    "</ul>" +\n    "</div>" +\n    "<div class=\'pu-footer\'>" +\n    "<div class=\'text-center\'><img class=\'main-icons\' src=\'" + baseCDN + "/img/notice_1.png\'/><p><var>NOTICE.NOTICE_1</var></p></div>" +\n    "<div class=\'text-center\'><img class=\'main-icons\' src=\'" + baseCDN + "/img/notice_2.png\'/><p><var>NOTICE.NOTICE_2</var></p></div>" +\n    "<div class=\'text-center\'><img class=\'main-icons\' src=\'" + baseCDN + "/img/notice_3.png\'/><p><var>NOTICE.NOTICE_3</var></p></div>" +\n    "</div>" +\n    "</div>" +\n\n    "<div id=\'dropZone\' class=\'id-card\'>" +\n    "<div class=\'capture-btn-wrapper\'>" +\n    "<img id=\'img-capture-mobile\' class=\'img-capture-mobile\' src=\'" + baseCDN + "/images/capure_mobile.png\'></img>" +\n    "<input id=\'fileInputMobile\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n    "<div id=\'title-capture-mobile\' class=\'title-capture-mobile\'><var>FACE.TOUCH</var></div>" +\n    "</div>" +\n    "</div>" +\n\n    "<div class=\'preview\' id=\'previewZone\'>" +\n    "<img id=\'preview-img\' src=\'\' alt=\'preview\' />" +\n    "</div>" +\n    "<div class=\'ekyc_description\' id=\'ekyc_description_mobile1\' >" +\n    "<span><var>FACE.PLEASE</var></span>" +\n    "<br/>" +\n    "<span><var>FACE.GUIDE_5</var></span>" +\n    "<br/>" +\n    "<span> <var>FACE.GUIDE_6</var></span>" +\n    "</div>" +\n    "<div class=\'ekyc_description\' id=\'ekyc_description_mobile2\'>" +\n    "<span><var>FACE.PLEASE</var></span>" +\n    "<br/>" +\n    "<span><var>FACE.GUIDE_7</var> </span>" +\n    "<br/>" +\n    "<span><var>FACE.GUIDE_8</var></span>" +\n    "</div>" +\n    "<div class=\'mobile-after-capture\' id=\'mobile-after-capture\'>" +\n    "<div class=\'upload-btn-wrapper\'>" +\n    "<button class=\'btn-active\' id=\'mobile-recapture\'>" +\n    "<img id=\'mobile-recapture-icon\' class=\'camera-icon\' src=\'" + baseCDN + "/images/capture_icon_b.png\'></img>" +\n    "<span id=\'mobile-recapture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n    "</button>" +\n    "<input id=\'fileInputMobile1\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n    "</div>" +\n    "<div class=\'next-step\' id=\'upload-next-step\'>" +\n    "<img id=\'upload-next-step-icon\' class=\'next-icon\' src=\'" + baseCDN + "/images/next_icon_b.png\'></img>" +\n    "<span id=\'upload-next-step-title\'><var>FACE.NEXT</var></span>" +\n    "</div>" +\n    "<div class=\'next-step\' id=\'mobile-next-step\'>" +\n    "<img id=\'mobile-next-step-icon\' class=\'next-icon\' src=\'" + baseCDN + "/images/next_icon_b.png\'></img>" +\n    "<span id=\'mobile-next-step-title\'><var>FACE.NEXT</var></span>" +\n    "</div>" +\n    "</div>" +\n    "<div class=\'tutorial-mobile\'><a id=\'tutorial-mobile\'><var>FACE.GUIDE</var></a></div>" +\n    "</div>";\n  parent.insertAdjacentHTML(\'beforeend\', content);\n  var video_block = document.getElementById("video-block");\n  var tutorial_btn = document.getElementById("tutorial_btn");\n  var take_picture_step1 = document.getElementById("take-picture-step1");\n  var take_picture_step1_title = document.getElementById("take-picture-step1-title");\n  var take_picture_step1_img = document.getElementById("take-picture-step1-img");\n  var ekyc_description = document.getElementById("ekyc_description");\n  var ekyc_description2 = document.getElementById("ekyc_description2");\n  var webcame_zone = document.getElementById("webcame-zone");\n  var upload_file_btn = document.getElementById("upload-file-btn");\n  var drop_zone_web = document.getElementById("dropZoneWeb");\n  var object_local = {\n    type_document: type_document\n  };\n  var image_base64 = {};\n  var streamVideo = [];\n\n  function showButtonHelp() {\n    var html = \'\';\n    if (init_data.SHOW_HELP) {\n      html = "<img id=\'tutorial_btn\' class=\'tutorial_btn\' src=\'" + baseCDN + "/images/tutorial_btn.png\'></img>";\n    }\n    return html;\n  }\n\n  function initTheme() {\n\n    var after_capture = document.getElementById("step1-after-capture");\n    after_capture.style.display = \'none\';\n\n\n    ekyc_description ? ekyc_description.style.display = \'none\' : null;\n\n    webcame_zone ? webcame_zone.style.display = \'none\' : null;\n\n    ekyc_description2 ? ekyc_description2.style.display = \'none\' : null;\n\n    take_picture_step1 ? take_picture_step1.style.display = \'none\' : null;\n\n    //for mobile\n    document.getElementById("dropZone").style.display = "none";\n    document.getElementById("ekyc_description_mobile1").style.display = "none";\n    document.getElementById("tutorial-mobile").style.display = "none";\n\n\n    /**check data custom style */\n    if (!Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["isEmpty"])(init_data.CAPTURE_IMAGE_STYLE)) {\n      document.getElementById("ekyc_sdk_intergrated").style.background = init_data.LIST_CHOOSE_STYLE.background;\n      // document.getElementById("header-title").style.color = "#111127";\n      document.getElementById("ekyc-popup-1").style.boxShadow = init_data.CAPTURE_IMAGE_STYLE.popup1_box_shadow;\n      document.getElementById("header-title-pop").style.color = init_data.CAPTURE_IMAGE_STYLE.popup1_title_color;\n      ekyc_description ? ekyc_description.style.color = init_data.CAPTURE_IMAGE_STYLE.description1_color : null;\n      take_picture_step1 ? take_picture_step1.style.background = init_data.CAPTURE_IMAGE_STYLE.capture_btn_background : null;\n      take_picture_step1_title ? take_picture_step1_title.style.color = init_data.CAPTURE_IMAGE_STYLE.capture_btn_color : null;\n      take_picture_step1_img ? take_picture_step1_img.src = init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon : null;\n      tutorial_btn ? tutorial_btn.src = init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon : null;\n      document.getElementById("step1-re-capture").style.background = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_background;\n      document.getElementById("step1-re-capture").style.border = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_border;\n      document.getElementById("step1-re-capture-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n      document.getElementById("step1-re-capture-title").style.color = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_color;\n      document.getElementById("step1-next-step-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n      document.getElementById("step1-next-step-title").style.color = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color;\n      document.getElementById("step1-next-step").style.background = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background;\n      upload_file_btn ? upload_file_btn.style.background = "linear-gradient(rgb(253, 253, 253) 0%, rgb(222, 222, 222) 100%)" : null;\n    }\n    if (!Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["isEmpty"])(init_data.MOBILE_STYLE)) {\n      // document.getElementById("ekyc_description_mobile1").style.color = "black";\n      // document.getElementById("ekyc_description_mobile2").style.color = "black";\n      document.getElementById("img-capture-mobile").src = init_data.MOBILE_STYLE.mobile_capture_btn;\n      document.getElementById("title-capture-mobile").style.color = init_data.MOBILE_STYLE.mobile_capture_desc_color;\n      document.getElementById("tutorial-mobile").style.color = init_data.MOBILE_STYLE.mobile_tutorial_color;\n      document.getElementById("mobile-recapture").style.background = init_data.MOBILE_STYLE.mobile_recapture_btn_background;\n      document.getElementById("mobile-recapture").style.border = init_data.MOBILE_STYLE.mobile_recapture_btn_border;\n      document.getElementById("mobile-recapture-icon").src = init_data.MOBILE_STYLE.mobile_recapture_btn_icon;\n      document.getElementById("mobile-recapture-title").style.color = init_data.MOBILE_STYLE.mobile_recapture_btn_color;\n      document.getElementById("mobile-next-step").style.background = init_data.MOBILE_STYLE.mobile_nextstep_btn_background;\n      document.getElementById("mobile-next-step-icon").src = init_data.MOBILE_STYLE.mobile_nextstep_btn_icon;\n      document.getElementById("mobile-next-step-title").style.color = init_data.MOBILE_STYLE.mobile_nextstep_btn_color;\n\n    }\n    /**check data modal help */\n    if (!init_data.SHOW_HELP) {\n      var windowWidth = window.screen.width < window.outerWidth ?\n        window.screen.width : window.outerWidth;\n      if (windowWidth <= 1024) {\n        document.getElementById("ekyc-popup-1").style.display = "none";\n        document.getElementById("dropZone").style.display = "block";\n        document.getElementById("ekyc_description_mobile1").style.display = "block";\n        document.getElementById("tutorial-mobile").style.display = "block";\n        ekyc_description ? ekyc_description.style.display = "none" : null;\n        drop_zone_web ? drop_zone_web.style.display = "none" : null;\n\n      } else {\n        drop_zone_web ? drop_zone_web.style.display = "block" : null;\n\n        webcame_zone ? webcame_zone.style.display = \'block\' : null;\n\n        var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n        ekyc_popup_1.style.display = \'none\';\n\n        take_picture_step1 ? take_picture_step1.style.display = \'flex\' : null;\n\n        ekyc_description ? ekyc_description.style.display = \'block\' : null;\n\n        tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n\n      }\n    } else {\n      drop_zone_web ? drop_zone_web.style.display = "none" : null;\n\n    }\n\n\n  }\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream);\n    }\n  }\n\n  function uploadFileSuccess(res, dataImage) {\n    var data = {};\n    data[\'currentHash\'] = res.object.hash;\n    data[\'dataImage\'] = dataImage;\n    data[\'typeDocument\'] = type_document;\n    object_local[\'data_hash_document\'] = { hash0: res.object.hash };\n\n    if (init_data.CHECK_LIVENESS_CARD) { Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["livenessCardWeb"])(data, livenessCardWebSuccess, livenessCardWebFail, init_data) };\n    Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideWeb"])(data, ocrOneSideWebSuccess, ocrOneSideWebFail, init_data);\n    hiddenLoadingAndShowCapturePage();\n\n  }\n\n  function uploadFileFail(err) {\n    console.log(\'uploadFileFail\', err);\n    hiddenLoadingAndShowCapturePage();\n\n  }\n\n  function hiddenLoadingAndShowCapturePage() {\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n    document.getElementById(\'step1-demo-ekyc\').style.display = \'block\';\n  }\n\n  function mobileUploadFileSuccess(res, dataImage) {\n    var data = {};\n    data[\'currentHash\'] = res.object.hash;\n    data[\'dataImage\'] = dataImage;\n    data[\'typeDocument\'] = type_document;\n    object_local[\'data_hash_document\'] = { hash0: res.object.hash };\n    if (init_data.CHECK_LIVENESS_CARD) {\n      Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["livenessCardMobile"])(data, livenessCardMobileSuccess, livenessCardMobileFail, init_data)\n    } else {\n      hiddenLoadingAndShowCapturePage();\n    };\n    Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideMobile"])(data, ocrOneSideMobileSuccess, ocrOneSideMobileFail, init_data);\n\n  }\n\n  function mobileUploadFileFail(err) {\n    console.log(\'mobileUploadFileFail\', err);\n    hiddenLoadingAndShowCapturePage();\n  }\n\n  function livenessCardMobileSuccess(res) {\n    object_local[\'liveness_card_front\'] = res;\n    hiddenLoadingAndShowCapturePage();\n  }\n\n  function livenessCardMobileFail(err) {\n    object_local[\'liveness_card_front\'] = JSON.parse(err);\n    hiddenLoadingAndShowCapturePage();\n  }\n\n  function livenessCardWebSuccess(res) {\n    object_local[\'liveness_card_front\'] = res;\n\n  }\n\n  function livenessCardWebFail(err) {\n    object_local[\'liveness_card_front\'] = JSON.parse(err);\n  }\n\n  function ocrOneSideMobileSuccess(res) {\n    object_local[\'ocr\'] = res;\n\n  }\n\n  function ocrOneSideWebSuccess(res) {\n    object_local[\'ocr\'] = res;\n\n  }\n\n  function ocrOneSideMobileFail(err) {\n    object_local[\'ocr\'] = JSON.parse(err);\n\n  }\n\n  function ocrOneSideWebFail(err) {\n    object_local[\'ocr\'] = JSON.parse(err);\n\n  }\n\n\n  function removeAndReAddComponent() {\n    let canvas_border = document.getElementById(\'canvas-border\');\n    let html = "";\n    canvas_border.remove();\n    html = "<div id=\'canvas-border\'>" +\n      "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n      "</div>";\n    webcame_zone ? webcame_zone.insertAdjacentHTML(\'beforeend\', html) : null;\n    document.getElementById("canvas-border").style.display = "none";\n  }\n\n  function hiddenWebcamzone() {\n    webcame_zone ? webcame_zone.style.display = \'none\' : null;\n\n    take_picture_step1 ? take_picture_step1.style.display = \'none\' : null;\n\n    ekyc_description ? ekyc_description.style.display = \'none\' : null;\n\n    tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n  }\n\n  /**capture image function */\n  if (take_picture_step1) {\n    take_picture_step1.addEventListener("click", function () {\n      var data_image = Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["captureBtn"])();\n      var canvas_border = document.getElementById(\'canvas-border\');\n      tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n      canvas.style.display = \'block\';\n      canvas_border.style.display = \'block\';\n      video_block.style.display = \'none\';\n      this.style.display = \'none\';\n      document.getElementById("step1-after-capture").style.display = \'flex\';\n      Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n      image_base64["img_front"] = data_image["image_base64"];\n      object_local["base64_doc_img"] = image_base64;\n      Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n\n    })\n  }\n\n\n\n  /**recapture image function */\n  document.getElementById("step1-re-capture").addEventListener("click", function () {\n    document.getElementById(\'step1-after-capture\').style.display = \'none\';\n    video_block.style.display = \'block\';\n    take_picture_step1.style.display = \'flex\';\n    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n    removeAndReAddComponent();\n  })\n\n  /**next step function */\n  document.getElementById("step1-next-step").addEventListener("click", function () {\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n    Object(_webcamModule_js__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n    setTimeout(function () {\n      Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n      cb_result(object_local);\n      localStorage.setItem("dat_doc", JSON.stringify(object_local.data_hash_document));\n      if (call_after_end_flow) {\n        call_after_end_flow(object_local);\n      }\n    }, 3000);\n\n  })\n\n  /**close popup */\n  document.getElementById("close-pop-1").onclick = function () {\n\n    var windowWidth = window.screen.width < window.outerWidth ?\n      window.screen.width : window.outerWidth;\n    if (windowWidth <= 1024) {\n      document.getElementById("ekyc-popup-1").style.display = "none";\n      document.getElementById("dropZone").style.display = "block";\n      document.getElementById("ekyc_description_mobile1").style.display = "block";\n      document.getElementById("tutorial-mobile").style.display = "block";\n      ekyc_description ? ekyc_description.style.display = "none" : null;\n\n    } else {\n      webcame_zone ? webcame_zone.style.display = \'block\' : null;\n\n      var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n      ekyc_popup_1.style.display = \'none\';\n\n      take_picture_step1 ? take_picture_step1.style.display = \'flex\' : null;\n\n      ekyc_description ? ekyc_description.style.display = \'block\' : null;\n\n      tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n\n      drop_zone_web ? drop_zone_web.style.display = "block" : null;\n\n    }\n\n  }\n\n  /**open tutorialButton */\n  if (tutorial_btn) {\n    tutorial_btn.onclick = function () {\n      hiddenWebcamzone()\n      var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n      ekyc_popup_1.style.display = \'block\';\n    }\n  }\n\n\n  /**capture image function of mobile */\n  document.getElementById("fileInputMobile").onchange = function (event) {\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file) {\n        var data = {};\n        data[\'file\'] = file;\n        Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data, mobileUploadFileSuccess, mobileUploadFileFail, init_data);\n        image_base64["img_front"] = e.target.result;\n        object_local["base64_doc_img"] = image_base64;\n        Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n\n      };\n      document.getElementById("dropZone").style.display = "none";\n      document.getElementById("previewZone").style.display = "block";\n      document.getElementById("preview-img").src = reader.result;\n      document.getElementById("mobile-after-capture").style.display = "flex";\n      document.getElementById("tutorial-mobile").style.display = "none";\n      document.getElementById("upload-next-step").style.display = "none";\n\n\n    }\n    reader.readAsDataURL(file);\n  }\n\n  /**recapture button function of mobile */\n  document.getElementById("fileInputMobile1").onchange = function (event) {\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file) {\n        var data = {};\n        data[\'file\'] = file;\n        Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data, mobileUploadFileSuccess, mobileUploadFileFail, init_data);\n        image_base64["img_front"] = e.target.result;\n        object_local["base64_doc_img"] = image_base64;\n        Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n      };\n      document.getElementById("dropZone").style.display = "none";\n      document.getElementById("previewZone").style.display = "block";\n      document.getElementById("preview-img").src = reader.result;\n      document.getElementById("mobile-after-capture").style.display = "flex";\n      document.getElementById("tutorial-mobile").style.display = "none";\n\n    }\n    reader.readAsDataURL(file);\n  }\n\n  /**upload image in web */\n  if (document.getElementById("fileInputWeb")) {\n    document.getElementById("fileInputWeb").onchange = function (event) {\n      document.getElementById("dropZoneWeb").style.display = "none";\n      let reader = new FileReader();\n      let file = this.files[0];\n      reader.onloadend = (e) => {\n        if (file) {\n          var data = {};\n          data[\'file\'] = file;\n          Object(_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data, mobileUploadFileSuccess, mobileUploadFileFail, init_data);\n          image_base64["img_front"] = e.target.result;\n          object_local["base64_doc_img"] = image_base64;\n          Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n        };\n        document.getElementById("dropZone").style.display = "none";\n        document.getElementById("previewZone").style.display = "block";\n        document.getElementById("preview-img").src = reader.result;\n        document.getElementById("mobile-after-capture").style.display = "flex";\n        document.getElementById("tutorial-mobile").style.display = "none";\n        document.getElementById("mobile-next-step").style.display = "none";\n\n      }\n      reader.readAsDataURL(file);\n    }\n  }\n\n  /**next step upload web */\n  document.getElementById("upload-next-step").onclick = function () {\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n    setTimeout(function () {\n      Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n      cb_result(object_local);\n      localStorage.setItem("dat_doc", JSON.stringify(object_local.data_hash_document));\n      if (call_after_end_flow) {\n        call_after_end_flow(object_local);\n      }\n    }, 3000);\n  }\n\n  /**next step function button of mobile */\n  document.getElementById("mobile-next-step").onclick = function () {\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["showLoading"])();\n    setTimeout(function () {\n      Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["hiddenLoading"])();\n      cb_result(object_local);\n      localStorage.setItem("dat_doc", JSON.stringify(object_local.data_hash_document));\n      if (call_after_end_flow) {\n        call_after_end_flow(object_local);\n      }\n    }, 3000);\n\n  }\n\n  /**tutorial button function of mobile */\n  document.getElementById("tutorial-mobile").onclick = function () {\n    document.getElementById("ekyc-popup-1").style.display = "block";\n    document.getElementById("dropZone").style.display = "none";\n    document.getElementById("ekyc_description_mobile1").style.display = "none";\n    document.getElementById("tutorial-mobile").style.display = "none";\n  }\n\n\n  // if (init_data.USE_WEBCAM) ;\n  initTheme();\n  const root = document.getElementsByClassName(\'front_ekyc\')[0];\n  const varTags = root.getElementsByTagName("var");\n  Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n\n\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/front.js?')},"./src/js/flow_type/result3.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RederResult3", function() { return RederResult3; });\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\nfunction RederResult3(data) {\n  function startup() {\n    console.log("ket-qua", data);\n    var parent = document.getElementById("vnpt_ekyc");\n    var content =\n      \'<div class="step-4" id="ekyc-step-4">\' +\n      \'<ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px">\' +\n      \'<li class="complete" id="progress-step0">Mặt trước</li>\' +\n      \'<li  class="complete" id="progress-step1">Mặt sau</li>\' +\n      \'<li  class="complete" id="progress-step2">Chân dung</li>\' +\n      \'<li  class="complete" id="progress-step3">Kết quả</li>\' +\n      "</ul>" +\n      \'<div class="info-wrap">\' +\n      \'<div class="tabs">\' +\n      \'<div id="validation" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab" class="active"><div>Validation</div></li>\' +\n      \'<li id="qr-code-tab"><div>QR Code</div></li>\' +\n      "</ul>" +\n      \'<div class="block-left" id="tab2-content">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Loại giấy tờ</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        \'<div style="color:green;">Hợp lệ</div>\' :\n        \'<div style="color:red;">Không hợp lệ</div>\') +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mặt trước, sau giấy tờ</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        renderBackTypeID(\n          data.ocr.object.back_type_id,\n          data.ocr.object.type_id\n        ) :\n        renderBackTypeIDError(data.orc_err)) +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ mờ nhòe/mất góc</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        renderBlurCard(data.ocr.object.warning) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng số ID</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        renderQualityID(data.ocr.object.id_probs) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng ngày cấp</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        renderQualityIssueDate(data.ocr.object.issue_date_prob) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Hạn giấy tờ</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        renderExpireWarning(data.ocr.object.expire_warning) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực giấy tờ</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back.object) ?\n        documentVerification(\n          data.liveness_card_front.object.fake_liveness,\n          data.liveness_card_back.object.fake_liveness\n        ) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Cảnh báo trường thông tin</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        informationAlert(data.ocr.object.tampering.warning) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Dán đè ảnh</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) ?\n        overrideImage(data.liveness_card_front.object.face_swapping) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mở mắt</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ?\n        renderIsEyeOpen(data.liveness_face.object.is_eye_open) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mờ mặt</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ?\n        renderBlurFace(data.liveness_face.object.blur_face) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực chân dung</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ?\n        authenticateFace(data.liveness_face.object.liveness) :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mặt bị che</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.masked) ?\n        maskedFace(data.masked.object) :\n        "") +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      \'<div id="qr-code" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab2"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab2"><div>Validation</div></li>\' +\n      \'<li id="qr-code-tab2" class="active"><div>QR Code</div></li>\' +\n      "</ul>" +\n      \'<div class="block-left">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus"><b>Thông tin QR</b></div>\' +\n      "</div>" +\n      \'<div class="result-qr-block">\' +\n      \'<span id="result-qr-data">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) ? data.qr_code : "") +\n      "</span>" +\n      "</div>" +\n      \'<div class="item">\' +\n      "<span>Đối chiếu thông tin trên ảnh chụp giấy tờ</span>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Số CMND</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.id :\n        "") +\n      "</div>" +\n      \'<img src="\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        compareIDWithQR(data.ocr.object.id, data.qr_code) :\n        "https://ekyc-web.vnpt.vn/img/fail.svg") +\n      \'" width="20px" height="20px">\' +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Họ và tên</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.name :\n        "") +\n      "</div>" +\n      \'<img src="\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        compareNameWithQR(data.ocr.object.name, data.qr_code) :\n        "https://ekyc-web.vnpt.vn/img/fail.svg") +\n      \'" width="20px" height="20px">\' +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày sinh</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.birth_day :\n        "") +\n      "</div>" +\n      \'<img src="\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        compareBirthdayWithQR(data.ocr.object.birth_day, data.qr_code) :\n        "https://ekyc-web.vnpt.vn/img/fail.svg") +\n      \'" width="20px" height="20px">\' +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      \'<div id="info" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab1"><div>Validation</div></li>\' +\n      \'<li id="qr-code-tab1"><div>QR Code</div></li>\' +\n      "</ul>" +\n      \'<div class="block-left">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ</div>\' +\n      \'<div class="item-content">\' +\n      checkInfoDocument() +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Số ID</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.id :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Họ và tên</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.name :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày sinh</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.birth_day :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi ĐKHK TT</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.recent_location :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giới tính</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.gender :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày cấp</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.issue_date :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Có giá trị đến</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.valid_date :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi cấp</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ?\n        data.ocr.object.issue_place :\n        "") +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">So sánh</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare.object) ?\n        compareFace(data.compare.object) :\n        \'<div style="color: red;"> Không tìm thấy khuôn mặt </div>\') +\n      "</div>" +\n      "</div>" +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Kết quả</div>\' +\n      \'<div class="item-content">\' +\n      (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) &&\n        !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) &&\n        compareIDWithQR(data.ocr.object.id, data.qr_code) ===\n        compareBirthdayWithQR(data.ocr.object.birth_day, data.qr_code) &&\n        compareBirthdayWithQR(data.ocr.object.birth_day, data.qr_code) ===\n        compareNameWithQR(data.ocr.object.name, data.qr_code) &&\n        compareNameWithQR(data.ocr.object.name, data.qr_code) ===\n        "https://ekyc-web.vnpt.vn/img/checked.svg" ?\n        \'<div style="color: green;"> OCR khớp QR code </div>\' :\n        \'<div style="color: red;"> OCR không khớp QR code </div>\') +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      "</div>" +\n      \'<div class="images-block">\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_front) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_back) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_far) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_near) + \'"/>\' +\n      "</div>" +\n      "</div>" +\n      \'<div class="btn-redemo" id="btn-redemo">\' +\n      \'<img src="https://ekyc-web.vnpt.vn/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/>\' +\n      \'<span>THỰC HIỆN LẠI</span>\' +\n      \'</div>\' +\n      "</div>";\n    parent.insertAdjacentHTML("beforeend", content);\n    document\n      .getElementById("btn-redemo")\n      .addEventListener("click", function () {\n        location.reload();\n      });\n    tabActive();\n\n\n  }\n  startup();\n\n  function tabActive() {\n    let validationTab = document.getElementById("validation");\n    let infoTab = document.getElementById("info");\n    let qrCodeTab = document.getElementById("qr-code");\n\n    document.getElementById("info-tab").addEventListener("click", function () {\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n      qrCodeTab.style.display = "none";\n    });\n    document.getElementById("info-tab1").addEventListener("click", function () {\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n      qrCodeTab.style.display = "none";\n    });\n    document.getElementById("info-tab2").addEventListener("click", function () {\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n      qrCodeTab.style.display = "none";\n    });\n\n    document\n      .getElementById("validation-tab")\n      .addEventListener("click", function () {\n        validationTab.style.display = "block";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "none";\n      });\n    document\n      .getElementById("validation-tab1")\n      .addEventListener("click", function () {\n        validationTab.style.display = "block";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "none";\n      });\n    document\n      .getElementById("validation-tab2")\n      .addEventListener("click", function () {\n        validationTab.style.display = "block";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "none";\n      });\n\n    document\n      .getElementById("qr-code-tab")\n      .addEventListener("click", function () {\n        validationTab.style.display = "none";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "block";\n      });\n\n    document\n      .getElementById("qr-code-tab1")\n      .addEventListener("click", function () {\n        validationTab.style.display = "none";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "block";\n      });\n\n    document\n      .getElementById("qr-code-tab2")\n      .addEventListener("click", function () {\n        validationTab.style.display = "none";\n        infoTab.style.display = "none";\n        qrCodeTab.style.display = "block";\n      });\n  }\n\n  function compareIDWithQR(id, dataQR) {\n    if (dataQR) {\n      var arrDataQR = dataQR ? dataQR.split("|") : "";\n      var src = "";\n      if (id == arrDataQR[0] || id == arrDataQR[1]) {\n        src = "https://ekyc-web.vnpt.vn/img/checked.svg";\n      } else {\n        src = "https://ekyc-web.vnpt.vn/img/fail.svg";\n      }\n\n      return src;\n    }\n\n  }\n\n  function compareNameWithQR(name, dataQR) {\n    if (dataQR) {\n      var arrDataQR = dataQR ? dataQR.split("|") : "";\n      var src = "";\n      if (name.toLocaleLowerCase() == arrDataQR[2].toLocaleLowerCase()) {\n        src = "https://ekyc-web.vnpt.vn/img/checked.svg";\n      } else {\n        src = "https://ekyc-web.vnpt.vn/img/fail.svg";\n      }\n      return src;\n    }\n\n  }\n\n  function compareBirthdayWithQR(birth_day, dataQR) {\n    if (dataQR) {\n      var arrDataQR = dataQR ? dataQR.split("|") : null;\n      var birthdayConvert = birth_day.split("/").join("");\n      var src = "";\n      if (birthdayConvert === arrDataQR[3]) {\n        console.log("true");\n        src = "https://ekyc-web.vnpt.vn/img/checked.svg";\n      } else {\n        src = "https://ekyc-web.vnpt.vn/img/fail.svg";\n      }\n      return src;\n    }\n\n  }\n\n  function checkInfoDocument() {\n    let html = \'<div style="color:green;" class="check-info-doc">Hợp lệ</div>\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html =\n        \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n      console.log("data empty");\n    } else {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object)) {\n        html =\n          \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log("ocr || obj empty");\n      } else {\n        if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.expire_warning)) {\n          if (data.ocr.object.expire_warning == "yes") {\n            html =\n              \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n            console.log("data.ocr.object.expire_warning");\n          }\n        }\n      }\n      if (\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) ||\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back)\n      ) {\n        html =\n          \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log("liveness_card_front || liveness_card_back");\n\n      } else {\n        if (data.liveness_card_front.face_swapping) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_front.face_swapping");\n        }\n        if (data.liveness_card_front.fake_liveness) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_front.fake_liveness");\n        }\n        if (data.liveness_card_front.fake_print_photo) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_front.fake_print_photo");\n        }\n        if (data.liveness_card_back.face_swapping) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_back.face_swapping");\n        }\n        if (data.liveness_card_back.fake_liveness) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_back.face_swapping");\n        }\n        if (data.liveness_card_back.fake_print_photo) {\n          html =\n            \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log("data.liveness_card_back.fake_print_photo");\n        }\n      }\n    }\n\n    if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) &&\n      !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) &&\n      !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) &&\n      !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.warning_msg)\n    ) {\n      let warnings = data.ocr.object.warning_msg;\n      html = "";\n      for (var i = 0; i < warnings.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + warnings[i] + "</div>";\n      }\n      console.log("data.ocr.object.warning", html);\n    }\n    return html;\n  }\n\n  function compareFace(data) {\n    let html = "";\n    if (data.msg == "NOMATCH") {\n      html = \'<div style="color: red;">\' + data.result + "</div>";\n    } else {\n      html = \'<div style="color: green;">\' + data.result + "</div>";\n    }\n    return html;\n  }\n\n  function renderTypeDocument(back_type_id, type_id, blur_card) {\n    let html = "";\n    if (back_type_id == type_id && Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(blur_card)) {\n      html = \'<div style="color:green;">Hợp lệ</div>\';\n    } else {\n      html = \'<div style="color:red;">Không hợp lệ</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeIDError(data) {\n    let html = "";\n    let found =\n      data &&\n      data.errors.find((e) => e == "Dau vao mat truoc va sau khong cung loai");\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(found)) {\n      html = "";\n    } else {\n      html = \'<div style="color:red;">Không cùng loại</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeID(back_type_id, type_id) {\n    let html = "";\n    if (back_type_id == type_id) {\n      html = \'<div style="color: green;">Cùng loại</div>\';\n    } else {\n      html = \'<div style="color: red;">Không cùng loại</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurCard(data) {\n    let html = "";\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function renderQualityID(data) {\n    let id_props = JSON.parse(data);\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(id_props)) {\n      return \'<div style="color: red;">Mờ nhòe</div>\';\n    } else {\n      for (var i = 0; i < id_props.length; i++) {\n        if (id_props[i] < 0.93) {\n          return \'<div style="color: red;">Mờ nhòe</div>\';\n        }\n      }\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderQualityIssueDate(data) {\n    if (data < 0.93) {\n      return \'<div style="color: red;">Mờ nhòe</div>\';\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderExpireWarning(data) {\n    let html = "";\n    if (data == "no") {\n      html = \'<div style="color:green;">Còn hạn</div>\';\n    } else {\n      html = \'<div style="color:red;">Hết hạn</div>\';\n    }\n    return html;\n  }\n\n  function documentVerification(front, back) {\n    let html = "";\n    if (front || back) {\n      html = \'<div style="color:red;">Không chụp trực tiếp</div>\';\n    } else {\n      html = \'<div style="color:green;">Chụp trực tiếp</div>\';\n    }\n    return html;\n  }\n\n  function overrideImage(front) {\n    let html = "";\n    if (front) {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n\n  function informationAlert(data) {\n    const WARNING_INFO = {\n      id_sua_xoa: "Số ID bị sửa xóa",\n      id_ko_hop_le: "Số ID không hợp lệ",\n      id_dob_ko_khop: "Mã năm sinh không khớp",\n      id_gender_ko_khop: "Mã giới tính không khớp",\n      id_post_code_ko_khop: "Mã tỉnh/TP không khớp",\n      invalid_dob: "Mã ngày sinh không hợp lệ",\n      den_trang_ko_hop_le: "Giấy tờ photo",\n      fake_printing: "Giấy tờ không hợp lệ",\n      id_invalid_length: "Số ID không hợp lệ",\n    };\n    let html = "";\n    let noitice_high = [];\n    let noitice_low = [];\n    for (var i = 0; i < data.length; i++) {\n      if (\n        data[i] == "id_ko_hop_le" ||\n        data[i] == "id_dob_ko_khop" ||\n        data[i] == "id_gender_ko_khop" ||\n        data[i] == "id_post_code_ko_khop" ||\n        data[i] == "invalid_dob"\n      ) {\n        noitice_high.push(data[i]);\n      } else {\n        noitice_low.push(data[i]);\n      }\n    }\n    if (noitice_high.length > 0) {\n      for (var i = 0; i < noitice_high.length; i++) {\n        html +=\n          \'<div style="color:#ff7f00;">\' + WARNING_INFO[data[i]] + "</div>";\n      }\n    } else {\n      if (noitice_low.length > 0) {\n        for (var i = 0; i < noitice_low.length; i++) {\n          html +=\n            \'<div style="color:#ff7f00;">\' + WARNING_INFO[data[i]] + "</div>";\n        }\n      } else {\n        html = \'<div style="color:green;">Hợp lệ</div>\';\n      }\n    }\n    return html;\n  }\n\n  function renderIsEyeOpen(data) {\n    let html = "";\n    if (data == "yes") {\n      html = \'<div style="color:green;">Có</div>\';\n    } else {\n      html = \'<div style="color:red;">Không</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurFace(data) {\n    let html = "";\n    if (data == "no") {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function authenticateFace(data) {\n    let html = "";\n    if (data == "success") {\n      html = \'<div style="color:green;">Người thật</div>\';\n    } else {\n      html = \'<div style="color:red;">Không phải người thật</div>\';\n    }\n    return html;\n  }\n\n  function maskedFace(data) {\n    let html = "";\n    if (data.masked == "yes") {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/result3.js?')},"./src/js/flow_type/result4.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RederResult4", function() { return RederResult4; });\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\nfunction RederResult4(data, init_data) {\n  function startup() {\n    console.log(\'ket-qua\', data);\n    var parent = document.getElementById("vnpt_ekyc");\n    var content = \'<div class="step-4" id="ekyc-step-4">\' +\n      \'</ul>\' +\n\n      \'<div class="info-wrap">\' +\n      \'<div class="tabs">\' +\n      \'<div id="validation" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab" class="active"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left" id="tab2-content">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Loại giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? \'<div style="color:green;">Hợp lệ</div>\' : \'<div style="color:red;">Không hợp lệ</div>\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mặt trước, sau giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderBackTypeID(data.ocr.object.back_type_id, data.ocr.object.type_id) : renderBackTypeIDError(data.orc_err)) + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ mờ nhòe/mất góc</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderBlurCard(data.ocr.object.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityID(data.ocr.object.id_probs) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityIssueDate(data.ocr.object.issue_date_prob) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Hạn giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderExpireWarning(data.ocr.object.expire_warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back) ? documentVerification(data.liveness_card_front.object.fake_liveness, data.liveness_card_back.object.fake_liveness) : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Cảnh báo trường thông tin</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? informationAlert(data.ocr.object.tampering.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Dán đè ảnh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) ? overrideImage(data.liveness_card_front.object.face_swapping) : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mở mắt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderIsEyeOpen(data.liveness_face.object.is_eye_open) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mờ mặt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderBlurFace(data.liveness_face.object.blur_face) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực chân dung</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? authenticateFace(data.liveness_face.object.liveness) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\'\n      // + \'<div class="label-cus">Mặt bị che</div>\'\n      // + \'<div class="item-content">\' + (!isEmpty(data) && !isEmpty(data.masked) ? maskedFace(data.masked.object) : "") + \'</div>\'\n      +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div id="info" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab1"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ</div>\' +\n      \'<div class="item-content">\' + (checkInfoDocument()) + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.id : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Họ và tên</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.name : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày sinh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.birth_day : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi ĐKHK TT</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.recent_location : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giới tính</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.gender : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_date : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_place : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">So sánh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare.object) ? compareFace(data.compare.object) : \'<div style="color: red;"> Không tìm thấy khuôn mặt </div>\') + \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="images-block">\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_front) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_back) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_far) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_near) + \'"/>\' +\n\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="btn-redemo" id="btn-redemo">\' +\n      \'<img src="https://ekyc-web.vnpt.vn/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/>\' +\n      \'<span>THỰC HIỆN LẠI</span>\' +\n      \'</div>\' +\n      \'</div>\'\n    parent.insertAdjacentHTML(\'beforeend\', content);\n    document.getElementById("btn-redemo").addEventListener("click", function() {\n      // window.location.href = ".";\n      location.reload();\n\n    })\n    tabActive();\n\n    // document.getElementById("btn-redemo").style.background = init_data.RESULT_DEFAULT_STYLE.redemo_btn_background\n\n\n  }\n  startup();\n\n  function tabActive() {\n    document.getElementById("info-tab").addEventListener("click", function() {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("info-tab1").addEventListener("click", function() {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("validation-tab").addEventListener("click", function() {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n    document.getElementById("validation-tab1").addEventListener("click", function() {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n  }\n\n  function checkInfoDocument() {\n    let html = \'<div style="color:green;" class="check-info-doc">Hợp lệ</div>\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n      console.log(\'data empty\')\n    } else {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object)) {\n        html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log(\'ocr || obj empty\')\n\n      } else {\n        if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.expire_warning)) {\n          if (data.ocr.object.expire_warning == "yes") {\n            html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n            console.log(\'data.ocr.object.expire_warning\')\n          }\n        }\n      }\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back)) {\n        html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log(\'liveness_card_front || liveness_card_back\')\n      } else {\n        if (data.liveness_card_front.face_swapping) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.face_swapping\')\n\n        }\n        if (data.liveness_card_front.fake_liveness) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_liveness\')\n        }\n        if (data.liveness_card_front.fake_print_photo) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_print_photo\')\n\n        }\n        if (data.liveness_card_back.face_swapping) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.face_swapping\')\n\n        }\n        if (data.liveness_card_back.fake_liveness) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.face_swapping\')\n\n        }\n        if (data.liveness_card_back.fake_print_photo) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.fake_print_photo\')\n\n        }\n      }\n    }\n\n    if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.warning_msg)) {\n      let warnings = data.ocr.object.warning_msg;\n      html = \'\';\n      for (var i = 0; i < warnings.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (warnings[i]) + \'</div>\';\n      }\n      console.log(\'data.ocr.object.warning\', html)\n    }\n    return html;\n  }\n\n  function compareFace(data) {\n    let html = \'\'\n    if (data.msg == "NOMATCH") {\n      html = \'<div style="color: red;">\' + data.result + \'</div>\'\n    } else {\n      html = \'<div style="color: green;">\' + data.result + \'</div>\'\n    }\n    return html;\n  }\n\n  function renderTypeDocument(back_type_id, type_id, blur_card) {\n    let html = \'\';\n    if ((back_type_id == type_id) && Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(blur_card)) {\n      html = \'<div style="color:green;">Hợp lệ</div>\';\n    } else {\n      html = \'<div style="color:red;">Không hợp lệ</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeIDError(data) {\n    let html = \'\';\n    let found = data && data.errors.find(e => e == "Dau vao mat truoc va sau khong cung loai");\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(found)) {\n      html = \'\';\n    } else {\n      html = \'<div style="color:red;">Không cùng loại</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeID(back_type_id, type_id) {\n    let html = "";\n    if (back_type_id == type_id) {\n      html = \'<div style="color: green;">Cùng loại</div>\';\n    } else {\n      html = \'<div style="color: red;">Không cùng loại</div>\';\n\n    }\n    return html;\n  }\n\n  function renderBlurCard(data) {\n    let html = \'\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function renderQualityID(data) {\n    let id_props = JSON.parse(data)\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(id_props)) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    } else {\n      for (var i = 0; i < id_props.length; i++) {\n        if (id_props[i] < 0.93) {\n          return \'<div style="color: red;">Mờ nhòe</div>\'\n        }\n      }\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderQualityIssueDate(data) {\n    if (data < 0.93) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderExpireWarning(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Còn hạn</div>\';\n    } else {\n      html = \'<div style="color:red;">Hết hạn</div>\';\n    }\n    return html;\n  }\n\n  function documentVerification(front, back) {\n    let html = \'\';\n    if (front || back) {\n      html = \'<div style="color:red;">Không chụp trực tiếp</div>\';\n    } else {\n      html = \'<div style="color:green;">Chụp trực tiếp</div>\';\n    }\n    return html;\n  }\n\n  function overrideImage(front) {\n    let html = \'\';\n    if (front) {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n\n  function informationAlert(data) {\n    const WARNING_INFO = {\n      "id_sua_xoa": "Số ID bị sửa xóa",\n      "id_ko_hop_le": "Số ID không hợp lệ",\n      "id_dob_ko_khop": "Mã năm sinh không khớp",\n      "id_gender_ko_khop": "Mã giới tính không khớp",\n      "id_post_code_ko_khop": "Mã tỉnh/TP không khớp",\n      "invalid_dob": "Mã ngày sinh không hợp lệ",\n      "den_trang_ko_hop_le": "Giấy tờ photo",\n      "fake_printing": "Giấy tờ không hợp lệ",\n      "id_invalid_length": "Số ID không hợp lệ"\n    };\n    let html = \'\';\n    let noitice_high = [];\n    let noitice_low = [];\n    for (var i = 0; i < data.length; i++) {\n      if (data[i] == "id_ko_hop_le" || data[i] == "id_dob_ko_khop" || data[i] == "id_gender_ko_khop" || data[i] == "id_post_code_ko_khop" || data[i] == "invalid_dob") {\n        noitice_high.push(data[i]);\n      } else {\n        noitice_low.push(data[i])\n      }\n    }\n    if (noitice_high.length > 0) {\n      for (var i = 0; i < noitice_high.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n      }\n    } else {\n      if (noitice_low.length > 0) {\n        for (var i = 0; i < noitice_low.length; i++) {\n          html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n        }\n      } else {\n        html = \'<div style="color:green;">Hợp lệ</div>\';\n      }\n    }\n    return html;\n  }\n\n  function renderIsEyeOpen(data) {\n    let html = \'\';\n    if (data == "yes") {\n      html = \'<div style="color:green;">Có</div>\';\n    } else {\n      html = \'<div style="color:red;">Không</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurFace(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function authenticateFace(data) {\n    let html = \'\';\n    if (data == "success") {\n      html = \'<div style="color:green;">Người thật</div>\';\n    } else {\n      html = \'<div style="color:red;">Không phải người thật</div>\';\n    }\n    return html;\n  }\n\n  function maskedFace(data) {\n    let html = \'\';\n    if (data.masked == \'yes\') {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/result4.js?')},"./src/js/flow_type/webcamModule.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "controlWebcam", function() { return controlWebcam; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "captureBtn", function() { return captureBtn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "captureBtnV2", function() { return captureBtnV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genderButtonCapture", function() { return genderButtonCapture; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genderInputPhoto", function() { return genderInputPhoto; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genderDescription", function() { return genderDescription; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopBothVideoAndAudio", function() { return stopBothVideoAndAudio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genderInputPhotoV2", function() { return genderInputPhotoV2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "genderInputQR", function() { return genderInputQR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "controlWebcam3", function() { return controlWebcam3; });\n/* harmony import */ var _ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ekycHelper.js */ "./src/js/ekycHelper.js");\n\nvar baseCDN = "https://ekyc-web.vnpt.vn";\n\nfunction formatDate(date) {\n  var d = new Date(date),\n    month = "" + (d.getMonth() + 1),\n    day = "" + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2) month = "0" + month;\n  if (day.length < 2) day = "0" + day;\n\n  return [year, month, day].join("-");\n}\n\nfunction b64toBlob(dataURI) {\n  var byteString = atob(dataURI.split(",")[1]);\n  var ab = new ArrayBuffer(byteString.length);\n  var ia = new Uint8Array(ab);\n\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], { type: "image/jpeg" });\n}\n\nfunction controlWebcam(cb) {\n  try {\n    var windowWidth =\n      window.screen.width < window.outerWidth\n        ? window.screen.width\n        : window.outerWidth;\n\n    navigator.getUserMedia =\n      navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia;\n\n    if (windowWidth > 1024 && navigator.mediaDevices.getUserMedia) {\n      var facingMode = "user"; // Can be \'user\' or \'environment\' to access back or front camera (NEAT!)\n      var constraints = {\n        audio: false,\n        video: {\n          facingMode: facingMode,\n        },\n      };\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(function (stream) {\n          video.srcObject = stream;\n          let wb_n = stream.getVideoTracks()[0].label\n            ? stream.getVideoTracks()[0].label.toLowerCase()\n            : "anonymous";\n          if (wb_n.includes("fake")) {\n            let s = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n              "VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE="\n            );\n            alert(s);\n            stopBothVideoAndAudio(stream);\n            location.reload();\n          } else {\n            // video.play();\n            // captureBtn();\n            // nextStep(stream);\n            video.play();\n            cb(stream);\n          }\n        })\n        .catch(function (error) {\n          console.log("Something went wrong!", error);\n          let s = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n            "VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE="\n          );\n          alert(s);\n        });\n    }\n  } catch (error) {\n    console.log("err webcam", error);\n  }\n}\n\nfunction controlWebcam2(cb) {\n  try {\n    var windowWidth =\n      window.screen.width < window.outerWidth\n        ? window.screen.width\n        : window.outerWidth;\n\n    navigator.getUserMedia =\n      navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia;\n\n    var facingMode = "user"; // Can be \'user\' or \'environment\' to access back or front camera (NEAT!)\n    var constraints = {};\n    if (windowWidth < 1024) {\n      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n      constraints = {\n        audio: false,\n        video: {\n          facingMode: facingMode,\n          width: { ideal: width / 0.75 },\n          height: { ideal: width },\n          // width: { ideal: width },\n          // height: { ideal: width / 0.75 },\n          frameRate: { ideal: 30 },\n        },\n      };\n    } else {\n      const parent_width = document.getElementById("ekyc_sdk_intergrated")\n        .offsetWidth;\n      console.log("parent_width", parent_width);\n      constraints = {\n        audio: false,\n        video: {\n          facingMode: facingMode,\n          width: { ideal: parent_width },\n          height: { ideal: parent_width / 0.75 },\n          // width: { ideal: 640 },\n          // height: { ideal: 360 },\n        },\n      };\n    }\n    if (navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n\n        .then(function (stream) {\n          video.srcObject = stream;\n          let wb_n = stream.getVideoTracks()[0].label\n            ? stream.getVideoTracks()[0].label.toLowerCase()\n            : "anonymous";\n          if (wb_n.includes("fake")) {\n            let s = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n              "VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE="\n            );\n            alert(s);\n            stopBothVideoAndAudio(stream);\n            location.reload();\n          } else {\n            // video.play();\n            // captureBtn();\n            // nextStep(stream);\n            video.play();\n            cb(stream);\n          }\n        })\n        .catch(function (error) {\n          console.log("Something went wrong!", error);\n          let s = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n            "VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE="\n          );\n          alert(s);\n        });\n    }\n  } catch (error) {\n    console.log("err webcam", error);\n  }\n}\nconst checkSimulatorName = async (label, listSimulator) => {\n  let isSimulator = false;\n  // console.log(\'device_label\', label)\n  for (let index = 0; index < listSimulator.length; index++) {\n    if (label.includes(listSimulator[index])) {\n      isSimulator = true;\n    }\n  }\n  return isSimulator;\n};\n\nconst controlWebcam3 = async (videoID, cb) => {\n  try {\n    var video = document.getElementById(videoID);\n    var windowWidth =\n      window.screen.width < window.outerWidth\n        ? window.screen.width\n        : window.outerWidth;\n\n    navigator.getUserMedia =\n      navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia;\n\n    var facingMode = "environment"; // Can be \'user\' or \'environment\' to access back or front camera (NEAT!)\n    var constraints = {};\n    if (windowWidth < 1024) {\n      var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n      constraints = {\n        audio: false,\n        video: {\n          facingMode: facingMode,\n          width: { ideal: width / 0.75 },\n          height: { ideal: width },\n          // width: { ideal: width },\n          // height: { ideal: width / 0.75 },\n          frameRate: { ideal: 30 },\n        },\n      };\n    } else {\n      constraints = {\n        audio: false,\n        video: {\n          facingMode: facingMode,\n          width: { ideal: 640 },\n          height: { ideal: 360 },\n        },\n      };\n    }\n    if (navigator.mediaDevices.getUserMedia) {\n      const wcErrorAlert = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n        "VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuIQ=="\n      );\n      const wcFakeAlert = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["b64DecodeUnicode"])(\n        "UGjDoXQgaGnhu4duIHdlYmNhbSDhuqNvLiBWdWkgbMOybmcga2nhu4NtIHRyYSBs4bqhaSBjYW1lcmEgY+G7p2EgYuG6oW4h"\n      );\n      const parentVideo = video.parentElement;\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(async (stream) => {\n          const blacklist = ["fake", "virtual", "many"];\n          let device_label = stream.getVideoTracks()[0].label\n            ? stream.getVideoTracks()[0].label.toLowerCase()\n            : "anonymous";\n          // let device_label = "many camera";\n          video.srcObject = stream;\n          // let isSimulator = await checkSimulatorName(device_label, blacklist);\n          let isSimulator = false;\n          if (isSimulator) {\n            alert(wcFakeAlert);\n            stopBothVideoAndAudio(stream);\n            location.reload();\n          } else {\n            video.play();\n            cb(stream);\n            // let img1 = null;\n            // let img2 = null;\n            // setTimeout(function () {\n            //   if (parentVideo.style.display == "block") {\n            //     img1 = onlyDrawImg(videoID)\n            //   }\n            // }, 3000);\n            // setTimeout(function () {\n            //   if (parentVideo.style.display == "block") {\n            //     img2 = onlyDrawImg(videoID);\n            //     if (img1 === img2) {\n            //       alert(wcFakeAlert);\n            //       stopBothVideoAndAudio(stream);\n            //       location.reload();\n            //     }\n            //   }\n            // }, 6000);\n          }\n        })\n        .catch(function (error) {\n          console.log("getUserMedia Error", error);\n          alert(wcErrorAlert);\n          location.reload();\n        });\n    }\n  } catch (error) {\n    console.log("Webcam error", error);\n  }\n};\n\nfunction captureBtn() {\n  var im_w = 400;\n  var optimizer = null;\n  var resultb64 = "";\n  var canvas = document.getElementById("canvas");\n  var video = document.getElementById("video");\n  var current_height = Math.round(\n    video.videoHeight / (video.videoWidth / im_w)\n  );\n  canvas.width = im_w;\n  canvas.height = current_height;\n  canvas.getContext("2d").drawImage(video, 0, 0, im_w, current_height);\n  resultb64 = canvas.toDataURL("image/jpeg");\n  resultb64 = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["setPropertyImage"])(resultb64, im_w, current_height);\n  document.getElementById("canvas-border").style.height = current_height + "px";\n  var dataImg = {\n    image_type: "jpeg",\n    width: im_w,\n    height: current_height,\n    brand: "wb",\n    date_taken: formatDate(new Date()),\n    soft_ware: "vnpt_ekyc",\n  };\n  var strings = "3cb7ecbd-2343-4272-b2f1-cdb12983ecc0";\n  optimizer = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["encryptoData"])(dataImg, strings);\n  var blob = b64toBlob(resultb64);\n  return {\n    im_w: im_w,\n    optimizer: optimizer,\n    current_height: current_height,\n    file: blob,\n    image_base64: resultb64,\n  };\n}\n\nfunction captureBtnV2(originW, originH, dataImage) {\n  var im_w = originW;\n  var optimizer = null;\n  var resultb64 = "";\n  var current_height = originH;\n  resultb64 = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["setPropertyImage"])(dataImage, im_w, current_height);\n  document.getElementById("canvas-border").style.height = current_height + "px";\n  var dataImg = {\n    image_type: "jpeg",\n    width: im_w,\n    height: current_height,\n    brand: "wb",\n    date_taken: formatDate(new Date()),\n    soft_ware: "vnpt_ekyc",\n  };\n  var strings = "3cb7ecbd-2343-4272-b2f1-cdb12983ecc0";\n  optimizer = Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["encryptoData"])(dataImg, strings);\n  var blob = b64toBlob(resultb64);\n  return {\n    im_w: im_w,\n    optimizer: optimizer,\n    current_height: current_height,\n    file: blob,\n    image_base64: resultb64,\n  };\n}\n\nfunction genderButtonCapture(isWebcam, isUpload, callback) {\n  var html = "";\n  if (isWebcam && !isUpload) {\n    html =\n      "<div class=\'take-picture-btn\' id=\'take-picture-step1\'>" +\n      "<img id=\'take-picture-step1-img\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_w.png\'></img>" +\n      "<span class=\'title\' id=\'take-picture-step1-title\'><var>FACE.TAKE_PHOTO</var></span>" +\n      "</div>";\n  } else if (!isWebcam && isUpload) {\n    html = "";\n    // "<div class=\'take-picture-btn\' id=\'upload-picture-btn\'>" +\n    // "<img id=\'upload-picture-btn-img\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_w.png\'></img>" +\n    // "<input id=\'fileInputMobile\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n    // "<span class=\'title\' id=\'upload-picture-btn-title\'><var>FACE.UPLOAD_PHOTO</var></span>" +\n    // "</div>";\n  }\n  return html;\n}\n\nfunction genderInputPhoto(isWebcam, isUpload, callback) {\n  var html = "";\n  if (isWebcam && !isUpload) {\n    html =\n      "<div class=\'webcame-zone\' id=\'webcame-zone\'>" +\n      "<div class=\'video-block\' id=\'video-block\'>" +\n      "<video class=\'action-block\' id=\'video\' muted playsinline autoplay></video>" +\n      "</div>" +\n      "<div id=\'canvas-border\'>" +\n      "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n      "</div>" +\n      "</div>";\n    controlWebcam(callback);\n  } else if (!isWebcam && isUpload) {\n    html =\n      "<div id=\'dropZoneWeb\' class=\'id-card1\'>" +\n      "<div id=\'upload-image-web\' class=\'upload-btn-wrapper\'>" +\n      "<button class=\'btn btn-upload-image\'>" +\n      "<img alt=\'active\' src=\'" +\n      baseCDN +\n      "/images/altiss/upload.svg\'>" +\n      "<span><var>FRONT.UPLOAD_IMAGE</var></span>" +\n      "</button>" +\n      "<input accept=\'image/*\' id=\'fileInputWeb\' name=\'img-id\' type=\'file\'>" +\n      "</div>" +\n      "</div>";\n  }\n  return html;\n}\n\nfunction genderInputPhotoV2(init_data, callback) {\n  var html = "";\n  html =\n    "<div class=\'webcame-zone\' id=\'webcame-zone\'>" +\n    "<div id=\'wrapper-oval\'>" +\n    "<div id=\'notice-ani\'>" +\n    "<div id=\'notice-face\'></div>" +\n    "</div>" +\n    "<video class=\'action-block\' id=\'video\' muted playsinline autoplay style=\'visibility: visible\'></video>" +\n    "<div id=\'animation\'></div>" +\n    "<img id=\'outPut\' crossorigin=\'anonymous\' >" +\n    // "<button id=\'debug\'>capture</button>" +\n    "<div style=" +\n    Object(_ekycHelper_js__WEBPACK_IMPORTED_MODULE_0__["styleString"])(init_data.OTHER_CONFIG.description_oval_style) +\n    " >" +\n    init_data.OTHER_CONFIG.description_oval_content +\n    "</div>" +\n    "</div>" +\n    "<div id=\'canvas-border\'>" +\n    "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n    "</div>" +\n    "</div>";\n  controlWebcam2(callback);\n  return html;\n}\n\nfunction genderInputQR(isWebcam, isUpload) {\n  var html = "";\n  html =\n    "<div id=\'container\'>" +\n    "<div class=\'video-block-qr\' id=\'video-block-qr\'>" +\n    "<canvas id=\'canvas-qr\'></canvas>" +\n    "</div>" +\n    "<div id=\'output\'>" +\n    "<div id=\'result-qr\' >" +\n    "<img id=\'state-qr-icon\' src=\'\'></img>" +\n    "<div id=\'state-qr-text\'></div>" +\n    "<span id=\'outputData\'></span>" +\n    "<span id=\'outputData2\'></span>" +\n    "<div class=\'btn-accept\' id=\'qr-accept\'>ĐỒNG Ý</div>" +\n    "</div>" +\n    "</div>" +\n    "</div>";\n  return html;\n}\n\nfunction genderDescription(type, isWebcam, isUpload) {\n  var html = "";\n\n  if (isWebcam && !isUpload) {\n    if (type === "DOCUMENT") {\n      html =\n        "<div class=\'ekyc_description\' id=\'ekyc_description\' >" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FRONT.GUIDE_4</var></span>" +\n        "</div>";\n    }\n    if (type === "FACE") {\n      html =\n        "<div class=\'ekyc_description\' id=\'ekyc_description2\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.DES_1</var></span>" +\n        "</div>";\n    }\n    if (type === "QR") {\n      html =\n        "<div class=\'ekyc_description\' id=\'ekyc_description3\'>" +\n        "<span><var>FRONT.QR_DES</var></span>" +\n        "<br/>" +\n        "</div>";\n    }\n  }\n\n  return html;\n}\n\nfunction stopBothVideoAndAudio(streams) {\n  for (let index = 0; index < streams.length; index++) {\n    const element = streams[index];\n    element.getTracks().forEach(function (track) {\n      if (track.readyState == "live") {\n        track.stop();\n      }\n    });\n  }\n}\n\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/flow_type/webcamModule.js?')},"./src/js/home.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderHomepage", function() { return RenderHomepage; });\n/* harmony import */ var _new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./new_flow/face.js */ "./src/js/new_flow/face.js");\n/* harmony import */ var _flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./flow_type/faceV2.js */ "./src/js/flow_type/faceV2.js");\n/* harmony import */ var _new_flow_front__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./new_flow/front */ "./src/js/new_flow/front.js");\n/* harmony import */ var _new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./new_flow/frontAndBack */ "./src/js/new_flow/frontAndBack.js");\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\n\n\n// import QrFrontAndBack from \'./new_flow/qrFrontAndBack\';\n\n\n\nfunction RenderHomepage(init_data, cb_result, call_after_end_flow) {\n  // document.body.insertAdjacentHTML(\'afterend\', \'<div id="vnpt_ekyc"></div>\');\n  function render() {\n    localStorage.removeItem("v_ekyc_actk");\n    localStorage.removeItem("gg-tk");\n    var recapcha_v2 = document.createElement(\'script\');\n    recapcha_v2.id = \'recapcha_v2_id\';\n    recapcha_v2.src = "https://www.google.com/recaptcha/api.js?onload=loadCaptcha&render=explicit";\n    recapcha_v2.async = true;\n    recapcha_v2.defe = true;\n\n    var piexif = document.createElement(\'script\');\n    piexif.id = \'piexif_id\';\n    piexif.src = "https://cdn.jsdelivr.net/npm/piexifjs@1.0.6/piexif.js";\n    piexif.async = true;\n    piexif.defe = true;\n\n    var crypto = document.createElement(\'script\');\n    crypto.id = \'crypto_id\';\n    crypto.src = "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js";\n    crypto.async = true;\n    crypto.defe = true;\n\n    // document.head.appendChild(recapcha_v2);\n    document.head.appendChild(piexif);\n    document.head.appendChild(crypto);\n\n    var content = genHtml();\n\n    if (!document.getElementById("vnpt_ekyc")) {\n      var parent = document.getElementById(init_data.PARRENT_ID);\n      if (init_data.TYPE_DOCUMENT === -1) {\n        parent.insertAdjacentHTML(\'beforeend\', "<div id=\'vnpt_ekyc\'></div>");\n        if (init_data.FLOW_TYPE === "DOCUMENT") {\n          Object(_new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__["default"])(-1, init_data, cb_result, call_after_end_flow);\n        } else if (init_data.FLOW_TYPE === "FACE") {\n          if (init_data.ADVANCE_LIVENESS_FACE) {\n            Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(-1, init_data, cb_result, call_after_end_flow);\n          } else {\n            Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(-1, init_data, cb_result, call_after_end_flow);\n          }\n        }\n        //  else {\n        //     RenderType1(-1, init_data, cb_result, call_after_end_flow);\n        // }\n\n      } else if (init_data.TYPE_DOCUMENT === 7) {\n        parent.insertAdjacentHTML(\'beforeend\', "<div id=\'vnpt_ekyc\'></div>");\n        if (init_data.FLOW_TYPE === "DOCUMENT") {\n          Object(_new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__["default"])(7, init_data, cb_result, call_after_end_flow);\n        } else if (init_data.FLOW_TYPE === "FACE") {\n          if (init_data.ADVANCE_LIVENESS_FACE) {\n            Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(7, init_data, cb_result, call_after_end_flow);\n          } else {\n            Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(7, init_data, cb_result, call_after_end_flow);\n          }\n        }\n        //  else {\n        //     RenderType1(7, init_data, cb_result, call_after_end_flow);\n        // }\n\n      } else if (init_data.TYPE_DOCUMENT === 5) {\n        parent.insertAdjacentHTML(\'beforeend\', "<div id=\'vnpt_ekyc\'></div>");\n        // RenderType2(5, init_data, cb_result);\n        if (init_data.FLOW_TYPE === "DOCUMENT") {\n          Object(_new_flow_front__WEBPACK_IMPORTED_MODULE_2__["default"])(5, init_data, cb_result, call_after_end_flow);\n        } else if (init_data.FLOW_TYPE === "FACE") {\n          if (init_data.ADVANCE_LIVENESS_FACE) {\n            Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(5, init_data, cb_result, call_after_end_flow);\n          } else {\n            Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(5, init_data, cb_result, call_after_end_flow);\n          }\n        }\n        //  else {\n        //     RenderType2(5, init_data, cb_result, call_after_end_flow);\n        // }\n      } else if (init_data.TYPE_DOCUMENT === 6) {\n        parent.insertAdjacentHTML(\'beforeend\', "<div id=\'vnpt_ekyc\'></div>");\n        if (init_data.FLOW_TYPE === "DOCUMENT") {\n          Object(_new_flow_front__WEBPACK_IMPORTED_MODULE_2__["default"])(6, init_data, cb_result, call_after_end_flow);\n        } else if (init_data.FLOW_TYPE === "FACE") {\n          if (init_data.ADVANCE_LIVENESS_FACE) {\n            Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(6, init_data, cb_result, call_after_end_flow);\n          } else {\n            Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(6, init_data, cb_result, call_after_end_flow);\n          }\n        }\n      } else if (init_data.TYPE_DOCUMENT === 9) {\n        parent.insertAdjacentHTML(\'beforeend\', "<div id=\'vnpt_ekyc\'></div>");\n        if (init_data.FLOW_TYPE === "DOCUMENT") {\n          Object(_new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__["default"])(9, init_data, cb_result, call_after_end_flow);\n        } else if (init_data.FLOW_TYPE === "FACE") {\n          if (init_data.ADVANCE_LIVENESS_FACE) {\n            Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(9, init_data, cb_result, call_after_end_flow);\n          } else {\n            Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(9, init_data, cb_result, call_after_end_flow);\n          }\n        }\n      } else {\n        var parent = document.getElementById(init_data.PARRENT_ID);\n        parent.insertAdjacentHTML(\'beforeend\', content);\n        if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(init_data.LIST_CHOOSE_STYLE)) {\n          customizeListChoose();\n        }\n\n      }\n\n    }\n\n\n    function customizeListChoose() {\n      document.getElementById("id-icon") ?\n        (document.getElementById("id-icon").src =\n          init_data.LIST_CHOOSE_STYLE.id_icon) :\n        "";\n      document.getElementById("passport-icon") ?\n        (document.getElementById("passport-icon").src =\n          init_data.LIST_CHOOSE_STYLE.passport_icon) :\n        "";\n      document.getElementById("card-drive-icon") ?\n        (document.getElementById("card-drive-icon").src =\n          init_data.LIST_CHOOSE_STYLE.drivecard_icon) :\n        "";\n      document.getElementById("army-id-icon") ?\n        (document.getElementById("army-id-icon").src =\n          init_data.LIST_CHOOSE_STYLE.army_id_icon) :\n        "";\n      document.getElementById("id-chip-icon") ?\n        (document.getElementById("id-chip-icon").src =\n          init_data.LIST_CHOOSE_STYLE.id_chip_icon) :\n        "";\n      document.getElementById("start-demo-ekyc").style.background =\n        init_data.LIST_CHOOSE_STYLE.start_button_background;\n      document.getElementById("start-demo-ekyc").style.color =\n        init_data.LIST_CHOOSE_STYLE.start_button_color;\n      var icon_block = document.getElementsByClassName("icon-block");\n      for (var i = 0; i < icon_block.length; i++) {\n        icon_block[i].style.background =\n          init_data.LIST_CHOOSE_STYLE.background_icon;\n      }\n    }\n\n\n    var el_id = "";\n    var type_document = null;\n\n    function setElementNew(data, type) {\n      el_id = data.id;\n      let title = data.querySelectorAll(\'.title\')[0];\n      let next_icon = data.querySelectorAll(\'.checkbox\')[0];\n      // data.style.background = "#18D696";\n      data.style.background = init_data.LIST_CHOOSE_STYLE.item_active_color;\n      title.style.color = "#FFFFFF";\n\n      type_document = type;\n    }\n\n    function enableGoogleCapcha(gg_capcha = false) {\n      let html = "";\n      // if (gg_capcha) {\n      //   html = "<div class=\'gg-capcha-cus\' id=\'captcha_container\' tabindex=\'5\'>"\n      //     + "</div>";\n      // } else {\n      //   html = ""\n      // }\n\n      return html;\n    }\n\n    function setElementCurrent(data, type) {\n      let previous_ele = document.getElementById(el_id);\n      let previous_title = previous_ele.querySelectorAll(\'.title\')[0];\n      previous_ele.style.background = "#FFFFFF";\n      previous_title.style.color = "#111127";\n      let title = data.querySelectorAll(\'.title\')[0];\n      data.style.background = init_data.LIST_CHOOSE_STYLE.item_active_color;\n      title.style.color = "#FFFFFF";\n\n      el_id = data.id;\n      type_document = type;\n    }\n\n    function genHtml() {\n      const items = init_data.LIST_ITEM;\n      let html = "<div id=\'vnpt_ekyc\'>";\n      html += "<div class=\'home-demo-ekyc\' id=\'home-demo-ekyc\'>";\n      html += "<div class=\'title\' style=\'color: " + init_data.LIST_CHOOSE_STYLE.text_color + "\'> <var>HOME.TITLE</var> </div>";\n      html += "<div class=\'list-choose\'>";\n      for (let i of items) {\n        if (i == -1) {\n          html +=\n            "<div class=\'item\' id=\'verification-id\' >" +\n            "<div class=\'icon-block\'>" +\n            "<img id=\'id-icon\' src=\'\'/>" +\n            "</div>" +\n            "<span class=\'title\'><var>HOME.CMT</var></span>" +\n            "</div>";\n        }\n        if (i == 5) {\n          html +=\n            "<div class=\'item\' id=\'verification-passport\' > " +\n            "<div class=\'icon-block\'>" +\n            "<img id=\'passport-icon\' src=\'\'/>" +\n            "</div>" +\n            "<span class=\'title\'><var>HOME.PASSPOST</var></span>" +\n            "</div>";\n        }\n        if (i == 7) {\n          html +=\n            "<div class=\'item\' id=\'verification-army-id\' >" +\n            "<div class=\'icon-block\'>" +\n            "<img id=\'army-id-icon\' src=\'\'/>" +\n            "</div>" +\n            "<span class=\'title\'><var>HOME.CMT_ARMY</var></span>" +\n            "</div>";\n        }\n        if (i == 6) {\n          html +=\n            "<div class=\'item\' id=\'verification-card-drive\'>" +\n            "<div class=\'icon-block\'>" +\n            "<img id=\'card-drive-icon\' src=\'\'/>" +\n            "</div>" +\n            "<span class=\'title\'><var>HOME.LICENSE</var></span>" +\n            "</div>";\n        }\n        if (i == 9) {\n          html +=\n            "<div class=\'item\' id=\'id-card-chip\'>" +\n            "<div class=\'icon-block\'>" +\n            "<img id=\'id-chip-icon\' src=\'\'/>" +\n            "</div>" +\n            "<span class=\'title\'><var>HOME.CMT_CHIP</var></span>" +\n            "</div>";\n        }\n      }\n      html += enableGoogleCapcha(init_data.ENABLE_GGCAPCHAR);\n      html += "<div class=\'start-demo\' id=\'start-demo-ekyc\' tabindex=\'6\'>";\n      html += "<span class=\'label-cus\'><var>HOME.START</var></span>";\n      html += "</div></div></div></div>";\n      return html;\n    }\n\n\n    document.getElementById("verification-id") && document.getElementById("verification-id").addEventListener("click", function () {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n        setElementNew(this, -1);\n      }\n      if (el_id != this.id) {\n        setElementCurrent(this, -1);\n      }\n    })\n    document.getElementById("verification-passport") && document.getElementById("verification-passport").addEventListener("click", function () {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n        setElementNew(this, 5)\n      }\n      if (el_id != this.id) {\n        setElementCurrent(this, 5);\n      }\n\n    })\n    document.getElementById("verification-army-id") && document.getElementById("verification-army-id").addEventListener("click", function () {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n        setElementNew(this, 7);\n      }\n      if (el_id != this.id) {\n        setElementCurrent(this, 7);\n      }\n    })\n    document.getElementById("verification-card-drive") && document.getElementById("verification-card-drive").addEventListener("click", function () {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n        setElementNew(this, 6);\n      }\n      if (el_id != this.id) {\n        setElementCurrent(this, 6);\n      }\n    })\n    document.getElementById("id-card-chip") &&\n      document\n        .getElementById("id-card-chip")\n        .addEventListener("click", function () {\n          if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n            setElementNew(this, 9);\n          }\n          if (el_id != this.id) {\n            setElementCurrent(this, 9);\n          }\n        });\n\n    document.getElementById("start-demo-ekyc") && document.getElementById("start-demo-ekyc").addEventListener("click", function () {\n      if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(el_id)) {\n        document.getElementById("home-demo-ekyc").style.display = "none";\n        if (type_document == 5 || type_document == 6) {\n          if (init_data.FLOW_TYPE === "DOCUMENT") {\n            Object(_new_flow_front__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n          } else if (init_data.FLOW_TYPE === "FACE") {\n            if (init_data.ADVANCE_LIVENESS_FACE) {\n              Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(type_document, init_data, cb_result, call_after_end_flow);\n            } else {\n              Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n            }\n          }\n        }\n        if (type_document == -1 || type_document == 7) {\n          if (init_data.FLOW_TYPE === "DOCUMENT") {\n            Object(_new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n          } else if (init_data.FLOW_TYPE === "FACE") {\n            if (init_data.ADVANCE_LIVENESS_FACE) {\n              Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(type_document, init_data, cb_result, call_after_end_flow);\n            } else {\n              Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n            }\n\n          }\n        }\n        if (type_document == 9) {\n          if (init_data.FLOW_TYPE === "DOCUMENT") {\n            Object(_new_flow_frontAndBack__WEBPACK_IMPORTED_MODULE_3__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n          } else if (init_data.FLOW_TYPE === "FACE") {\n            if (init_data.ADVANCE_LIVENESS_FACE) {\n              Object(_flow_type_faceV2_js__WEBPACK_IMPORTED_MODULE_1__["FaceV2"])(type_document, init_data, cb_result, call_after_end_flow);\n            } else {\n              Object(_new_flow_face_js__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, cb_result, call_after_end_flow);\n            }\n\n          }\n        }\n      } else {\n        alert(\'Bạn phải chọn loại giấy tờ trước khi tiếp tục\')\n\n      }\n\n    })\n\n\n  }\n\n  render();\n  const root = document.getElementById(\'home-demo-ekyc\');\n  if (root) {\n    const varTags = root.getElementsByTagName("var");\n    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_4__["translate"])(varTags, init_data.LANGUAGE);\n  }\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/home.js?')},"./src/js/mobileDemo.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MobileDemo", function() { return MobileDemo; });\n\n\n\nfunction MobileDemo() {\n  function startup() {\n    var parent = document.getElementById("vnpt_ekyc");\n    var content = "<div class=\'step1-demo-ekyc\' id=\'step1-demo-ekyc\'>"\n      + "<ul class=\'progressbar\' id=\'progressbar\'>"\n      + "<li class=\'active complete\' id=\'progress-step0\'>Mặt trước</li>"\n      + "<li id=\'progress-step1\'>Mặt sau</li>"\n      + "<li id=\'progress-step2\'>Chân dung</li>"\n      + "<li id=\'progress-step3\'>Kết quả</li>"\n      + "</ul>"\n\n      + "<div id=\'dropZone\' class=\'id-card\'>"\n      + "</div>"\n      + "<div class=\'preview\' id=\'previewZone\'>"\n      + "<img id=\'preview-img\' src=\'\' alt=\'preview\' />"\n      + "</div>"\n      + "<div class=\'mobile-after-capture\' id=\'mobile-after-capture\'>"\n      + "<div class=\'upload-btn-wrapper\'>"\n      + "<button class=\'btn-active\'>"\n      + "<img class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_b.png\'></img>"\n      + "<span>Chụp ảnh</span>"\n      + "</button>"\n      + "<input id=\'fileInputMobile\' type=\'file\' accept=\'image/*\' capture=\'environment\'>"\n      + "</div>"\n      + "<div class=\'next-step\' id=\'mobile-next-step\'>"\n      + "<img class=\'next-icon\' src=\'https://ekyc-web.vnpt.vn/images/next_icon_b.png\'></img>"\n      + "<span>Tiếp theo</span>"\n      + "</div>"\n      + "</div>"\n\n      + "</div>";\n    parent.insertAdjacentHTML(\'beforeend\', content);\n    document.getElementById("fileInputMobile").onchange = function (event) {\n      // var file = this.files[0];\n      // console.log(\'file\', file)\n      let reader = new FileReader();\n      let file = this.files[0];\n      reader.onloadend = () => {\n        document.getElementById("dropZone").style.display = "none";\n        document.getElementById("previewZone").style.display = "block";\n\n        document.getElementById("preview-img").src = reader.result;\n      }\n      reader.readAsDataURL(file);\n    }\n    document.getElementById("mobile-next-step").onclick = function(){\n      document.getElementById("dropZone").style.display = "block";\n      document.getElementById("previewZone").style.display = "none";\n    }\n\n  }\n  startup();\n}\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/mobileDemo.js?')},"./src/js/new_flow/face.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _templates_portrait_captureFaceWebcam__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/portrait/captureFaceWebcam */ "./src/templates/portrait/captureFaceWebcam.js");\n/* harmony import */ var _templates_portrait_uploadImgFace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/portrait/uploadImgFace */ "./src/templates/portrait/uploadImgFace.js");\n/* harmony import */ var _templates_portrait_captureAndUploadFace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templates/portrait/captureAndUploadFace */ "./src/templates/portrait/captureAndUploadFace.js");\n\n\n\nfunction Face(type_document, init_data, cb_result, call_after_end_flow) {\n  let object_local = {};\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n    window.screen.width :\n    window.outerWidth;\n  \n\n  function removeCurrentElement() {\n    const home = document.getElementsByClassName("capture-and-upload-block-wrapper")[0];\n    home.parentNode.removeChild(home);\n  }\n  function removeCurrentElementWebcam() {\n    var home = document.getElementsByClassName("capture-webcam-wrapper")[0];\n    if (home) home.parentNode.removeChild(home);\n  }\n\n  function contentCB(data) {\n    object_local = data;\n    cb_result(object_local);\n    if (call_after_end_flow) call_after_end_flow(object_local);\n  }\n\n  if(init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    if (windowWidth > 1024) {\n      const captureAndUploadFaceCB = (data) => {\n        removeCurrentElement();\n        contentCB(data);\n      }\n      Object(_templates_portrait_captureAndUploadFace__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "face", captureAndUploadFaceCB);\n    } else {\n      const uploadImgFaceCB = (data) => {\n        removeCurrentElement();\n        contentCB(data);\n      }\n      Object(_templates_portrait_uploadImgFace__WEBPACK_IMPORTED_MODULE_1__["default"])(type_document, init_data, "face", uploadImgFaceCB);\n    }\n  }\n\n  if (init_data.USE_WEBCAM && !init_data.USE_UPLOAD) {\n    const captureFaceWebcamCB = (data) => {\n      removeCurrentElementWebcam();\n      contentCB(data);\n  \n    }\n    Object(_templates_portrait_captureFaceWebcam__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, "face", captureFaceWebcamCB);\n  }\n\n  if(!init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    const uploadImgFaceCB = (data) => {\n      removeCurrentElement();\n      contentCB(data);\n    }\n\n    Object(_templates_portrait_uploadImgFace__WEBPACK_IMPORTED_MODULE_1__["default"])(type_document, init_data, "face", uploadImgFaceCB);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (Face);\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/new_flow/face.js?')},"./src/js/new_flow/front.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _templates_document_captureAndUpload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/document/captureAndUpload */ "./src/templates/document/captureAndUpload.js");\n/* harmony import */ var _templates_document_captureWebcam__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/document/captureWebcam */ "./src/templates/document/captureWebcam.js");\n/* harmony import */ var _templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templates/document/uploadImg */ "./src/templates/document/uploadImg.js");\n\n\n\n\nfunction Front(type_document, init_data, cb_result, call_after_end_flow) {\n  let object_local = {};\n  let base64_doc_img = {};\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n\n  function removeCurrentElement() {\n    const home = document.getElementsByClassName("capture-and-upload-block-wrapper")[0];\n    home.parentNode.removeChild(home);\n  }\n\n  function removeCurrentElementWebcam() {\n    var home = document.getElementsByClassName("capture-webcam-wrapper")[0];\n    home.parentNode.removeChild(home);\n  }\n\n  function contentCB(data) {\n    base64_doc_img["img_front"] = data.img_front_b64;\n    delete data.img_front_b64;\n    object_local["base64_doc_img"] = base64_doc_img;\n    object_local = Object.assign({ ...object_local }, data, {})\n    cb_result(object_local);\n    if (call_after_end_flow) call_after_end_flow(object_local);\n  }\n\n  if (init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    if (windowWidth > 1024) {\n      const captureAndUploadCB = (data) => {\n        removeCurrentElement();\n        contentCB(data);\n      }\n      Object(_templates_document_captureAndUpload__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, "front", captureAndUploadCB);\n    } else {\n      const uploadImgCB = (data) => {\n        removeCurrentElement();\n        contentCB(data);\n      }\n      Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "front", uploadImgCB);\n    }\n  }\n\n  if (init_data.USE_WEBCAM && !init_data.USE_UPLOAD) {\n    const captureWebcamCB = (data) => {\n      removeCurrentElementWebcam();\n      contentCB(data);\n    }\n    Object(_templates_document_captureWebcam__WEBPACK_IMPORTED_MODULE_1__["default"])(type_document, init_data, "front", captureWebcamCB);\n  }\n\n  if (!init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    const uploadImgCB = (data) => {\n      removeCurrentElement();\n      contentCB(data);\n    }\n    Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "front", uploadImgCB);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (Front);\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/new_flow/front.js?')},"./src/js/new_flow/frontAndBack.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _templates_document_captureAndUpload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/document/captureAndUpload */ "./src/templates/document/captureAndUpload.js");\n/* harmony import */ var _templates_document_captureWebcam__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/document/captureWebcam */ "./src/templates/document/captureWebcam.js");\n/* harmony import */ var _templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templates/document/uploadImg */ "./src/templates/document/uploadImg.js");\n\n\n\n\nfunction FrontAndBack(type_document, init_data, cb_result, call_after_end_flow) {\n  let object_local = {};\n  let base64_doc_img = {}\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n\n  function removeCurrentElement() {\n    const home = document.getElementsByClassName("capture-and-upload-block-wrapper")[0];\n    home.parentNode.removeChild(home);\n  }\n\n  function removeCurrentElementWebcam() {\n    var home = document.getElementsByClassName("capture-webcam-wrapper")[0];\n    home.parentNode.removeChild(home);\n  }\n  if (init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    if (windowWidth > 1024) {\n      const captureAndUploadCB = (data1) => {\n        removeCurrentElement();\n        base64_doc_img["img_front"] = data1.img_front_b64;\n        delete data1.img_front_b64;\n\n        const captureAndUploadCB2 = (data2) => {\n          removeCurrentElement();\n          base64_doc_img["img_back"] = data2.img_back_b64;\n          delete data2.img_back_b64;\n          object_local["base64_doc_img"] = base64_doc_img;\n          object_local = Object.assign({ ...object_local }, data1, data2)\n          cb_result(object_local);\n          if (call_after_end_flow) call_after_end_flow(object_local);\n        }\n        Object(_templates_document_captureAndUpload__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, "back", captureAndUploadCB2);\n      }\n      Object(_templates_document_captureAndUpload__WEBPACK_IMPORTED_MODULE_0__["default"])(type_document, init_data, "front", captureAndUploadCB);\n    } else {\n      const uploadImgCB = (data1) => {\n        removeCurrentElement();\n        base64_doc_img["img_front"] = data1.img_front_b64;\n        delete data1.img_front_b64;\n        const uploadImgCB2 = (data2) => {\n          removeCurrentElement();\n          base64_doc_img["img_back"] = data2.img_back_b64;\n          delete data2.img_back_b64;\n          object_local["base64_doc_img"] = base64_doc_img;\n          object_local = Object.assign({ ...object_local }, data1, data2)\n          cb_result(object_local);\n          if (call_after_end_flow) call_after_end_flow(object_local);\n        }\n        Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "back", uploadImgCB2);\n      }\n      Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "front", uploadImgCB);\n    }\n\n  }\n\n  if (init_data.USE_WEBCAM && !init_data.USE_UPLOAD) {\n    const captureWebcamCB = (data1) => {\n      removeCurrentElementWebcam();\n      base64_doc_img["img_front"] = data1.img_front_b64;\n      delete data1.img_front_b64;\n      const captureWebcamCB2 = (data2) => {\n        removeCurrentElementWebcam();\n        base64_doc_img["img_back"] = data2.img_back_b64;\n        delete data2.img_back_b64;\n        object_local["base64_doc_img"] = base64_doc_img;\n        object_local = Object.assign({ ...object_local }, data1, data2)\n        cb_result(object_local);\n        if (call_after_end_flow) call_after_end_flow(object_local);\n      }\n      Object(_templates_document_captureWebcam__WEBPACK_IMPORTED_MODULE_1__["default"])(type_document, init_data, "back", captureWebcamCB2);\n    }\n    Object(_templates_document_captureWebcam__WEBPACK_IMPORTED_MODULE_1__["default"])(type_document, init_data, "front", captureWebcamCB);\n  }\n\n  if (!init_data.USE_WEBCAM && init_data.USE_UPLOAD) {\n    const uploadImgCB = (data1) => {\n      removeCurrentElement();\n      base64_doc_img["img_front"] = data1.img_front_b64;\n      delete data1.img_front_b64;\n      const uploadImgCB2 = (data2) => {\n        removeCurrentElement();\n        base64_doc_img["img_back"] = data2.img_back_b64;\n        delete data2.img_back_b64;\n        object_local["base64_doc_img"] = base64_doc_img;\n        object_local = Object.assign({ ...object_local }, data1, data2)\n        cb_result(object_local);\n        if (call_after_end_flow) call_after_end_flow(object_local);\n\n      }\n      Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "back", uploadImgCB2);\n    }\n    Object(_templates_document_uploadImg__WEBPACK_IMPORTED_MODULE_2__["default"])(type_document, init_data, "front", uploadImgCB);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (FrontAndBack);\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/new_flow/frontAndBack.js?')},"./src/js/result.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RederResult", function() { return RederResult; });\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\nfunction RederResult(data, init_data) {\n  function startup() {\n    console.log(\'ket-qua\', data);\n    var parent = document.getElementById("vnpt_ekyc");\n    var content = \'<div class="step-4" id="ekyc-step-4">\' +\n      \'<ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px">\' +\n      \'<li class="complete" id="progress-step0">Mặt trước</li>\' +\n      \'<li  class="complete" id="progress-step1">Mặt sau</li>\' +\n      \'<li  class="complete" id="progress-step2">Chân dung</li>\' +\n      \'<li  class="complete" id="progress-step3">Kết quả</li>\' +\n      \'</ul>\'\n\n      + \'<div class="info-wrap">\' +\n      \'<div class="tabs">\' +\n      \'<div id="validation" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab" class="active"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left" id="tab2-content">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Loại giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? \'<div style="color:green;">Hợp lệ</div>\' : \'<div style="color:red;">Không hợp lệ</div>\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mặt trước, sau giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderBackTypeID(data.ocr.object.back_type_id, data.ocr.object.type_id) : renderBackTypeIDError(data.orc_err)) + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ mờ nhòe/mất góc</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderBlurCard(data.ocr.object.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityID(data.ocr.object.id_probs) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityIssueDate(data.ocr.object.issue_date_prob) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Hạn giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderExpireWarning(data.ocr.object.expire_warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back.object) ? documentVerification(data.liveness_card_front.object.fake_liveness, data.liveness_card_back.object.fake_liveness) : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Cảnh báo trường thông tin</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? informationAlert(data.ocr.object.tampering.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Dán đè ảnh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) ? overrideImage(data.liveness_card_front.object.face_swapping) : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mở mắt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderIsEyeOpen(data.liveness_face.object.is_eye_open) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mờ mặt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderBlurFace(data.liveness_face.object.blur_face) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực chân dung</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? authenticateFace(data.liveness_face.object.liveness) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\'\n      // + \'<div class="label-cus">Mặt bị che</div>\'\n      // + \'<div class="item-content">\' + (!isEmpty(data) && !isEmpty(data.masked) ? maskedFace(data.masked.object) : "") + \'</div>\'\n      +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div id="info" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab1"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ</div>\' +\n      \'<div class="item-content">\' + (checkInfoDocument()) + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.id : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Họ và tên</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.name : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày sinh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.birth_day : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi ĐKHK TT</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.recent_location : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giới tính</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.gender : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_date : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_place : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">So sánh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare.object) ? compareFace(data.compare.object) : \'<div style="color: red;"> Không tìm thấy khuôn mặt </div>\') + \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="images-block">\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_front) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_back) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_far) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_near) + \'"/>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="btn-redemo" id="btn-redemo">\' +\n      \'<img src="https://ekyc-web.vnpt.vn/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/>\' +\n      \'<span>THỰC HIỆN LẠI</span>\' +\n      \'</div>\' +\n      \'</div>\'\n    parent.insertAdjacentHTML(\'beforeend\', content);\n    document.getElementById("btn-redemo").addEventListener("click", function () {\n      location.reload();\n\n    })\n    tabActive();\n\n    // document.getElementById("btn-redemo").style.background = init_data.RESULT_DEFAULT_STYLE.redemo_btn_background\n\n\n  }\n  startup();\n\n  function tabActive() {\n    document.getElementById("info-tab").addEventListener("click", function () {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("info-tab1").addEventListener("click", function () {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("validation-tab").addEventListener("click", function () {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n    document.getElementById("validation-tab1").addEventListener("click", function () {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n  }\n\n  function checkInfoDocument() {\n    let html = \'<div style="color:green;" class="check-info-doc">Hợp lệ</div>\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n      console.log(\'data empty\')\n    } else {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object)) {\n        html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log(\'ocr || obj empty\')\n\n      } else {\n        if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.expire_warning)) {\n          if (data.ocr.object.expire_warning == "yes") {\n            html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n            console.log(\'data.ocr.object.expire_warning\')\n          }\n        }\n      }\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_back)) {\n        // if (init_data.CHECK_LIVENESS_CARD) {\n        //   html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        // } else {\n        //   html = \'<div style="color:red;" class="check-info-doc">N/A</div>\';\n        // }\n        console.log(\'liveness_card_front || liveness_card_back empty\')\n\n      } else {\n        if (data.liveness_card_front.face_swapping) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.face_swapping\')\n\n        }\n        if (data.liveness_card_front.fake_liveness) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_liveness\')\n        }\n        if (data.liveness_card_front.fake_print_photo) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_print_photo\')\n\n        }\n        if (data.liveness_card_back.face_swapping) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.face_swapping\')\n\n        }\n        if (data.liveness_card_back.fake_liveness) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.face_swapping\')\n\n        }\n        if (data.liveness_card_back.fake_print_photo) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_back.fake_print_photo\')\n\n        }\n      }\n    }\n\n    if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.warning_msg)) {\n      let warnings = data.ocr.object.warning_msg;\n      html = \'\';\n      for (var i = 0; i < warnings.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (warnings[i]) + \'</div>\';\n      }\n      console.log(\'data.ocr.object.warning\', html)\n    }\n    return html;\n  }\n\n  function compareFace(data) {\n    let html = \'\'\n    if (data.msg == "NOMATCH") {\n      html = \'<div style="color: red;">\' + data.result + \'</div>\'\n    } else {\n      html = \'<div style="color: green;">\' + data.result + \'</div>\'\n    }\n    return html;\n  }\n\n  function renderTypeDocument(back_type_id, type_id, blur_card) {\n    let html = \'\';\n    if ((back_type_id == type_id) && Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(blur_card)) {\n      html = \'<div style="color:green;">Hợp lệ</div>\';\n    } else {\n      html = \'<div style="color:red;">Không hợp lệ</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeIDError(data) {\n    let html = \'\';\n    let found = data && data.errors.find(e => e == "Dau vao mat truoc va sau khong cung loai");\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(found)) {\n      html = \'\';\n    } else {\n      html = \'<div style="color:red;">Không cùng loại</div>\';\n    }\n    return html;\n  }\n\n  function renderBackTypeID(back_type_id, type_id) {\n    let html = "";\n    if (back_type_id == type_id) {\n      html = \'<div style="color: green;">Cùng loại</div>\';\n    } else {\n      html = \'<div style="color: red;">Không cùng loại</div>\';\n\n    }\n    return html;\n  }\n\n  function renderBlurCard(data) {\n    let html = \'\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function renderQualityID(data) {\n    let id_props = JSON.parse(data)\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(id_props)) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    } else {\n      for (var i = 0; i < id_props.length; i++) {\n        if (id_props[i] < 0.93) {\n          return \'<div style="color: red;">Mờ nhòe</div>\'\n        }\n      }\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderQualityIssueDate(data) {\n    if (data < 0.93) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderExpireWarning(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Còn hạn</div>\';\n    } else {\n      html = \'<div style="color:red;">Hết hạn</div>\';\n    }\n    return html;\n  }\n\n  function documentVerification(front, back) {\n    let html = \'\';\n    if (front || back) {\n      html = \'<div style="color:red;">Không chụp trực tiếp</div>\';\n    } else {\n      html = \'<div style="color:green;">Chụp trực tiếp</div>\';\n    }\n    return html;\n  }\n\n  function overrideImage(front) {\n    let html = \'\';\n    if (front) {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n\n  function informationAlert(data) {\n    const WARNING_INFO = {\n      "id_sua_xoa": "Số ID bị sửa xóa",\n      "id_ko_hop_le": "Số ID không hợp lệ",\n      "id_dob_ko_khop": "Mã năm sinh không khớp",\n      "id_gender_ko_khop": "Mã giới tính không khớp",\n      "id_post_code_ko_khop": "Mã tỉnh/TP không khớp",\n      "invalid_dob": "Mã ngày sinh không hợp lệ",\n      "den_trang_ko_hop_le": "Giấy tờ photo",\n      "fake_printing": "Giấy tờ không hợp lệ",\n      "id_invalid_length": "Số ID không hợp lệ"\n    };\n    let html = \'\';\n    let noitice_high = [];\n    let noitice_low = [];\n    for (var i = 0; i < data.length; i++) {\n      if (data[i] == "id_ko_hop_le" || data[i] == "id_dob_ko_khop" || data[i] == "id_gender_ko_khop" || data[i] == "id_post_code_ko_khop" || data[i] == "invalid_dob") {\n        noitice_high.push(data[i]);\n      } else {\n        noitice_low.push(data[i])\n      }\n    }\n    if (noitice_high.length > 0) {\n      for (var i = 0; i < noitice_high.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n      }\n    } else {\n      if (noitice_low.length > 0) {\n        for (var i = 0; i < noitice_low.length; i++) {\n          html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n        }\n      } else {\n        html = \'<div style="color:green;">Hợp lệ</div>\';\n      }\n    }\n    return html;\n  }\n\n  function renderIsEyeOpen(data) {\n    let html = \'\';\n    if (data == "yes") {\n      html = \'<div style="color:green;">Có</div>\';\n    } else {\n      html = \'<div style="color:red;">Không</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurFace(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function authenticateFace(data) {\n    let html = \'\';\n    if (data == "success") {\n      html = \'<div style="color:green;">Người thật</div>\';\n    } else {\n      html = \'<div style="color:red;">Không phải người thật</div>\';\n    }\n    return html;\n  }\n\n  function maskedFace(data) {\n    let html = \'\';\n    if (data.masked == \'yes\') {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/result.js?')},"./src/js/result2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RederResult2", function() { return RederResult2; });\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\nfunction RederResult2(data, init_data) {\n  function startup() {\n    console.log(\'ket-qua\', data);\n    var parent = document.getElementById("vnpt_ekyc");\n    var content = \'<div class="step-4" id="ekyc-step-4">\' +\n      \'<ul class="progressbar" id="progressbar" style="width:45%;margin-bottom: 27px">\' +\n      \'<li class="complete" id="progress-step0">Mặt trước</li>\' +\n      \'<li  class="complete" id="progress-step1">Chân dung</li>\' +\n      \'<li  class="complete" id="progress-step2">Kết quả</li>\' +\n      \'</ul>\'\n\n      + \'<div class="info-wrap">\' +\n      \'<div class="tabs">\' +\n      \'<div id="validation" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab" class="active"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left" id="tab2-content">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Loại giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? \'<div style="color:green;">Hợp lệ</div>\' : \'<div style="color:red;">Không hợp lệ</div>\') + \'</div>\'\n      // + \'<div class="item-content">\' + (!isEmpty(data) && !isEmpty(data.ocr) ? renderTypeDocument(data.ocr.object.back_type_id, data.ocr.object.type_id, data.ocr.object.warning) : "") + \'</div>\'\n      +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ mờ nhòe/mất góc</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderBlurCard(data.ocr.object.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityID(data.ocr.object.id_probs) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Chất lượng ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderQualityIssueDate(data.ocr.object.issue_date_prob) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Hạn giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? renderExpireWarning(data.ocr.object.expire_warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực giấy tờ</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) ? documentVerification(data.liveness_card_front.object.fake_liveness) : \'<div style="color:red;">Không chụp trực tiếp</div>\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Cảnh báo trường thông tin</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? informationAlert(data.ocr.object.tampering.warning) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Dán đè ảnh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front.object) ? overrideImage(data.liveness_card_front.object.face_swapping) : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mở mắt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderIsEyeOpen(data.liveness_face.object.is_eye_open) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Mờ mặt</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? renderBlurFace(data.liveness_face.object.blur_face) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Xác thực chân dung</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_face.object) ? authenticateFace(data.liveness_face.object.liveness) : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\'\n      // + \'<div class="label-cus">Mặt bị che</div>\'\n      // + \'<div class="item-content">\' + (!isEmpty(data) && !isEmpty(data.masked) ? maskedFace(data.masked.object) : "") + \'</div>\'\n      +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div id="info" class="tab">\' +\n      \'<ul class="nav nav-tabs">\' +\n      \'<li id="info-tab1" class="active"><div>Thông tin cá nhân</div></li>\' +\n      \'<li id="validation-tab1"><div>Validation</div></li>\' +\n      \'</ul>\' +\n      \'<div class="block-left">\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giấy tờ</div>\' +\n      \'<div class="item-content">\' + (checkInfoDocument()) + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Số ID</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.id : \'\') + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Họ và tên</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.name : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày sinh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.birth_day : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi ĐKHK TT</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.recent_location : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Giới tính</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.gender : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Ngày cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_date : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">Nơi cấp</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) ? data.ocr.object.issue_place : "") + \'</div>\' +\n      \'</div>\' +\n      \'<div class="item">\' +\n      \'<div class="label-cus">So sánh</div>\' +\n      \'<div class="item-content">\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.compare.object) ? compareFace(data.compare.object) : \'<div style="color: red;"> Không tìm thấy khuôn mặt </div>\') + \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="images-block">\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_doc_img) && data.base64_doc_img.img_front) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_far) + \'"/>\' +\n      \'<img class="image-result" src="\' + (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.base64_face_img) && data.base64_face_img.img_face_near) + \'"/>\' +\n      \'</div>\' +\n      \'</div>\' +\n      \'<div class="btn-redemo" id="btn-redemo">\' +\n      \'<img src="https://ekyc-web.vnpt.vn/images/refresh_icon.png" style="width: 20px; height: 20px; margin-right: 5px"/>\' +\n      \'<span>THỰC HIỆN LẠI</span>\' +\n      \'</div>\' +\n      \'</div>\'\n    parent.insertAdjacentHTML(\'beforeend\', content);\n    document.getElementById("btn-redemo").addEventListener("click", function () {\n      location.reload();\n\n    })\n\n    tabActive();\n\n  }\n  startup();\n\n  function tabActive() {\n    document.getElementById("info-tab").addEventListener("click", function () {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("info-tab1").addEventListener("click", function () {\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "none";\n      infoTab.style.display = "block";\n    })\n    document.getElementById("validation-tab").addEventListener("click", function () {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n    document.getElementById("validation-tab1").addEventListener("click", function () {\n      1\n      let validationTab = document.getElementById("validation");\n      let infoTab = document.getElementById("info");\n      validationTab.style.display = "block";\n      infoTab.style.display = "none";\n    })\n  }\n\n  function checkInfoDocument() {\n    let html = \'<div style="color:green;" class="check-info-doc">Hợp lệ</div>\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n      console.log(\'data empty\')\n    } else {\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) || Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object)) {\n        html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        console.log(\'ocr || obj empty\')\n      } else {\n        if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.expire_warning)) {\n          if (data.ocr.object.expire_warning == "yes") {\n            html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n            console.log(\'data.ocr.object.expire_warning\')\n          }\n        }\n      }\n      if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.liveness_card_front)) {\n        // if (init_data.CHECK_LIVENESS_CARD) {\n        //   html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n        //   console.log(\'liveness_card_front\')\n        // } else {\n        //   html = \'<div style="color:red;" class="check-info-doc">N/A</div>\';\n        // }\n        console.log(\'liveness_card_front || liveness_card_back empty\')\n\n      } else {\n        if (data.liveness_card_front.face_swapping) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.face_swapping\')\n\n        }\n        if (data.liveness_card_front.fake_liveness) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_liveness\')\n        }\n        if (data.liveness_card_front.fake_print_photo) {\n          html = \'<div style="color:red;" class="check-info-doc">Không hợp lệ</div>\';\n          console.log(\'data.liveness_card_front.fake_print_photo\')\n        }\n\n      }\n    }\n    if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object) && !Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data.ocr.object.warning_msg)) {\n      let warnings = data.ocr.object.warning_msg;\n      html = \'\';\n      for (var i = 0; i < warnings.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (warnings[i]) + \'</div>\';\n      }\n      console.log(\'data.ocr.object.warning\', html)\n    }\n    return html;\n  }\n\n  function compareFace(data) {\n    let html = \'\'\n    if (data.msg == "NOMATCH") {\n      html = \'<div style="color: red;">\' + data.result + \'</div>\'\n    } else {\n      html = \'<div style="color: green;">\' + data.result + \'</div>\'\n    }\n    return html;\n  }\n\n  function renderTypeDocument(back_type_id, type_id, blur_card) {\n    let html = \'\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(blur_card)) {\n      html = \'<div style="color:green;">Hợp lệ</div>\';\n    } else {\n      html = \'<div style="color:red;">Không hợp lệ</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurCard(data) {\n    let html = \'\';\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(data)) {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function renderQualityID(data) {\n    let id_props = JSON.parse(data)\n    if (Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(id_props)) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    } else {\n      for (var i = 0; i < id_props.length; i++) {\n        if (id_props[i] < 0.93) {\n          return \'<div style="color: red;">Mờ nhòe</div>\'\n        }\n      }\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderQualityIssueDate(data) {\n    if (data < 0.93) {\n      return \'<div style="color: red;">Mờ nhòe</div>\'\n    }\n    return \'<div style="color: green;">Tốt</div>\';\n  }\n\n  function renderExpireWarning(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Còn hạn</div>\';\n    } else {\n      html = \'<div style="color:red;">Hết hạn</div>\';\n    }\n    return html;\n  }\n\n  function documentVerification(front) {\n    let html = \'\';\n    if (front) {\n      html = \'<div style="color:red;">Không chụp trực tiếp</div>\';\n    } else {\n      html = \'<div style="color:green;">Chụp trực tiếp</div>\';\n    }\n    return html;\n  }\n\n  function overrideImage(front) {\n    let html = \'\';\n    if (front) {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n\n  function informationAlert(data) {\n    const WARNING_INFO = {\n      "id_sua_xoa": "Số ID bị sửa xóa",\n      "id_ko_hop_le": "Số ID không hợp lệ",\n      "id_dob_ko_khop": "Mã năm sinh không khớp",\n      "id_gender_ko_khop": "Mã giới tính không khớp",\n      "id_post_code_ko_khop": "Mã tỉnh/TP không khớp",\n      "invalid_dob": "Mã ngày sinh không hợp lệ",\n      "den_trang_ko_hop_le": "Giấy tờ photo",\n      "fake_printing": "Giấy tờ không hợp lệ",\n      "id_invalid_length": "Số ID không hợp lệ"\n    };\n    let html = \'\';\n    let noitice_high = [];\n    let noitice_low = [];\n    for (var i = 0; i < data.length; i++) {\n      if (data[i] == "id_ko_hop_le" || data[i] == "id_dob_ko_khop" || data[i] == "id_gender_ko_khop" || data[i] == "id_post_code_ko_khop" || data[i] == "invalid_dob") {\n        noitice_high.push(data[i]);\n      } else {\n        noitice_low.push(data[i])\n      }\n    }\n    if (noitice_high.length > 0) {\n      for (var i = 0; i < noitice_high.length; i++) {\n        html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n      }\n    } else {\n      if (noitice_low.length > 0) {\n        for (var i = 0; i < noitice_low.length; i++) {\n          html += \'<div style="color:#ff7f00;">\' + (WARNING_INFO[data[i]]) + \'</div>\';\n        }\n      } else {\n        html = \'<div style="color:green;">Hợp lệ</div>\';\n      }\n    }\n    return html;\n  }\n\n  function renderIsEyeOpen(data) {\n    let html = \'\';\n    if (data == "yes") {\n      html = \'<div style="color:green;">Có</div>\';\n    } else {\n      html = \'<div style="color:red;">Không</div>\';\n    }\n    return html;\n  }\n\n  function renderBlurFace(data) {\n    let html = \'\';\n    if (data == "no") {\n      html = \'<div style="color:green;">Không</div>\';\n    } else {\n      html = \'<div style="color:red;">Có</div>\';\n    }\n    return html;\n  }\n\n  function authenticateFace(data) {\n    let html = \'\';\n    if (data == "success") {\n      html = \'<div style="color:green;">Người thật</div>\';\n    } else {\n      html = \'<div style="color:red;">Không phải người thật</div>\';\n    }\n    return html;\n  }\n\n  function maskedFace(data) {\n    let html = \'\';\n    if (data.masked == \'yes\') {\n      html = \'<div style="color:red;">Có</div>\';\n    } else {\n      html = \'<div style="color:green;">Không</div>\';\n    }\n    return html;\n  }\n}\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/result2.js?')},"./src/js/type1.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderType1", function() { return RenderType1; });\n/* harmony import */ var _result_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./result.js */ "./src/js/result.js");\n/* harmony import */ var _exposeResultSDK_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./exposeResultSDK.js */ "./src/js/exposeResultSDK.js");\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\n\n\n\nfunction RenderType1(type_document = -1, init_data, cb_result) {\n    var im_w = 400;\n    var optimizer = null;\n\n    startup();\n    reCapture();\n    // nexStep();\n    var step = 0;\n    var hash_image = {};\n    var image_base64 = {};\n    var ekyc_result = {};\n    var object_local = {\n        type_document: type_document\n    };\n    var BASE_URL_API = "https://api.idg.vnpt.vn/";\n    var tutorial_btn = document.getElementById("tutorial_btn");\n\n    function startup() {\n        var parent = document.getElementById("vnpt_ekyc");\n        var content = "<div class=\'step1-demo-ekyc type1_ekyc\' id=\'step1-demo-ekyc\'>" +\n            "<ul class=\'progressbar\' id=\'progressbar\'>" +\n            "<li class=\'active complete\' id=\'progress-step0\'><var>FRONT.FRONT</var></li>" +\n            "<li id=\'progress-step1\'><var>FRONT.BACK</var></li>" +\n            "<li id=\'progress-step2\'><var>FACE.PORTRAIT</var></li>" +\n            "<li id=\'progress-step3\'><var>FRONT.RESULT</var></li>" +\n            "</ul>"\n\n        +"<div class=\'ekyc-popup\' id=\'ekyc-popup-1\'>" +\n        "<div class=\'pu-header\'>" +\n        "<img class=\'close-btn\' id=\'close-pop-1\' width=\'32px\' height=\'32px\' src=\'https://ekyc-web.vnpt.vn/images/remove_icon.png\' />" +\n        "<div class=\'icons\'>" +\n        "<img class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/touch_cmt.png\' />" +\n        "</div>" +\n        "<div class=\'content\' id=\'header-title-pop\'>" +\n        "<var>FRONT.GUIDE_1</var>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'pu-body\'>" +\n        "<ul>" +\n        "<li>" +\n        "<var>FRONT.GUIDE_2</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FRONT.GUIDE_3</var>" +\n        "</li>" +\n        "</ul>" +\n        "</div>" +\n        "<div class=\'pu-footer\'>" +\n        "<div class=\'text-center\'><img class=\'main-icons\' src=\'img/notice_1.png\'/><p><var>NOTICE.NOTICE_1</var></p></div>" +\n        "<div class=\'text-center\'><img class=\'main-icons\' src=\'img/notice_2.png\'/><p><var>NOTICE.NOTICE_2</var></p></div>" +\n        "<div class=\'text-center\'><img class=\'main-icons\' src=\'img/notice_3.png\'/><p><var>NOTICE.NOTICE_3</var></p></div>" +\n        "</div>" +\n        "</div>"\n\n        +\n        "<div class=\'ekyc-popup\' id=\'ekyc-popup-2\'>" +\n        "<div class=\'pu-header\'>" +\n        "<img class=\'close-btn\' id=\'close-pop-2\' width=\'32px\' height=\'32px\' src=\'https://ekyc-web.vnpt.vn/images/remove_icon.png\' />" +\n        "<div class=\'icons\'>" +\n        "<img id=\'popup2-icon-header\' class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/portrait_icon.png\' />" +\n        "</div>" +\n        "<div class=\'content\' id=\'popup2-title-header\'>" +\n        "<var>FACE.GUIDE_1</var>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'pu-body\'>" +\n        "<ul>" +\n        "<li>" +\n        "<var>FACE.DES_1</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FACE.GUIDE_3</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FACE.GUIDE_4</var>" +\n        "</li>" +\n        "</ul>" +\n        "</div>" +\n        "<div class=\'pu-footer\'>" +\n        "<img id=\'popup2-icon-warning1\' class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/portrait_noitice_1.svg\'/>" +\n        "<img id=\'popup2-icon-warning2\' class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/portrait_noitice_2.svg\'/>" +\n        "<img id=\'popup2-icon-warning3\' class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/portrait_noitice_3.svg\'/>" +\n        "</div>" +\n        "</div>" +\n        (showButtonHelp()) +\n        "<div class=\'webcame-zone\' id=\'webcame-zone\'>" +\n        "<div class=\'video-block\' id=\'video-block\'>" +\n        "<video class=\'action-block\' id=\'video\' autoplay=\'true\'></video>" +\n        "<div class=\'take-picture-btn\' id=\'take-picture-step1\'>" +\n        "<img id=\'take-picture-step1-img\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_w.png\'></img>" +\n        "<span class=\'title\' id=\'take-picture-step1-title\'><var>FACE.TAKE_PHOTO</var></span>" +\n        "</div>" +\n        "</div>" +\n\n        "<div id=\'canvas-border\'>" +\n        "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description\' >" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FRONT.GUIDE_4</var></span>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description2\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.DES_1</var></span>" +\n        "</div>" +\n\n        "<div class=\'step1-after-capture\' id=\'step1-after-capture\'>" +\n        "<div class=\'re-capture\' id=\'step1-re-capture\'>" +\n        "<img id=\'step1-re-capture-icon\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_b.png\'></img>" +\n        "<span id=\'step1-re-capture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n        "</div>" +\n        "<div class=\'next-step\' id=\'step1-next-step\'>" +\n        "<img id=\'step1-next-step-icon\' class=\'next-icon\' src=\'https://ekyc-web.vnpt.vn/images/next_icon_b.png\'></img>" +\n        "<span id=\'step1-next-step-title\'><var>FACE.NEXT</var></span>" +\n        "</div>" +\n        "</div>" +\n        "<div id=\'dropZone\' class=\'id-card\'>" +\n        "<div class=\'capture-btn-wrapper\'>" +\n        "<img id=\'img-capture-mobile\' class=\'img-capture-mobile\' src=\'https://ekyc-web.vnpt.vn/images/capure_mobile.png\'></img>" +\n        "<input id=\'fileInputMobile\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n        "<div id=\'title-capture-mobile\' class=\'title-capture-mobile\'><var>FACE.TOUCH</var></div>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'preview\' id=\'previewZone\'>" +\n        "<img id=\'preview-img\' src=\'\' alt=\'preview\' />" +\n        "</div>"\n\n        +\n        "<div class=\'ekyc_description\' id=\'ekyc_description_mobile1\' >" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_5</var></span>" +\n        "<br/>" +\n        "<span> <var>FACE.GUIDE_6</var></span>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description_mobile2\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_7</var> </span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_8</var></span>" +\n        "</div>"\n\n        +\n        "<div class=\'mobile-after-capture\' id=\'mobile-after-capture\'>" +\n        "<div class=\'upload-btn-wrapper\'>" +\n\n        "<button class=\'btn-active\' id=\'mobile-recapture\'>" +\n        "<img id=\'mobile-recapture-icon\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_b.png\'></img>" +\n        "<span id=\'mobile-recapture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n        "</button>" +\n        "<input id=\'fileInputMobile1\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n        "</div>" +\n        "<div class=\'next-step\' id=\'mobile-next-step\'>" +\n        "<img id=\'mobile-next-step-icon\' class=\'next-icon\' src=\'https://ekyc-web.vnpt.vn/images/next_icon_b.png\'></img>" +\n        "<span id=\'mobile-next-step-title\'><var>FACE.NEXT</var></span>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'tutorial-mobile\'><a id=\'tutorial-mobile\'><var>FACE.GUIDE</var></a></div>" +\n        "</div>";\n        parent.insertAdjacentHTML(\'beforeend\', content);\n\n        function showButtonHelp() {\n            var html = \'\';\n            if (init_data.SHOW_HELP) {\n                html = "<img id=\'tutorial_btn\' class=\'tutorial_btn\' src=\'https://ekyc-web.vnpt.vn/images/tutorial_btn.png\'></img>";\n            }\n            return html;\n        }\n\n        function initTheme() {\n\n            var after_capture = document.getElementById("step1-after-capture");\n            after_capture.style.display = \'none\';\n\n            var video = document.querySelector("#video");\n\n            var ekyc_description = document.getElementById("ekyc_description");\n            ekyc_description.style.display = \'none\';\n\n            var webcame_zone = document.getElementById("webcame-zone");\n            webcame_zone.style.display = \'none\';\n\n            var ekyc_description2 = document.getElementById("ekyc_description2");\n            ekyc_description2.style.display = \'none\';\n\n            var take_picture_step1 = document.getElementById("take-picture-step1");\n            take_picture_step1.style.display = \'none\';\n\n            var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n            ekyc_popup_2.style.display = \'none\';\n            //for mobile\n            document.getElementById("dropZone").style.display = "none";\n            document.getElementById("ekyc_description_mobile1").style.display = "none";\n            document.getElementById("tutorial-mobile").style.display = "none";\n\n            /**check data custom style */\n            if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["isEmpty"])(init_data.CAPTURE_IMAGE_STYLE)) {\n                var tutorial_btn = document.getElementById("tutorial_btn");\n                document.getElementById("ekyc_sdk_intergrated").style.background = init_data.LIST_CHOOSE_STYLE.background;\n                document.getElementById("ekyc-popup-1").style.boxShadow = init_data.CAPTURE_IMAGE_STYLE.popup1_box_shadow;\n                document.getElementById("header-title-pop").style.color = init_data.CAPTURE_IMAGE_STYLE.popup1_title_color;\n                document.getElementById("ekyc_description").style.color = init_data.CAPTURE_IMAGE_STYLE.description1_color;\n                document.getElementById("take-picture-step1").style.background = init_data.CAPTURE_IMAGE_STYLE.capture_btn_background;\n                document.getElementById("take-picture-step1-title").style.color = init_data.CAPTURE_IMAGE_STYLE.capture_btn_color;\n                document.getElementById("take-picture-step1-img").src = init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon;\n                tutorial_btn ? tutorial_btn.src = init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon : null;\n                document.getElementById("step1-re-capture").style.background = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_background;\n                document.getElementById("step1-re-capture").style.border = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_border;\n                document.getElementById("step1-re-capture-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n                document.getElementById("step1-re-capture-title").style.color = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_color;\n                document.getElementById("step1-next-step-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n                document.getElementById("step1-next-step-title").style.color = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color;\n                document.getElementById("step1-next-step").style.background = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background;\n                document.getElementById("ekyc-popup-2").style.boxShadow = init_data.CAPTURE_IMAGE_STYLE.popup2_box_shadow;\n                document.getElementById("popup2-title-header").style.color = init_data.CAPTURE_IMAGE_STYLE.popup2_title_header_color;\n                document.getElementById("popup2-icon-header").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_header;\n                document.getElementById("popup2-icon-warning1").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning1;\n                document.getElementById("popup2-icon-warning2").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning2;\n                document.getElementById("popup2-icon-warning3").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning3;\n            }\n            if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["isEmpty"])(init_data.MOBILE_STYLE)) {\n                document.getElementById("ekyc_description_mobile1").style.color = "black";\n                document.getElementById("ekyc_description_mobile2").style.color = "black";\n                document.getElementById("img-capture-mobile").src = init_data.MOBILE_STYLE.mobile_capture_btn;\n                document.getElementById("title-capture-mobile").style.color = init_data.MOBILE_STYLE.mobile_capture_desc_color;\n                document.getElementById("tutorial-mobile").style.color = init_data.MOBILE_STYLE.mobile_tutorial_color;\n                document.getElementById("mobile-recapture").style.background = init_data.MOBILE_STYLE.mobile_recapture_btn_background;\n                document.getElementById("mobile-recapture").style.border = init_data.MOBILE_STYLE.mobile_recapture_btn_border;\n                document.getElementById("mobile-recapture-icon").src = init_data.MOBILE_STYLE.mobile_recapture_btn_icon;\n                document.getElementById("mobile-recapture-title").style.color = init_data.MOBILE_STYLE.mobile_recapture_btn_color;\n                document.getElementById("mobile-next-step").style.background = init_data.MOBILE_STYLE.mobile_nextstep_btn_background;\n                document.getElementById("mobile-next-step-icon").src = init_data.MOBILE_STYLE.mobile_nextstep_btn_icon;\n                document.getElementById("mobile-next-step-title").style.color = init_data.MOBILE_STYLE.mobile_nextstep_btn_color;\n\n            }\n            if (!init_data.SHOW_HELP) {\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-1").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile1").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description = document.getElementById("ekyc_description");\n                    ekyc_description.style.display = \'block\';\n\n                    var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                    ekyc_popup_2.style.display = \'none\';\n\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n            }\n\n        }\n        initTheme();\n        try {\n            var windowWidth = window.screen.width < window.outerWidth ?\n                window.screen.width : window.outerWidth;\n\n            navigator.getUserMedia = (navigator.getUserMedia ||\n                navigator.webkitGetUserMedia ||\n                navigator.mozGetUserMedia ||\n                navigator.msGetUserMedia);\n\n            if (windowWidth > 1024 && navigator.mediaDevices.getUserMedia) {\n                var facingMode = "user"; // Can be \'user\' or \'environment\' to access back or front camera (NEAT!)\n                var constraints = {\n                    audio: false,\n                    video: {\n                        facingMode: facingMode\n                    }\n                };\n                navigator.mediaDevices.getUserMedia(constraints)\n                    .then(function(stream) {\n                        video.srcObject = stream;\n                        let wb_n = stream.getVideoTracks()[0].label ? stream.getVideoTracks()[0].label.toLowerCase() : "anonymous";\n                        if (wb_n.includes(\'fake\')) {\n                            let s = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64DecodeUnicode"])("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=")\n                            alert(s);\n                            stopBothVideoAndAudio(stream);\n                            location.reload()\n                        } else {\n\n                            video.play();\n                            captureBtn();\n                            nextStep(stream);\n                        }\n                    })\n                    .catch(function(error) {\n                        console.log("Something went wrong!", error);\n                        let s = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64DecodeUnicode"])("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=")\n                        alert(s);\n                    });\n            }\n        } catch (error) {\n            console.log(\'err webcam\', error);\n        }\n\n        closePopup1();\n        closePopup2();\n        CaptureMobile();\n        show_tutorial_popup();\n        mobile_show_tutorial_popup();\n\n        function closePopup1() {\n            document.getElementById("close-pop-1").onclick = function() {\n\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-1").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile1").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description = document.getElementById("ekyc_description");\n                    ekyc_description.style.display = \'block\';\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n\n            }\n        }\n\n        function closePopup2() {\n            document.getElementById("close-pop-2").onclick = function() {\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-2").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile2").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                    ekyc_popup_2.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description2 = document.getElementById("ekyc_description2");\n                    ekyc_description2.style.display = \'block\';\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n\n            }\n        }\n\n        function show_tutorial_popup() {\n            if (document.getElementById("tutorial_btn")) {\n                document.getElementById("tutorial_btn").onclick = function() {\n                    if (parseInt(step) <= 1) {\n                        hiddenWebcamzone()\n                        var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                        ekyc_popup_1.style.display = \'block\';\n                    } else {\n                        hiddenWebcamzone();\n                        var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                        ekyc_popup_2.style.display = \'block\';\n                    }\n                }\n            }\n        }\n\n        function mobile_show_tutorial_popup() {\n            document.getElementById("tutorial-mobile").onclick = function() {\n                if (parseInt(step) <= 1) {\n                    document.getElementById("ekyc-popup-1").style.display = "block";\n                    document.getElementById("dropZone").style.display = "none";\n                    document.getElementById("ekyc_description_mobile1").style.display = "none";\n                    document.getElementById("tutorial-mobile").style.display = "none";\n                } else {\n                    document.getElementById("ekyc-popup-2").style.display = "block";\n                    document.getElementById("dropZone").style.display = "none";\n                    document.getElementById("ekyc_description_mobile2").style.display = "none";\n                    document.getElementById("tutorial-mobile").style.display = "none";\n                }\n            }\n        }\n\n\n        function CaptureMobile() {\n            document.getElementById("fileInputMobile").onchange = function(event) {\n                let reader = new FileReader();\n                let file = this.files[0];\n                reader.onloadend = (e) => {\n                    if (file) nextStepMobile(file, e.target.result);\n                    document.getElementById("dropZone").style.display = "none";\n                    document.getElementById("previewZone").style.display = "block";\n                    document.getElementById("preview-img").src = reader.result;\n                    document.getElementById("mobile-after-capture").style.display = "flex";\n                    document.getElementById("tutorial-mobile").style.display = "none";\n\n                }\n                reader.readAsDataURL(file);\n            }\n            document.getElementById("fileInputMobile1").onchange = function(event) {\n                let reader = new FileReader();\n                let file = this.files[0];\n                reader.onloadend = (e) => {\n                    if (file) nextStepMobile(file, e.target.result);\n                    document.getElementById("dropZone").style.display = "none";\n                    document.getElementById("previewZone").style.display = "block";\n                    document.getElementById("preview-img").src = reader.result;\n                    document.getElementById("mobile-after-capture").style.display = "flex";\n                }\n                reader.readAsDataURL(file);\n            }\n        }\n\n        function nextStepMobile(file, filePreview) {\n            document.getElementById("mobile-next-step").onclick = function() {\n                step += 1;\n                const successCB = (data) => {\n                    var result = JSON.parse(data);\n                    if (step === 1) {\n                        hash_image["img_front"] = result.object.hash\n                        image_base64["img_front"] = filePreview;\n                        call_liveness_card(BASE_URL_API + "ai/v1/web/card/liveness", result.object.hash, \'liveness_card_front\', init_data.CHECK_LIVENESS_CARD);\n                        document.getElementById("dropZone").style.display = "block";\n                        document.getElementById("previewZone").style.display = "none";\n                        document.getElementById("preview-img").src = \'\';\n                    }\n                    if (step === 2) {\n                        hash_image["img_back"] = result.object.hash\n                        image_base64["img_back"] = filePreview;\n\n                        call_ocr_api(BASE_URL_API + "ai/v1/web/ocr/id");\n                        call_liveness_card(BASE_URL_API + "ai/v1/web/card/liveness", result.object.hash, \'liveness_card_back\', init_data.CHECK_LIVENESS_CARD)\n\n                        // document.getElementById("dropZone").style.display = "block";\n                        // document.getElementById("previewZone").style.display = "none";\n                        // document.getElementById("preview-img").src = \'\';\n\n                        // document.getElementById("ekyc-popup-2").style.display = \'block\';\n                        // document.getElementById("tutorial-mobile").style.display = \'none\';\n                        // document.getElementById("dropZone").style.display = \'none\';\n                        // document.getElementById("ekyc_description_mobile1").style.display = \'none\';\n                        if (!init_data.SHOW_HELP) {\n                            var windowWidth = window.screen.width < window.outerWidth ?\n                                window.screen.width : window.outerWidth;\n                            if (windowWidth <= 1024) {\n                                document.getElementById("ekyc-popup-2").style.display = "none";\n                                document.getElementById("dropZone").style.display = "block";\n                                document.getElementById("ekyc_description_mobile1").style.display = "block";\n                                document.getElementById("tutorial-mobile").style.display = "block";\n                                document.getElementById("ekyc_description").style.display = "none";\n                            } else {\n                                var webcame_zone = document.getElementById("webcame-zone");\n                                webcame_zone.style.display = \'block\';\n\n                                var ekyc_popup_1 = document.getElementById("ekyc-popup-2");\n                                ekyc_popup_1.style.display = \'none\';\n\n                                var take_picture_step1 = document.getElementById("take-picture-step1");\n                                take_picture_step1.style.display = \'flex\';\n\n                                var ekyc_description = document.getElementById("ekyc_description");\n                                ekyc_description.style.display = \'block\';\n\n                                tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                            }\n                        }\n\n\n\n                    }\n                    if (step === 3) {\n                        var parent = document.getElementById("vnpt_ekyc");\n                        var content = "<div class=\'ekyc-loading\' id=\'ekyc-loading\'><div class=\'arc\'></div></div>"\n                        parent.insertAdjacentHTML(\'beforeend\', content);\n                        hash_image["img_face"] = result.object.hash\n                        image_base64["img_face"] = filePreview;\n                        object_local[\'image_base64\'] = image_base64;\n                        call_liveness_face(BASE_URL_API + "ai/v1/web/face/liveness", result.object.hash, \'liveness_face\', init_data.CHECK_LIVENESS_FACE);\n                        call_compare_api(BASE_URL_API + "ai/v1/web/face/compare");\n                        call_masked_api(BASE_URL_API + "ai/v1/web/face/mask");\n                        document.getElementById("previewZone").style.display = \'none\';\n                        let element = document.getElementById("step1-demo-ekyc");\n                        element.parentNode.removeChild(element);\n\n\n                    }\n\n                }\n                const errorCB = (data) => {\n                    console.log(\'hahah\', data)\n                }\n                uploadImage(file, successCB, errorCB);\n                setProgressStep("progress-step" + step);\n                document.getElementById("dropZone").style.display = "block";\n                document.getElementById("tutorial-mobile").style.display = "block";\n                document.getElementById("previewZone").style.display = "none";\n                document.getElementById("mobile-after-capture").style.display = "none";\n\n            }\n        }\n    }\n\n    function uploadImage(data, successCallback, errorCallback) {\n        try {\n            var url = BASE_URL_API + "file-service/v1/addFile";\n            var formData = new FormData();\n            formData.append("file\t", data);\n            formData.append("title\t", "upload_cmt_front");\n            formData.append("description\t", "upload_cmt_front");\n            // image_base64["img_front"] = file\n            Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n                url, {},\n                formData,\n                (payload) => { successCallback(payload) },\n                (error) => { errorCallback(error) },\n                init_data\n            );\n            // document.getElementById("step1-next-step").setAttribute("data-step", step);\n        } catch (error) {\n            console.log(\'err\', error);\n        }\n    }\n\n    function stopBothVideoAndAudio(stream) {\n        stream.getTracks().forEach(function(track) {\n            if (track.readyState == \'live\') {\n                track.stop();\n            }\n        });\n    }\n    var resultb64 = "";\n\n    function captureBtn() {\n        document.getElementById("take-picture-step1").addEventListener("click", function() {\n            step += 1;\n            var canvas = document.getElementById(\'canvas\');\n            var video = document.getElementById(\'video\');\n            var current_height = Math.round(video.videoHeight / (video.videoWidth / im_w));\n            tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n            canvas.width = im_w;\n            canvas.height = current_height;\n            canvas.getContext(\'2d\').drawImage(video, 0, 0, im_w, current_height);\n            resultb64 = canvas.toDataURL(\'image/jpeg\');\n            resultb64 = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["setPropertyImage"])(resultb64, im_w, current_height);\n            document.getElementById("canvas-border").style.height = current_height + "px";\n            var dataImg = {\n                    image_type: "jpeg",\n                    width: im_w,\n                    height: current_height,\n                    brand: "wb",\n                    date_taken: Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["formatDate"])(new Date()),\n                    soft_ware: "vnpt_ekyc"\n                }\n                // var strings = uuidv4();\n            var strings = "3cb7ecbd-2343-4272-b2f1-cdb12983ecc0";\n            optimizer = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["encryptoData"])(dataImg, strings);\n\n\n            var blob = b64toBlob(resultb64);\n            if (step === 1) {\n                try {\n                    var url = BASE_URL_API + "file-service/v1/addFile";\n                    var formData = new FormData();\n                    formData.append("file\t", blob);\n                    formData.append("title\t", "upload_cmt_front");\n                    formData.append("description\t", "upload_cmt_front");\n                    image_base64["img_front"] = resultb64\n                    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n                        url, {},\n                        formData,\n                        (payload) => {\n                            var result = JSON.parse(payload);\n                            hash_image["img_front"] = result.object.hash;\n                            call_liveness_card(BASE_URL_API + "ai/v2/web/card/liveness", result.object.hash, \'liveness_card_front\', init_data.CHECK_LIVENESS_CARD);\n                        },\n                        (error) => { console.log(error) },\n                        init_data\n                    );\n                    document.getElementById("step1-next-step").setAttribute("data-step", step);\n                } catch (error) {\n                    console.log(\'err\', error);\n                }\n\n            } else if (step === 2) {\n                try {\n                    var url = BASE_URL_API + "file-service/v1/addFile";\n                    var formData = new FormData();\n                    formData.append("file\t", blob);\n                    formData.append("title\t", "upload_cmt_back");\n                    formData.append("description\t", "upload_cmt_back");\n                    image_base64["img_back"] = resultb64\n                    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n                        url, {},\n                        formData,\n                        (payload) => {\n                            var result = JSON.parse(payload);\n                            hash_image["img_back"] = result.object.hash;\n                            call_liveness_card(BASE_URL_API + "ai/v2/web/card/liveness", result.object.hash, \'liveness_card_back\', init_data.CHECK_LIVENESS_CARD)\n                        },\n                        (error) => { console.log(error) },\n                        init_data\n                    );\n                    document.getElementById("step1-next-step").setAttribute("data-step", step);\n                } catch (error) {\n                    console.log(\'err\', error);\n                }\n\n            } else if (step === 3) {\n                try {\n                    var url = BASE_URL_API + "file-service/v1/addFile";\n                    var formData = new FormData();\n                    formData.append("file\t", blob);\n                    formData.append("title\t", "upload_face_image");\n                    formData.append("description\t", "upload_face_image");\n                    image_base64["img_face"] = resultb64;\n                    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n                        url, {},\n                        formData,\n                        (payload) => {\n                            var result = JSON.parse(payload);\n                            hash_image["img_face"] = result.object.hash;\n                            call_liveness_face(BASE_URL_API + "ai/v2/web/face/liveness", hash_image["img_face"], \'liveness_face\', init_data.CHECK_LIVENESS_FACE);\n                        },\n                        (error) => { console.log(error) },\n                        init_data\n                    );\n                    document.getElementById("step1-next-step").setAttribute("data-step", step);\n                } catch (error) {\n                    console.log(\'err\', error);\n\n                }\n            }\n\n            let video_block = document.getElementById(\'video-block\');\n            let canvas_border = document.getElementById(\'canvas-border\');\n            canvas.style.display = \'block\';\n            canvas_border.style.display = \'block\';\n            video_block.style.display = \'none\';\n            this.style.display = \'none\';\n            document.getElementById("step1-after-capture").style.display = \'flex\';\n\n            var animation = bodymovin.loadAnimation({\n                container: document.getElementById(\'canvas-border\'), // Required\n                // path: \'/animation/GifDocument.json\', // Required\n                // path: \'/assets/GifDocument.json\',\n                renderer: \'svg\', // Required\n                loop: false, // Optional\n                autoplay: true, // Optional\n                name: "Hello World", // Name for future reference. Optional.\n            })\n        });\n    }\n\n    function removeAndReAddComponent() {\n        let canvas_border = document.getElementById(\'canvas-border\');\n        let html = "";\n        canvas_border.remove();\n        html = "<div id=\'canvas-border\'>" +\n            "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n            "</div>";\n        document.getElementById("webcame-zone").insertAdjacentHTML(\'beforeend\', html);\n        document.getElementById("canvas-border").style.display = "none";\n\n\n    }\n\n    function reCapture() {\n        document.getElementById("step1-re-capture").addEventListener("click", function() {\n            step = step - 1;\n            let video_block = document.getElementById(\'video-block\');\n            document.getElementById(\'step1-after-capture\').style.display = \'none\';\n            video_block.style.display = \'block\';\n            // canvas.style.display = \'none\';\n            // canvas_border.style.display = \'none\';\n            document.getElementById(\'take-picture-step1\').style.display = \'flex\';\n\n            tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n\n            removeAndReAddComponent();\n        })\n    }\n\n    function nextStep(stream = \'\') {\n        document.getElementById("step1-next-step").onclick = function() {\n            let data = this.getAttribute("data-step");\n            let video_block = document.getElementById(\'video-block\');\n            tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n            setProgressStep("progress-step" + data);\n            document.getElementById(\'step1-after-capture\').style.display = \'none\';\n            video_block.style.display = \'block\';\n            removeAndReAddComponent();\n            document.getElementById(\'take-picture-step1\').style.display = \'flex\';\n            if (data == 2) {\n                hiddenWebcamzone();\n                var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                ekyc_popup_2.style.display = \'block\';\n                tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n\n                call_ocr_api(BASE_URL_API + "ai/v2/web/ocr/id");\n                document.getElementById("ekyc_description").style.display = \'none\';\n\n                if (!init_data.SHOW_HELP) {\n                    var windowWidth = window.screen.width < window.outerWidth ?\n                        window.screen.width : window.outerWidth;\n                    if (windowWidth <= 1024) {\n                        document.getElementById("ekyc-popup-2").style.display = "none";\n                        document.getElementById("dropZone").style.display = "block";\n                        document.getElementById("ekyc_description_mobile1").style.display = "block";\n                        document.getElementById("tutorial-mobile").style.display = "block";\n                        document.getElementById("ekyc_description").style.display = "none";\n                    } else {\n                        var webcame_zone = document.getElementById("webcame-zone");\n                        webcame_zone.style.display = \'block\';\n\n                        var ekyc_popup_1 = document.getElementById("ekyc-popup-2");\n                        ekyc_popup_1.style.display = \'none\';\n\n                        var take_picture_step1 = document.getElementById("take-picture-step1");\n                        take_picture_step1.style.display = \'flex\';\n\n                        var ekyc_description = document.getElementById("ekyc_description");\n                        ekyc_description.style.display = \'block\';\n\n                        tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                    }\n                }\n            } else if (data == 3) {\n                call_compare_api(BASE_URL_API + "ai/v2/web/face/compare");\n                call_masked_api(BASE_URL_API + "ai/v2/web/face/mask");\n                document.getElementById(\'step1-demo-ekyc\').style.display = \'none\';\n                var parent = document.getElementById("vnpt_ekyc");\n                var content = "<div class=\'ekyc-loading\' id=\'ekyc-loading\'><div class=\'arc\'></div></div>"\n                parent.insertAdjacentHTML(\'beforeend\', content);\n                stopBothVideoAndAudio(stream);\n                object_local[\'image_base64\'] = image_base64;\n            }\n\n        }\n    }\n\n\n    function call_liveness_card(url, img, key, save_data = false) {\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": img,\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "sdk-web-e41-1b6d-45c9-9",\n            "optimizer": optimizer\n        };\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                let result = JSON.parse(payload);\n                ekyc_result[key] = result.object;\n                if (save_data) {\n                    object_local[key] = result;\n                } else {\n                    object_local[key] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local[key] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n    function call_liveness_face(url, img, key, save_data = false) {\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": img,\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "sdk-web-e41-1b6d-45c9-9",\n            "optimizer": optimizer\n        };\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                let result = JSON.parse(payload);\n                ekyc_result[key] = result.object;\n                if (save_data) {\n                    object_local[key] = result;\n                } else {\n                    object_local[key] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local[key] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n    function call_ocr_api(url, save_data = true) {\n        // let url =  "http://deeplearningcoban.com:8484/ocr";\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img_front": hash_image["img_front"],\n            "img_back": hash_image["img_back"],\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "e41-1b6d-45c9-9",\n            "type": type_document,\n            "crop_param": "",\n            "validate_postcode": true,\n            "optimizer": optimizer\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                var result = JSON.parse(payload);\n                ekyc_result["ocr"] = result;\n                if (save_data) {\n                    object_local["ocr"] = result;\n                } else {\n                    object_local["ocr"] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                var error = JSON.parse(error);\n                ekyc_result["orc_err"] = error;\n                object_local["ocr"] = error;\n            },\n            init_data\n        );\n    }\n\n\n    function call_masked_api(url, save_data = false) {\n        // let url =  "http://deeplearningcoban.com:8484/ocr";\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": hash_image["img_face"],\n            "face_bbox": "136;95;530;569",\n            "face_lmark": "235;309;390;248;346;375;325;477;450;428",\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "optimizer": optimizer\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                var result = JSON.parse(payload);\n                ekyc_result["masked"] = result;\n                if (save_data) {\n                    object_local["masked"] = result;\n                } else {\n                    object_local["masked"] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local["masked"] = JSON.parse(error);\n\n            },\n            init_data\n        );\n    }\n\n\n    function call_compare_api(url, save_data = true) {\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img_front": hash_image["img_front"],\n            "img_face": hash_image["img_face"],\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "abc",\n            "optimizer": optimizer\n        }\n\n        ekyc_result["image_base64"] = image_base64;\n\n        function successCallback(payload) {\n            var result = JSON.parse(payload);\n            ekyc_result["compare"] = result;\n            // object_local[\'image_base64\'] = ekyc_result[\'image_base64\'];\n            object_local["hash_img"] = hash_image;\n            if (save_data) {\n                object_local["compare"] = result;\n            } else {\n                object_local["compare"] = null;\n            }\n            cb_result(object_local)\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            document.getElementById("ekyc-loading") ? document.getElementById("ekyc-loading").style.display = \'none\' : "";\n            if (init_data.SHOW_RESULT) Object(_result_js__WEBPACK_IMPORTED_MODULE_0__["RederResult"])(ekyc_result, init_data);\n        }\n\n        function errorCallback(error) {\n            object_local["compare"] = JSON.parse(error);\n            cb_result(object_local)\n            document.getElementById("ekyc-loading") ? document.getElementById("ekyc-loading").style.display = \'none\' : "";\n            if (init_data.SHOW_RESULT) Object(_result_js__WEBPACK_IMPORTED_MODULE_0__["RederResult"])(ekyc_result, init_data);\n            console.log(error)\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            successCallback,\n            errorCallback,\n            init_data\n        );\n    }\n\n\n    function b64toBlob(dataURI) {\n        var byteString = atob(dataURI.split(\',\')[1]);\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n        return new Blob([ab], { type: \'image/jpeg\' });\n    }\n\n    function setProgressStep(data) {\n        var elems = document.querySelectorAll(".active");\n        [].forEach.call(elems, function(el) {\n            el.classList.remove("active");\n        });\n        let class_name = \'active complete\';\n        data.includes("undefined") ? \'\' : document.getElementById(data).className = class_name;\n\n        // e.target.className = "active";\n    }\n\n    function hiddenWebcamzone() {\n        var webcame_zone = document.getElementById("webcame-zone");\n        webcame_zone.style.display = \'none\';\n        var take_picture_step1 = document.getElementById("take-picture-step1");\n        take_picture_step1.style.display = \'none\';\n\n        var ekyc_description = document.getElementById("ekyc_description");\n        ekyc_description.style.display = \'none\';\n\n        var ekyc_description2 = document.getElementById("ekyc_description2");\n        ekyc_description2.style.display = \'none\';\n\n        tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n    }\n\n\n    const root = document.getElementsByClassName(\'type1_ekyc\')[0];\n    const varTags = root.getElementsByTagName("var");\n    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n\n}\n\n\n\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/type1.js?')},"./src/js/type2.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderType2", function() { return RenderType2; });\n/* harmony import */ var _result2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./result2.js */ "./src/js/result2.js");\n/* harmony import */ var _ekycHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ekycHelper */ "./src/js/ekycHelper.js");\n\n\n\n\n\nfunction RenderType2(type_document = -1, init_data, cb_result) {\n    startup();\n    reCapture();\n    var im_w = 400;\n    var optimizer = null;\n    var step = 0;\n    var hash_image = {};\n    var image_base64 = {};\n    var ekyc_result = {};\n    var object_local = {\n        type_document: type_document\n    };\n    var BASE_URL_API = "https://api.idg.vnpt.vn/";\n    var tutorial_btn = document.getElementById("tutorial_btn");\n\n    function startup() {\n        var parent = document.getElementById("vnpt_ekyc");\n        var content = "<div class=\'step1-demo-ekyc type2_ekyc\' id=\'step1-demo-ekyc\'>" +\n            "<ul class=\'progressbar progressbar2\' id=\'progressbar\'>" +\n            "<li class=\'active complete\' id=\'progress-step0\'><var>FRONT.FRONT</var></li>" +\n            "<li id=\'progress-step1\'><var>FRONT.PORTRAIT</var></li>" +\n            "<li id=\'progress-step2\'><var>FRONT.RESULT</var></li>" +\n            "</ul>"\n\n        +"<div class=\'ekyc-popup\' id=\'ekyc-popup-1\'>" +\n        "<div class=\'pu-header\'>" +\n        "<img class=\'close-btn\' id=\'close-pop-1\' width=\'32px\' height=\'32px\' src=\'https://ekyc-web.vnpt.vn/images/remove_icon.png\' />" +\n        "<div class=\'icons\'>" +\n        "<img class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/touch_cmt.png\' />" +\n        "</div>" +\n        "<div class=\'content\' id=\'header-title-pop\'>" +\n        "<var>FRONT.GUIDE_1</var>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'pu-body\'>" +\n        "<ul>" +\n        "<li>" +\n        "<var>FRONT.GUIDE_2</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FRONT.GUIDE_3</var>" +\n        "</li>" +\n        "</ul>" +\n        "</div>" +\n        "<div class=\'pu-footer\'>" +\n        "<img class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/cmt_noitice1.svg\'/>" +\n        "<img class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/cmt_noitice2.svg\'/>" +\n        "<img class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/cmt_noitice3.svg\'/>" +\n        "</div>" +\n        "</div>"\n\n        +\n        "<div class=\'ekyc-popup\' id=\'ekyc-popup-2\'>" +\n        "<div class=\'pu-header\'>" +\n        "<img class=\'close-btn\' id=\'close-pop-2\' width=\'32px\' height=\'32px\' src=\'https://ekyc-web.vnpt.vn/images/remove_icon.png\' />" +\n        "<div class=\'icons\'>" +\n        "<img id=\'popup2-icon-header\' class=\'main-icons\' src=\'https://ekyc-web.vnpt.vn/images/portrait_icon.png\' />" +\n        "</div>" +\n        "<div class=\'content\' id=\'popup2-title-header\'>" +\n        "<var>FACE.GUIDE_1</var>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'pu-body\'>" +\n        "<ul>" +\n        "<li>" +\n        "<var>FACE.DES_1</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FACE.GUIDE_3</var>" +\n        "</li>" +\n        "<li>" +\n        "<var>FACE.GUIDE_4</var>" +\n        "</li>" +\n        "</ul>" +\n        "</div>" +\n        "<div class=\'pu-footer\'>" +\n        "<div class=\'text-center\'><img id=\'popup2-icon-warning1\' class=\'main-icons\' src=\'img/notice_1.png\'/><p><var>NOTICE.NOTICE_1</var></p></div>" +\n        "<div class=\'text-center\'><img id=\'popup2-icon-warning2\' class=\'main-icons\' src=\'img/notice_2.png\'/><p><var>NOTICE.NOTICE_2</var></p></div>" +\n        "<div class=\'text-center\'><img id=\'popup2-icon-warning3\' class=\'main-icons\' src=\'img/notice_3.png\'/><p><var>NOTICE.NOTICE_3</var></p></div>" +\n        "</div>" +\n        "</div>"\n\n        +\n        (showButtonHelp())\n\n        +\n        "<div class=\'webcame-zone\' id=\'webcame-zone\'>" +\n        "<div class=\'video-block\' id=\'video-block\'>" +\n        "<video class=\'action-block\' id=\'video\' autoplay=\'true\'></video>" +\n        "</div>" +\n        "<div id=\'canvas-border\'>" +\n        "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FRONT.GUIDE_4</var></span>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description2\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.DES_1</var></span>" +\n        "</div>" +\n        "<div class=\'take-picture-btn\' id=\'take-picture-step1\'>" +\n        "<img id=\'take-picture-step1-img\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_w.png\'></img>" +\n        "<span class=\'title\' id=\'take-picture-step1-title\'>Chụp ảnh</span>" +\n        "</div>" +\n        "<div class=\'step1-after-capture\' id=\'step1-after-capture\'>" +\n        "<div class=\'re-capture\' id=\'step1-re-capture\'>" +\n        "<img id=\'step1-re-capture-icon\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_b.png\'></img>" +\n        "<span id=\'step1-re-capture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n        "</div>" +\n        "<div class=\'next-step\' id=\'step1-next-step\'>" +\n        "<img id=\'step1-next-step-icon\' class=\'next-icon\' src=\'https://ekyc-web.vnpt.vn/images/next_icon_b.png\'></img>" +\n        "<span id=\'step1-next-step-title\'><var>FACE.NEXT</var></span>" +\n        "</div>" +\n        "</div>" +\n        "<div id=\'dropZone\' class=\'id-card\'>" +\n        "<div class=\'capture-btn-wrapper\'>" +\n        "<img id=\'img-capture-mobile\' class=\'img-capture-mobile\' src=\'https://ekyc-web.vnpt.vn/images/capure_mobile.png\'></img>" +\n        "<input id=\'fileInputMobile\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n        "<div id=\'title-capture-mobile\' class=\'title-capture-mobile\'><var>FACE.TOUCH</var></div>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'preview\' id=\'previewZone\'>" +\n        "<img id=\'preview-img\' src=\'\' alt=\'preview\' />" +\n        "</div>"\n\n        +\n        "<div class=\'ekyc_description\' id=\'ekyc_description_mobile1\' >" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_5</var></span>" +\n        "<br/>" +\n        "<span> <var>FACE.GUIDE_6</var></span>" +\n        "</div>" +\n        "<div class=\'ekyc_description\' id=\'ekyc_description_mobile2\'>" +\n        "<span><var>FACE.PLEASE</var></span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_7</var> </span>" +\n        "<br/>" +\n        "<span><var>FACE.GUIDE_8</var></span>" +\n        "</div>"\n\n        +\n        "<div class=\'mobile-after-capture\' id=\'mobile-after-capture\'>" +\n        "<div class=\'upload-btn-wrapper\'>" +\n\n        "<button class=\'btn-active\' id=\'mobile-recapture\'>" +\n        "<img id=\'mobile-recapture-icon\' class=\'camera-icon\' src=\'https://ekyc-web.vnpt.vn/images/capture_icon_b.png\'></img>" +\n        "<span id=\'mobile-recapture-title\'><var>FACE.TAKE_AGAIN</var></span>" +\n        "</button>" +\n        "<input id=\'fileInputMobile1\' type=\'file\' accept=\'image/*\' capture=\'environment\'>" +\n        "</div>" +\n        "<div class=\'next-step\' id=\'mobile-next-step\'>" +\n        "<img id=\'mobile-next-step-icon\' class=\'next-icon\' src=\'https://ekyc-web.vnpt.vn/images/next_icon_b.png\'></img>" +\n        "<span  id=\'mobile-next-step-title\'><var>FACE.NEXT</var></span>" +\n        "</div>" +\n        "</div>" +\n        "<div class=\'tutorial-mobile\'><a id=\'tutorial-mobile\'><var>FACE.GUIDE</var></a></div>" +\n        "</div>";\n        parent.insertAdjacentHTML(\'beforeend\', content);\n\n        function showButtonHelp() {\n            var html = \'\';\n            if (init_data.SHOW_HELP) {\n                html = "<img id=\'tutorial_btn\' class=\'tutorial_btn\' src=\'https://ekyc-web.vnpt.vn/images/tutorial_btn.png\'></img>";\n            }\n            return html;\n        }\n\n        function initTheme() {\n            var after_capture = document.getElementById("step1-after-capture");\n            after_capture.style.display = \'none\';\n\n            var video = document.querySelector("#video");\n\n            var ekyc_description = document.getElementById("ekyc_description");\n            ekyc_description.style.display = \'none\';\n\n            var webcame_zone = document.getElementById("webcame-zone");\n            webcame_zone.style.display = \'none\';\n\n            var ekyc_description2 = document.getElementById("ekyc_description2");\n            ekyc_description2.style.display = \'none\';\n\n            var take_picture_step1 = document.getElementById("take-picture-step1");\n            take_picture_step1.style.display = \'none\';\n\n            var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n            ekyc_popup_2.style.display = \'none\';\n\n            //for mobile\n            document.getElementById("dropZone").style.display = "none";\n            document.getElementById("ekyc_description_mobile1").style.display = "none";\n            document.getElementById("tutorial-mobile").style.display = "none";\n\n\n            /**check data custom style */\n            if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["isEmpty"])(init_data.CAPTURE_IMAGE_STYLE)) {\n                var tutorial_btn = document.getElementById("tutorial_btn");\n                document.getElementById("ekyc_sdk_intergrated").style.background = init_data.LIST_CHOOSE_STYLE.background;\n                document.getElementById("ekyc-popup-1").style.boxShadow = init_data.CAPTURE_IMAGE_STYLE.popup1_box_shadow;\n                document.getElementById("header-title-pop").style.color = init_data.CAPTURE_IMAGE_STYLE.popup1_title_color;\n                document.getElementById("ekyc_description").style.color = init_data.CAPTURE_IMAGE_STYLE.description1_color;\n                document.getElementById("take-picture-step1").style.background = init_data.CAPTURE_IMAGE_STYLE.capture_btn_background;\n                document.getElementById("take-picture-step1-title").style.color = init_data.CAPTURE_IMAGE_STYLE.capture_btn_color;\n                document.getElementById("take-picture-step1-img").src = init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon;\n                tutorial_btn ? tutorial_btn.src = init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon : null;\n                document.getElementById("step1-re-capture").style.background = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_background;\n                document.getElementById("step1-re-capture").style.border = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_border;\n                document.getElementById("step1-re-capture-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n                document.getElementById("step1-re-capture-title").style.color = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_color;\n                document.getElementById("step1-next-step-icon").src = init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon;\n                document.getElementById("step1-next-step-title").style.color = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color;\n                document.getElementById("step1-next-step").style.background = init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background;\n                document.getElementById("ekyc-popup-2").style.boxShadow = init_data.CAPTURE_IMAGE_STYLE.popup2_box_shadow;\n                document.getElementById("popup2-title-header").style.color = init_data.CAPTURE_IMAGE_STYLE.popup2_title_header_color;\n                document.getElementById("popup2-icon-header").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_header;\n                document.getElementById("popup2-icon-warning1").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning1;\n                document.getElementById("popup2-icon-warning2").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning2;\n                document.getElementById("popup2-icon-warning3").src = init_data.CAPTURE_IMAGE_STYLE.popup2_icon_warning3;\n            }\n            if (!Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["isEmpty"])(init_data.MOBILE_STYLE)) {\n                document.getElementById("ekyc_description_mobile1").style.color = "black";\n                document.getElementById("ekyc_description_mobile2").style.color = "black";\n                document.getElementById("img-capture-mobile").src = init_data.MOBILE_STYLE.mobile_capture_btn;\n                document.getElementById("title-capture-mobile").style.color = init_data.MOBILE_STYLE.mobile_capture_desc_color;\n                document.getElementById("tutorial-mobile").style.color = init_data.MOBILE_STYLE.mobile_tutorial_color;\n                document.getElementById("mobile-recapture").style.background = init_data.MOBILE_STYLE.mobile_recapture_btn_background;\n                document.getElementById("mobile-recapture").style.border = init_data.MOBILE_STYLE.mobile_recapture_btn_border;\n                document.getElementById("mobile-recapture-icon").src = init_data.MOBILE_STYLE.mobile_recapture_btn_icon;\n                document.getElementById("mobile-recapture-title").style.color = init_data.MOBILE_STYLE.mobile_recapture_btn_color;\n                document.getElementById("mobile-next-step").style.background = init_data.MOBILE_STYLE.mobile_nextstep_btn_background;\n                document.getElementById("mobile-next-step-icon").src = init_data.MOBILE_STYLE.mobile_nextstep_btn_icon;\n                document.getElementById("mobile-next-step-title").style.color = init_data.MOBILE_STYLE.mobile_nextstep_btn_color;\n\n            }\n            if (!init_data.SHOW_HELP) {\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-1").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile1").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description = document.getElementById("ekyc_description");\n                    ekyc_description.style.display = \'block\';\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n            }\n        }\n        initTheme();\n        try {\n            var windowWidth = window.screen.width < window.outerWidth ?\n                window.screen.width : window.outerWidth;\n            navigator.getUserMedia = (navigator.getUserMedia ||\n                navigator.webkitGetUserMedia ||\n                navigator.mozGetUserMedia ||\n                navigator.msGetUserMedia);\n\n            if (windowWidth > 1024 && navigator.mediaDevices.getUserMedia) {\n                var facingMode = "user"; // Can be \'user\' or \'environment\' to access back or front camera (NEAT!)\n                var constraints = {\n                    audio: false,\n                    video: {\n                        facingMode: facingMode\n                    }\n                };\n                navigator.mediaDevices.getUserMedia(constraints)\n                    .then(function(stream) {\n                        video.srcObject = stream;\n                        let wb_n = stream.getVideoTracks()[0].label ? stream.getVideoTracks()[0].label.toLowerCase() : "anonymous";\n                        if (wb_n.includes(\'fake\')) {\n                            let s = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64DecodeUnicode"])("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=")\n                            alert(s);\n                            stopBothVideoAndAudio(stream);\n                            location.reload()\n                        } else {\n                            video.play();\n                            captureBtn();\n                            nextStep(stream);\n\n                        }\n                    })\n                    .catch(function(error) {\n                        console.log("Something went wrong!", error);\n                        let s = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64DecodeUnicode"])("VnVpIGzDsm5nIGtp4buDbSB0cmEgY2FtZXJhIGPhu6dhIGLhuqFuICE=")\n                        alert(s);\n                    });\n            }\n        } catch (error) {\n            console.log(\'webcam err\', error);\n        }\n\n\n        CaptureMobile();\n        show_tutorial_popup();\n        mobile_show_tutorial_popup();\n        closePopup1();\n        closePopup2();\n\n        function closePopup1() {\n            document.getElementById("close-pop-1").onclick = function() {\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-1").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile1").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description = document.getElementById("ekyc_description");\n                    ekyc_description.style.display = \'block\';\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n\n            }\n        }\n\n        function closePopup2() {\n            document.getElementById("close-pop-2").onclick = function() {\n                var windowWidth = window.screen.width < window.outerWidth ?\n                    window.screen.width : window.outerWidth;\n                if (windowWidth <= 1024) {\n                    document.getElementById("ekyc-popup-2").style.display = "none";\n                    document.getElementById("dropZone").style.display = "block";\n                    document.getElementById("ekyc_description_mobile2").style.display = "block";\n                    document.getElementById("tutorial-mobile").style.display = "block";\n                    document.getElementById("ekyc_description").style.display = "none";\n                } else {\n                    var webcame_zone = document.getElementById("webcame-zone");\n                    webcame_zone.style.display = \'block\';\n\n                    var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                    ekyc_popup_2.style.display = \'none\';\n\n                    var take_picture_step1 = document.getElementById("take-picture-step1");\n                    take_picture_step1.style.display = \'flex\';\n\n                    var ekyc_description2 = document.getElementById("ekyc_description2");\n                    ekyc_description2.style.display = \'block\';\n\n                    tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                }\n            }\n        }\n\n\n\n        if (document.getElementById("tutorial_btn")) {\n            document.getElementById("tutorial_btn").onclick = function() {\n                if (parseInt(step) == 0) {\n                    hiddenWebcamzone()\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'block\';\n                } else {\n                    hiddenWebcamzone();\n                    var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                    ekyc_popup_2.style.display = \'block\';\n                }\n            }\n        }\n\n\n    }\n    var resultb64 = "";\n\n    function captureBtn() {\n        document.getElementById("take-picture-step1").addEventListener("click", function() {\n            step += 1;\n            var canvas = document.getElementById(\'canvas\');\n            var video = document.getElementById(\'video\');\n            var current_height = Math.round(video.videoHeight / (video.videoWidth / im_w));\n\n            tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n            canvas.width = im_w;\n            canvas.height = current_height;\n            canvas.getContext(\'2d\').drawImage(video, 0, 0, im_w, current_height);\n            resultb64 = canvas.toDataURL(\'image/jpeg\');\n            resultb64 = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["setPropertyImage"])(resultb64, im_w, current_height);\n            document.getElementById("canvas-border").style.height = current_height + "px";\n            var dataImg = {\n                    image_type: "jpeg",\n                    width: im_w,\n                    height: current_height,\n                    brand: "wb",\n                    date_taken: Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["formatDate"])(new Date()),\n                    soft_ware: "vnpt_ekyc"\n                }\n                // var strings = uuidv4();\n            var strings = "3cb7ecbd-2343-4272-b2f1-cdb12983ecc0";\n            optimizer = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["encryptoData"])(dataImg, strings);\n\n            var blob = Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64toBlob"])(resultb64);\n            if (step === 1) {\n                var url = BASE_URL_API + "file-service/v1/addFile";\n                var formData = new FormData();\n                formData.append("file\t", blob);\n                formData.append("title\t", "upload_cmt_front");\n                formData.append("description\t", "upload_cmt_front");\n                image_base64["img_front"] = resultb64\n                Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n                    url, {},\n                    formData,\n                    (payload) => {\n                        var result = JSON.parse(payload);\n                        hash_image["img_front"] = result.object.hash;\n                        call_liveness_card(BASE_URL_API + "ai/v2/web/card/liveness", result.object.hash, \'liveness_card_front\', init_data.CHECK_LIVENESS_CARD)\n\n                    },\n                    (error) => { console.log(error) },\n                    init_data\n                );\n                document.getElementById("step1-next-step").setAttribute("data-step", step);\n            }\n            if (step === 2) {\n                var url = BASE_URL_API + "file-service/v1/addFile";\n                var formData = new FormData();\n                formData.append("file\t", blob);\n                formData.append("title\t", "upload_face_image");\n                formData.append("description\t", "upload_face_image");\n                image_base64["img_face"] = resultb64;\n                Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n                    url, {},\n                    formData,\n                    (payload) => {\n                        var result = JSON.parse(payload);\n                        hash_image["img_face"] = result.object.hash;\n                        call_liveness_face(BASE_URL_API + "ai/v2/web/face/liveness", result.object.hash, \'liveness_face\', init_data.CHECK_LIVENESS_FACE);\n                    },\n                    (error) => { console.log(error) },\n                    init_data\n                );\n                // nexStep(step)\n                document.getElementById("step1-next-step").setAttribute("data-step", step);\n\n            }\n            let video_block = document.getElementById(\'video-block\');\n            let canvas_border = document.getElementById(\'canvas-border\');\n            canvas.style.display = \'block\';\n            canvas_border.style.display = \'block\';\n            video_block.style.display = \'none\';\n            this.style.display = \'none\';\n            document.getElementById("step1-after-capture").style.display = \'flex\';\n            var animation = bodymovin.loadAnimation({\n                container: document.getElementById(\'canvas-border\'), // Required\n                // path: \'/animation/GifDocument.json\', // Required\n                // path: \'/assets/GifDocument.json\',\n                renderer: \'svg\', // Required\n                loop: false, // Optional\n                autoplay: true, // Optional\n                name: "Hello World", // Name for future reference. Optional.\n            })\n\n        });\n    }\n\n    function removeAndReAddComponent() {\n        let canvas_border = document.getElementById(\'canvas-border\');\n        let html = "";\n        canvas_border.remove();\n        html = "<div id=\'canvas-border\'>" +\n            "<canvas id=\'canvas\' style=\'overflow:auto; display:none\'></canvas>" +\n            "</div>";\n        document.getElementById("webcame-zone").insertAdjacentHTML(\'beforeend\', html);\n        document.getElementById("canvas-border").style.display = "none";\n\n    }\n\n\n    function stopBothVideoAndAudio(stream) {\n        stream.getTracks().forEach(function(track) {\n            if (track.readyState == \'live\') {\n                track.stop();\n            }\n        });\n    }\n\n    function reCapture() {\n        document.getElementById("step1-re-capture").addEventListener("click", function() {\n            let video_block = document.getElementById(\'video-block\');\n            step = step - 1;\n            document.getElementById(\'step1-after-capture\').style.display = \'none\';\n            video_block.style.display = \'block\';\n            // canvas.style.display = \'none\';\n            document.getElementById(\'take-picture-step1\').style.display = \'flex\';\n            tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n\n            removeAndReAddComponent();\n        })\n    }\n\n    function nextStep(stream = \'\') {\n        document.getElementById("step1-next-step").onclick = function() {\n            let data = this.getAttribute("data-step");\n            let video_block = document.getElementById(\'video-block\');\n            tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n            setProgressStep("progress-step" + data);\n            document.getElementById(\'step1-after-capture\').style.display = \'none\';\n            video_block.style.display = \'block\';\n            canvas.style.display = \'none\';\n            document.getElementById(\'take-picture-step1\').style.display = \'flex\';\n            removeAndReAddComponent();\n\n            if (data == 1) {\n\n                hiddenWebcamzone();\n                var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                ekyc_popup_2.style.display = \'block\';\n                tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n\n                call_ocr_api(BASE_URL_API + "ai/v2/web/ocr/id/front");\n                // document.getElementById("ekyc_description2").style.display = \'block\';\n                document.getElementById("ekyc_description").style.display = \'none\';\n\n                if (!init_data.SHOW_HELP) {\n                    var windowWidth = window.screen.width < window.outerWidth ?\n                        window.screen.width : window.outerWidth;\n                    if (windowWidth <= 1024) {\n                        document.getElementById("ekyc-popup-2").style.display = "none";\n                        document.getElementById("dropZone").style.display = "block";\n                        document.getElementById("ekyc_description_mobile1").style.display = "block";\n                        document.getElementById("tutorial-mobile").style.display = "block";\n                        document.getElementById("ekyc_description").style.display = "none";\n                    } else {\n                        var webcame_zone = document.getElementById("webcame-zone");\n                        webcame_zone.style.display = \'block\';\n\n                        var ekyc_popup_1 = document.getElementById("ekyc-popup-2");\n                        ekyc_popup_1.style.display = \'none\';\n\n                        var take_picture_step1 = document.getElementById("take-picture-step1");\n                        take_picture_step1.style.display = \'flex\';\n\n                        var ekyc_description = document.getElementById("ekyc_description");\n                        ekyc_description.style.display = \'block\';\n\n                        tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                    }\n                }\n\n            }\n            if (data == 2) {\n                call_compare_api(BASE_URL_API + "ai/v2/web/face/compare");\n                call_masked_api(BASE_URL_API + "ai/v2/web/face/mask");\n                document.getElementById(\'step1-demo-ekyc\').style.display = \'none\';\n                var parent = document.getElementById("vnpt_ekyc");\n                var content = "<div class=\'ekyc-loading\' id=\'ekyc-loading\'><div class=\'arc\'></div></div>"\n                parent.insertAdjacentHTML(\'beforeend\', content);\n                stopBothVideoAndAudio(stream);\n                object_local[\'image_base64\'] = image_base64;\n            }\n        }\n    }\n\n\n    function call_liveness_card(url, img, key, save_data = false) {\n        // let url = BASE_URL_API + "ai/v2/web/face/liveness";\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": img,\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "sdk-web-e41-1b6d-45c9-9",\n            "optimizer": optimizer\n        };\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n\n                let result = JSON.parse(payload);\n                ekyc_result[key] = result.object;\n                console.log(\'result_liveness\', save_data);\n                if (save_data) {\n                    object_local[key] = result;\n                } else {\n                    object_local[key] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local[key] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n    function call_liveness_face(url, img, key, save_data = false) {\n        // let url = BASE_URL_API + "ai/v2/web/face/liveness";\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": img,\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "sdk-web-e41-1b6d-45c9-9",\n            "optimizer": optimizer\n        };\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                let result = JSON.parse(payload);\n                ekyc_result[key] = result.object;\n                if (save_data) {\n                    object_local[key] = result;\n                } else {\n                    object_local[key] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local[key] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n    function call_ocr_api(url, save_data = true) {\n        // var url = BASE_URL_API + "ai/v2/web/ocr/id/front";\n        var header = { key: "Content-Type", value: "application/json" };\n        var jsonData = {\n            "img_front": hash_image["img_front"],\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "e41-1b6d-45c9-9",\n            "type": type_document,\n            "validate_postcode": true,\n            "optimizer": optimizer\n\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                var result = JSON.parse(payload);\n                ekyc_result["ocr"] = result;\n                if (save_data) {\n                    object_local[\'ocr\'] = result;\n                } else {\n                    object_local[\'ocr\'] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local[\'ocr\'] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n\n    function call_compare_api(url, save_data = true) {\n        var header = { key: "Content-Type", value: "application/json" };\n        var jsonData = {\n            "img_front": hash_image["img_front"],\n            "img_face": hash_image["img_face"],\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "token": "abc",\n            "optimizer": optimizer\n        }\n\n        ekyc_result["image_base64"] = image_base64;\n\n        function successCallback(payload) {\n            var result = JSON.parse(payload);\n            ekyc_result["compare"] = result;\n            object_local["hash_img"] = hash_image;\n            if (save_data) {\n                object_local[\'compare\'] = result;\n            } else {\n                object_local[\'compare\'] = null;\n            }\n            cb_result(object_local)\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            document.getElementById("ekyc-loading") ? document.getElementById("ekyc-loading").style.display = \'none\' : "";\n            if (init_data.SHOW_RESULT) Object(_result2_js__WEBPACK_IMPORTED_MODULE_0__["RederResult2"])(ekyc_result, init_data);\n        }\n\n        function errorCallback(error) {\n            object_local[\'compare\'] = JSON.parse(error);\n            cb_result(object_local)\n            document.getElementById("ekyc-loading") ? document.getElementById("ekyc-loading").style.display = \'none\' : "";\n            if (init_data.SHOW_RESULT) Object(_result2_js__WEBPACK_IMPORTED_MODULE_0__["RederResult2"])(ekyc_result, init_data);\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            successCallback,\n            errorCallback,\n            init_data\n        );\n    }\n\n    function call_masked_api(url, save_data = false) {\n        // let url = BASE_URL_API + "ai/v2/web/face/mask";\n        let header = { key: "Content-Type", value: "application/json" };\n        let jsonData = {\n            "img": hash_image["img_face"],\n            "face_bbox": "136;95;530;569",\n            "face_lmark": "235;309;390;248;346;375;325;477;450;428",\n            "client_session": "9fb8ee41-1b6d-45c9-9ff4-645bb269df7e-1566189277196",\n            "optimizer": optimizer\n        }\n        Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n            url,\n            header,\n            JSON.stringify(jsonData),\n            (payload) => {\n                var result = JSON.parse(payload);\n                ekyc_result["masked"] = result;\n                if (save_data) {\n                    object_local["masked"] = result;\n                } else {\n                    object_local["masked"] = null;\n                }\n                // localStorage.ekyc_result = JSON.stringify(object_local);\n            },\n            (error) => {\n                console.log(error);\n                object_local["masked"] = JSON.parse(error);\n            },\n            init_data\n        );\n    }\n\n    function setProgressStep(data) {\n        var elems = document.querySelectorAll(".active");\n        [].forEach.call(elems, function(el) {\n            el.classList.remove("active");\n        });\n        let class_name = \'active complete\';\n        data.includes("undefined") ? \'\' : document.getElementById(data).className = class_name;\n\n        // e.target.className = "active";\n    }\n\n    function hiddenWebcamzone() {\n        var webcame_zone = document.getElementById("webcame-zone");\n        webcame_zone.style.display = \'none\';\n        var take_picture_step1 = document.getElementById("take-picture-step1");\n        take_picture_step1.style.display = \'none\';\n\n        var ekyc_description = document.getElementById("ekyc_description");\n        ekyc_description.style.display = \'none\';\n\n        var ekyc_description2 = document.getElementById("ekyc_description2");\n        ekyc_description2.style.display = \'none\';\n\n        tutorial_btn ? tutorial_btn.style.display = \'none\' : null;\n\n    }\n\n    function show_tutorial_popup() {\n        if (document.getElementById("tutorial_btn")) {\n            document.getElementById("tutorial_btn").onclick = function() {\n                if (parseInt(step) <= 1) {\n                    hiddenWebcamzone()\n                    var ekyc_popup_1 = document.getElementById("ekyc-popup-1");\n                    ekyc_popup_1.style.display = \'block\';\n                } else {\n                    hiddenWebcamzone();\n                    var ekyc_popup_2 = document.getElementById("ekyc-popup-2");\n                    ekyc_popup_2.style.display = \'block\';\n                }\n            }\n        }\n    }\n\n    function mobile_show_tutorial_popup() {\n        document.getElementById("tutorial-mobile").onclick = function() {\n            if (parseInt(step) <= 1) {\n                document.getElementById("ekyc-popup-1").style.display = "block";\n                document.getElementById("dropZone").style.display = "none";\n                document.getElementById("ekyc_description_mobile1").style.display = "none";\n                document.getElementById("tutorial-mobile").style.display = "none";\n\n            } else {\n                document.getElementById("ekyc-popup-2").style.display = "block";\n                document.getElementById("dropZone").style.display = "none";\n                document.getElementById("ekyc_description_mobile2").style.display = "none";\n                document.getElementById("tutorial-mobile").style.display = "none";\n\n            }\n        }\n    }\n\n    function CaptureMobile() {\n        document.getElementById("fileInputMobile").onchange = function(event) {\n            let reader = new FileReader();\n            let file = this.files[0];\n            reader.onloadend = (e) => {\n                if (file) nextStepMobile(file, e.target.result);\n                document.getElementById("dropZone").style.display = "none";\n                document.getElementById("previewZone").style.display = "block";\n                document.getElementById("preview-img").src = reader.result;\n                document.getElementById("mobile-after-capture").style.display = "flex";\n                document.getElementById("tutorial-mobile").style.display = "none";\n\n            }\n            reader.readAsDataURL(file);\n        }\n        document.getElementById("fileInputMobile1").onchange = function(event) {\n            let reader = new FileReader();\n            let file = this.files[0];\n            reader.onloadend = (e) => {\n                if (file) nextStepMobile(file, e.target.result);\n                document.getElementById("dropZone").style.display = "none";\n                document.getElementById("previewZone").style.display = "block";\n                document.getElementById("preview-img").src = reader.result;\n                document.getElementById("mobile-after-capture").style.display = "flex";\n            }\n            reader.readAsDataURL(file);\n        }\n    }\n\n    function nextStepMobile(file, filePreview) {\n        document.getElementById("mobile-next-step").onclick = function() {\n            step += 1;\n            const successCB = (data) => {\n                var result = JSON.parse(data);\n                if (step === 1) {\n                    hash_image["img_front"] = result.object.hash\n                    image_base64["img_front"] = filePreview;\n                    call_liveness_card(BASE_URL_API + "ai/v1/web/card/liveness", result.object.hash, \'liveness_card_front\', init_data.CHECK_LIVENESS_CARD);\n                    // document.getElementById("dropZone").style.display = "block";\n                    // document.getElementById("previewZone").style.display = "none";\n                    // document.getElementById("preview-img").src = \'\';\n\n                    // document.getElementById("ekyc-popup-2").style.display = \'block\';\n                    // document.getElementById("tutorial-mobile").style.display = \'none\';\n                    // document.getElementById("dropZone").style.display = \'none\';\n                    // document.getElementById("ekyc_description_mobile1").style.display = \'none\';\n                    if (!init_data.SHOW_HELP) {\n                        var windowWidth = window.screen.width < window.outerWidth ?\n                            window.screen.width : window.outerWidth;\n                        if (windowWidth <= 1024) {\n                            document.getElementById("ekyc-popup-2").style.display = "none";\n                            document.getElementById("dropZone").style.display = "block";\n                            document.getElementById("ekyc_description_mobile1").style.display = "block";\n                            document.getElementById("tutorial-mobile").style.display = "block";\n                            document.getElementById("ekyc_description").style.display = "none";\n                        } else {\n                            var webcame_zone = document.getElementById("webcame-zone");\n                            webcame_zone.style.display = \'block\';\n\n                            var ekyc_popup_1 = document.getElementById("ekyc-popup-2");\n                            ekyc_popup_1.style.display = \'none\';\n\n                            var take_picture_step1 = document.getElementById("take-picture-step1");\n                            take_picture_step1.style.display = \'flex\';\n\n                            var ekyc_description = document.getElementById("ekyc_description");\n                            ekyc_description.style.display = \'block\';\n\n                            tutorial_btn ? tutorial_btn.style.display = \'block\' : null;\n                        }\n                    }\n                }\n                if (step === 2) {\n                    var parent = document.getElementById("vnpt_ekyc");\n                    var content = "<div class=\'ekyc-loading\' id=\'ekyc-loading\'><div class=\'arc\'></div></div>"\n                    parent.insertAdjacentHTML(\'beforeend\', content);\n                    hash_image["img_face"] = result.object.hash\n                    image_base64["img_face"] = filePreview;\n                    object_local[\'image_base64\'] = image_base64;\n                    call_liveness_face(BASE_URL_API + "ai/v1/web/face/liveness", result.object.hash, \'liveness_face\', init_data.CHECK_LIVENESS_FACE);\n                    call_ocr_api(BASE_URL_API + "ai/v1/web/ocr/id/front");\n                    call_compare_api(BASE_URL_API + "ai/v1/web/face/compare");\n                    call_masked_api(BASE_URL_API + "ai/v1/web/face/mask");\n                    document.getElementById("previewZone").style.display = \'none\';\n                    let element = document.getElementById("step1-demo-ekyc");\n                    element.parentNode.removeChild(element);\n\n                }\n            }\n            const errorCB = (data) => {\n                console.log(\'hahah\', data)\n            }\n            uploadImage(file, successCB, errorCB);\n            setProgressStep("progress-step" + step);\n            document.getElementById("dropZone").style.display = "block";\n            document.getElementById("tutorial-mobile").style.display = "block";\n            document.getElementById("previewZone").style.display = "none";\n            document.getElementById("mobile-after-capture").style.display = "none";\n        }\n    }\n\n    function uploadImage(data, successCallback, errorCallback) {\n        try {\n            var url = BASE_URL_API + "file-service/v1/addFile";\n            console.log(\'BASE_URL_API\', BASE_URL_API)\n            var formData = new FormData();\n            formData.append("file\t", data);\n            formData.append("title\t", "upload_cmt_front");\n            formData.append("description\t", "upload_cmt_front");\n            // image_base64["img_front"] = file\n            Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["httpPOST"])(\n                url, {},\n                formData,\n                (payload) => { successCallback(payload) },\n                (error) => { errorCallback(error) },\n                init_data\n            );\n        } catch (error) {\n            console.log(\'err\', error);\n        }\n    }\n\n    const root = document.getElementsByClassName(\'type2_ekyc\')[0];\n    const varTags = root.getElementsByTagName("var");\n    Object(_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["translate"])(varTags, init_data.LANGUAGE);\n}\n\n\n\n\n\n//# sourceURL=webpack://ekycsdk/./src/js/type2.js?')},"./src/templates/document/captureAndUpload.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/webcamModule */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureDocModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./captureDocModal */ "./src/templates/document/captureDocModal.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\n\n\nconst captureAndUpload = (type_document, init_data, type, callbackFC) => {\n  let html =\n    `<div class="capture-and-upload-block-wrapper">\n      <div class="capture-and-upload-block">\n        <p class="header-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.header_title_style)}"><var>${type == "front" ? \'FRONT.FRONT\' : \'FRONT.BACK\'}</var></p>\n        <div class="capture-and-upload-wrapper" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_style)}">\n          <div class="capture-and-upload-wrapper-body" style="background-image: url(${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg_img})">\n            <div class="btn-wrapper">\n              <div class="common-btn" id="capture-btn-id" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_style)}">\n                <img id="take-picture-step1-img" class="camera-icon"  src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n                <span class="title" id="take-picture-step1-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_text_style)}"><var>FACE.TAKE_PHOTO</var></span>\n              </div>\n              <div id="upload-image-web" class="upload-btn-wrapper">\n                <button class="btn btn-upload-image" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_style)}">\n                  <img alt="active" src="${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} "/>\n                  <span style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_text_style)}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                </button>\n                <input accept="image/*" id="fileInputWeb10" name="img-id" type="file" />\n              </div>\n            </div>\n\n            <div class="camera_attach" id="front_camera">\n              <video id="camera_attach_video" width="100%" muted="" playsinline="" class="video-stream" src=""></video>\n              <div class="action-wrapper">\n                <div class="common-btn" id="caputure-in-video" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_style)}">\n                  <img id="take-picture-step1-img" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n                  <span class="title" id="take-picture-step1-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_text_style)}"><var>FACE.TAKE_PHOTO</var></span>\n                </div>\n                <div id="upload-image-web" class="upload-btn-wrapper">\n                  <button class="btn btn-upload-image" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_style)}">\n                    <img alt="active" src="${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} "/>\n                    <span style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_text_style)}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                  </button>\n                  <input accept="image/*" id="fileInputWeb11" name="img-id" type="file" />\n                </div>\n              </div>\n            </div>\n\n            <div class="camera_result" id="results_front_camera">\n              <img id="img-result"/>\n              <div class="action-wrapper">\n                <div class="common-btn" id="re-caputure-in-video" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.recapture_btn_style)}">\n                  <img id="take-picture-step1-img" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon}" />\n                  <span class="title" id="take-picture-step1-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.recapture_btn_text_style)}"><var>FACE.TAKE_AGAIN</var></span>\n                </div>\n                <div id="upload-image-web" class="upload-btn-wrapper">\n                  <button class="btn btn-upload-image" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_style)}">\n                    <img alt="active" src="${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} "/>\n                    <span style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_text_style)}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                  </button>\n                  <input accept="image/*" id="fileInputWeb12" name="img-id" type="file" />\n                </div>\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="description" id="description-1" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.description1_color_style)}">\n          <p><var>FACE.PLEASE</var></p>\n          <p><var>FRONT.GUIDE_4</var></p>\n        </div>\n        <div class="description" id="description-2" style="color:${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.description1_color_style)}">\n          <p><var>FRONT.GUIDE_7</var></p>\n        </div>\n\n        <div class="common-btn" id="next-step-btn" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_style)}">\n          <img class="next-icon" src="${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon}" />\n          <span class="title" id="take-picture-step1-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_text_style)}"><var>FACE.NEXT</var></span>\n        </div>\n        ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_4__["default"])(init_data)}\n        <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n      </div>\n      <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n      ${Object(_captureDocModal__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)}\n    </div>`;\n\n\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n  /**declare */\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureAndUploadBlock = document.getElementsByClassName("capture-and-upload-block")[0];\n  let loadingElement = document.getElementById("ekyc-loading");\n  let frontCamera = document.getElementById("front_camera");\n  let resultsFrontCamera = document.getElementById("results_front_camera");\n  let imgResult = document.getElementById("img-result");\n  let btnWrapper = document.getElementsByClassName("btn-wrapper")[0];\n  let description1 = document.getElementById("description-1");\n  let description2 = document.getElementById("description-2");\n  let nextStepBtn = document.getElementById("next-step-btn");\n  let object_local = {};\n  let streamVideo = [];\n  let dataHash = {};\n  let data_liveness = {};\n  let data_ocr = {};\n  data_ocr["typeDocument"] = type_document;\n  object_local["type_document"] = type_document;\n\n  function init() {\n    if (init_data.SHOW_HELP) {\n      if (type == "front") {\n        showPopup()\n      } else {\n        showBlockCaptureAndUpload()\n      }\n    } else {\n      showBlockCaptureAndUpload()\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n\n    }\n  }\n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureAndUploadBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureAndUploadBlock.style.display = "block";\n  }\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream)\n    }\n  }\n\n  const uploadFileSuccess = (res) => {\n    if (type == "front") {\n      localStorage.setItem("img_front_document", JSON.stringify(res.object.hash));\n      dataHash["hash0"] = res.object.hash;\n    }\n    if (type == "back") {\n      dataHash["hash1"] = res.object.hash;\n    }\n    loadingElement.style.display = "none";\n\n  }\n\n  const uploadFileFail = (err) => {\n    loadingElement.style.display = "none";\n    console.log(\'uploadFileFail\', err)\n  }\n\n  const actionUploadFile = (e) => {\n\n    // declare variable\n    let blob = null;\n    let data_image = {}\n\n    // effect\n    btnWrapper.style.display = "none";\n    frontCamera.style.display = "block";\n    frontCamera.style.display = "none";\n    resultsFrontCamera.style.display = "block";\n    imgResult.src = e.target.result;\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n\n    //action\n    if (streamVideo.length > 0) {\n      Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n    }\n    if (type == "front") {\n      object_local["img_front_b64"] = e.target.result;\n    } else {\n      object_local["img_back_b64"] = e.target.result;\n    }\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(e.target.result);\n    data_image["file"] = blob;\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  const effectAfterUpload = () => {\n    description1.style.display = "none";\n    description2.style.display = "block";\n    nextStepBtn.style.display = "flex";\n  }\n\n  /*show video webcam */\n  document.getElementById("capture-btn-id").onclick = function () {\n    btnWrapper.style.display = "none";\n    frontCamera.style.display = "block";\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("camera_attach_video", (stream) => {\n      manageStream(stream);\n      if (stream) {\n        loadingElement.style.display = "none";\n\n      }\n    })\n  }\n\n  /*Capture image webcam */\n  document.getElementById("caputure-in-video").onclick = function () {\n    // declare variable\n    let video = document.getElementById("camera_attach_video");\n    let canvas = document.createElement("canvas");\n    let resultb64 = null;\n    let blob = null;\n    let data_image = {};\n    let windowWidth = window.screen.width < window.outerWidth ?\n    window.screen.width : window.outerWidth;\n    //draw image in video\n    if(windowWidth > 1024) {\n      canvas.width = 640;\n      canvas.height = 360;\n    }else {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n    }\n    canvas.getContext(\'2d\').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n    resultb64 = canvas.toDataURL(\'image/jpeg\');\n    imgResult.src = resultb64;\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(resultb64);\n    data_image["file"] = blob;\n\n    // effect \n    frontCamera.style.display = "none";\n    resultsFrontCamera.style.display = "block";\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n\n    // action\n    if (type == "front") {\n      object_local["img_front_b64"] = resultb64\n    } else {\n      object_local["img_back_b64"] = resultb64\n    }\n\n    //validate cam fake\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  /*Recapture image */\n  document.getElementById("re-caputure-in-video").onclick = function () {\n    //effect\n    resultsFrontCamera.style.display = "none";\n    frontCamera.style.display = "block";\n    description1.style.display = "block";\n    description2.style.display = "none";\n    nextStepBtn.style.display = "none";\n    //action\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("camera_attach_video", (stream) => {\n      if (stream) {\n        loadingElement.style.display = "none";\n      }\n      manageStream(stream)\n    })\n\n  }\n\n  /*Upload image */\n  document.getElementById("fileInputWeb10").onchange = function () {\n    // validate input\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb11").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb12").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n  /**\n   * - Kiểm tra xem có phải mặt trước giấý tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Nếu là bằng lái xe hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api livenesss card hay không \n   *        - nếu đúng thì thực hiện liveness + ocr một mặt \n   *        - nếu sai thì chỉ thực hiện ocr một mặt\n   *  - Nếu không phải là bằng lái xe hoặc hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api liveness không \n   *      - nếu đúng thì thực hiện liveness và qua bước chụp mặt sau\n   *      - nếu sai thì chỉ chụp ảnh và qua bước chụp mặt sau\n   * - Kiểm tra xem có phải mặt sau giấy tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Kiểm tra xem có sử dụng api liveness hay không\n   *    - nếu đúng thì thực hiện liveness + orc và qua bước tiếp theo\n   *    - nếu sai thì thực hiện ocr và qua bước tiếp theo\n   */\n  nextStepBtn.onclick = async () => {\n    loadingElement.style.display = "block";\n    if (type == "front") {\n      await FaceVNPTBrowserSDK.init();\n      data_liveness[\'currentHash\'] = dataHash.hash0\n      data_ocr["currentHash"] = dataHash.hash0;\n      if (type_document == 5 || type_document == 6) {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n        else {\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n      else {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        } else {\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n    } else {\n      let hashs = {};\n      hashs["hash0"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n      hashs["hash1"] = dataHash.hash1;\n      data_ocr["dataHash"] = hashs;\n      data_liveness[\'currentHash\'] = dataHash.hash1;\n      if (init_data.CHECK_LIVENESS_CARD) {\n        const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        object_local["liveness_card_back"] = livenessData;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      } else {\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      }\n    }\n  }\n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n\n  init();\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (captureAndUpload);\n\n//# sourceURL=webpack://ekycsdk/./src/templates/document/captureAndUpload.js?')},"./src/templates/document/captureDocModal.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nconst CaptureDocModal = (init_data) => {\n  const touchIcon = `${init_data.MODAL_DOC_STYLE.touch_icon}`;\n  const closeIcon = `${init_data.MODAL_DOC_STYLE.close_icon}`;\n  const notice1 = `${init_data.MODAL_DOC_STYLE.notice1_icon}`;\n  const notice2 = `${init_data.MODAL_DOC_STYLE.notice2_icon}`;\n  const notice3 = `${init_data.MODAL_DOC_STYLE.notice3_icon}`;\n  var html =\n    `<div class="ekyc-popup" id="ekyc-popup-1" style="box-shadow: rgba(0, 0, 0, 0.06) 0px 0px 2px, rgba(0, 0, 0, 0.1) 0px 3px 8px;">\n      <div class="pu-header">\n        <img class="close-btn" width="32px" height="32px" src=${closeIcon} style="display: none" />\n        <div class="icons"><img class="main-icons" src=${touchIcon} /></div>\n        <div class="content" id="header-title-pop" style="color: rgb(200, 36, 45);"><var>DOCUMENT_MODAL.TUTORIAL_TITLE</var></div>\n      </div>\n      <div class="pu-body">\n        <ul>\n          <li><var>DOCUMENT_MODAL.TUTORIAL_NOTICE1</var></li>\n          <li><var>DOCUMENT_MODAL.TUTORIAL_NOTICE2</var></li>\n        </ul>\n      </div>\n      <div class="pu-footer">\n        <div class="text-center">\n          <img class="main-icons" src=${notice1} />\n          <p>\n            <var>DOCUMENT_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>DOCUMENT_MODAL.TUTORIAL1</var>\n          </p>\n        </div>\n        <div class="text-center">\n          <img class="main-icons" src=${notice2} />\n          <p>\n            <var>DOCUMENT_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>DOCUMENT_MODAL.TUTORIAL2</var>\n          </p>\n        </div>\n        <div class="text-center">\n          <img class="main-icons" src=${notice3} />\n          <p>\n            <var>DOCUMENT_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>DOCUMENT_MODAL.TUTORIAL3</var>\n          </p>\n        </div>\n      </div>\n      <div id="close-pop-1" class="take-picture-btn" style="margin: 20px auto; background: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background}">\n        <img id="step1-closebtn-icon" class="next-icon" src="${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon}" />\n        <span id="step1-closebtn-title" style="margin-right: 10px; color: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color};"><var>FACE.NEXT</var></span>\n      </div>\n    </div>`;\n\n  return (\n    html.replace(/(\\r\\n|\\n|\\r)/gm, "")\n  )\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (CaptureDocModal);\n\n\n//# sourceURL=webpack://ekycsdk/./src/templates/document/captureDocModal.js?')},"./src/templates/document/captureWebcam.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/webcamModule */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureDocModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./captureDocModal */ "./src/templates/document/captureDocModal.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\n\n\nconst captureWebcam = (type_document, init_data, type, callbackFC) => {\n  var html =\n    `<div class="capture-webcam-wrapper">\n      <div class="capture-webcam">\n        <p class="header-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.header_title_style)}"><var>${type == "front" ? \'FRONT.FRONT\' : \'FRONT.BACK\'}</var></p>\n        <div class="webcame-zone" id="webcame-zone" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.webcam_streaming_style)}" >\n          <div class="video-block" id="video-block">\n            <video style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.video_block_style)}" class="action-block" id="video1" muted="" playsinline="" autoplay=""></video>\n          </div>\n          <div id="webcam-result">\n            <img id="img-result" />\n          </div>\n        </div>\n        <div class="ekyc_description" id="ekyc_description" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.description1_color_style)}">\n          <span><var>FACE.PLEASE</var></span><br />\n          <span><var>FRONT.GUIDE_4</var></span>\n        </div>\n        <div class="take-picture-btn" id="take-picture-webcam" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_style)}">\n          <img id="take-picture-webcam-img" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n          <span class="title" id="take-picture-webcam-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_btn_text_style)}"><var>FACE.TAKE_PHOTO</var></span>\n        </div>\n        \n        <div class="after-capture-wrapper" id="after-capture">\n          <div class="step1-after-capture">\n            <div class="re-capture" id="re-capture" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.recapture_btn_style)}">\n              <img id="re-capture-icon" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon}" />\n              <span id="re-capture-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.recapture_btn_text_style)}"><var>FACE.TAKE_AGAIN</var></span>\n            </div>\n            <div class="next-step" id="step1-next-step" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_style)}">\n              <img id="step1-next-step-icon" class="next-icon" src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}"/>\n              <span id="step1-next-step-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_text_style)}"><var>FACE.NEXT</var></span>\n            </div>\n          </div>\n        </div>\n        ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_4__["default"])(init_data)}\n        <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n      </div>\n      <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n      ${Object(_captureDocModal__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)}\n    </div>`;\n  /**initital */\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n  // controlWebcam3("video1", (stream) => { manageStream(stream) })\n  // setTimeout(() => {\n  //   controlWebcam3("video1", (stream) => { manageStream(stream) })\n  // }, 1000);\n\n  /**declare */\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureWebcamBlock = document.getElementsByClassName("capture-webcam")[0];\n  let takePicture = document.getElementById("take-picture-webcam");\n  let videoBlock = document.getElementById("video-block");\n  let imgResult = document.getElementById("img-result");\n  let afterCapture = document.getElementById("after-capture");\n  let reCapture = document.getElementById("re-capture");\n  let webcamResult = document.getElementById("webcam-result");\n  let loadingElement = document.getElementById("ekyc-loading");\n  let nextStepBtn = document.getElementById("step1-next-step");\n  let object_local = {};\n  let streamVideo = [];\n  let dataHash = {};\n  let data_ocr = {};\n  let data_liveness = {};\n  object_local["type_document"] = type_document;\n  data_ocr["typeDocument"] = type_document;\n\n\n  /**method */\n  function init() {\n    if (init_data.SHOW_HELP) {\n      if (type == "front") {\n        showPopup()\n      } else {\n        showBlockCaptureAndUpload()\n      }\n    } else {\n      showBlockCaptureAndUpload();\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureWebcamBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureWebcamBlock.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("video1", (stream) => { manageStream(stream) });\n  }\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream)\n    }\n  }\n\n  const uploadFileSuccess = (res) => {\n    if (type == "front") {\n      localStorage.setItem("img_front_document", JSON.stringify(res.object.hash));\n      dataHash["hash0"] = res.object.hash;\n    }\n    if (type == "back") {\n      dataHash["hash1"] = res.object.hash;\n    }\n    loadingElement.style.display = "none";\n\n  }\n  const uploadFileFail = (err) => {\n    loadingElement.style.display = "none";\n\n    console.log(\'uploadFileFail\', err)\n  }\n\n  takePicture.onclick = () => {\n    // declare variable\n    let video = document.getElementById("video1");\n    let canvas = document.createElement("canvas");\n    let resultb64 = null;\n    let blob = null;\n    let data_image = {};\n    let windowWidth = window.screen.width < window.outerWidth ?\n      window.screen.width : window.outerWidth;\n    //draw image in video\n    if(windowWidth > 1024) {\n      canvas.width = 640;\n      canvas.height = 360;\n    }else {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n    }\n    canvas.getContext(\'2d\').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n    resultb64 = canvas.toDataURL(\'image/jpeg\');\n    imgResult.src = resultb64;\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(resultb64);\n    data_image["file"] = blob;\n\n    // effect \n    videoBlock.style.display = "none";\n    takePicture.style.display = "none";\n    afterCapture.style.display = "block";\n    webcamResult.style.display = "block";\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n\n    // action\n    if (type == "front") {\n      object_local["img_front_b64"] = resultb64\n    } else {\n      object_local["img_back_b64"] = resultb64\n    }\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n\n  reCapture.onclick = () => {\n    //effect\n    webcamResult.style.display = "none";\n    afterCapture.style.display = "none";\n    videoBlock.style.display = "block";\n    takePicture.style.display = "flex";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("video1", (stream) => { manageStream(stream) })\n\n  }\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n  /**\n   * - Kiểm tra xem có phải mặt trước giấý tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Nếu là bằng lái xe hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api livenesss card hay không \n   *        - nếu đúng thì thực hiện liveness + ocr một mặt \n   *        - nếu sai thì chỉ thực hiện ocr một mặt\n   *  - Nếu không phải là bằng lái xe hoặc hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api liveness không \n   *      - nếu đúng thì thực hiện liveness và qua bước chụp mặt sau\n   *      - nếu sai thì chỉ chụp ảnh và qua bước chụp mặt sau\n   * - Kiểm tra xem có phải mặt sau giấy tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Kiểm tra xem có sử dụng api liveness hay không\n   *    - nếu đúng thì thực hiện liveness + orc và qua bước tiếp theo\n   *    - nếu sai thì thực hiện ocr và qua bước tiếp theo\n   */\n  nextStepBtn.onclick = async () => {\n    loadingElement.style.display = "block";\n    if (type == "front") {\n      await FaceVNPTBrowserSDK.init();\n      data_liveness[\'currentHash\'] = dataHash.hash0\n      data_ocr["currentHash"] = dataHash.hash0;\n      if (type_document == 5 || type_document == 6) {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n        else {\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n      else {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        } else {\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n    } else {\n      let hashs = {};\n      hashs["hash0"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n      hashs["hash1"] = dataHash.hash1;\n      data_ocr["dataHash"] = hashs;\n      data_liveness[\'currentHash\'] = dataHash.hash1;\n      if (init_data.CHECK_LIVENESS_CARD) {\n        const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livebessCardMobileV2"])(data_liveness, init_data);\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        object_local["liveness_card_back"] = livenessData;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      } else {\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      }\n    }\n  }\n\n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n  init();\n\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (captureWebcam);\n\n//# sourceURL=webpack://ekycsdk/./src/templates/document/captureWebcam.js?')},"./src/templates/document/uploadImg.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureDocModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./captureDocModal */ "./src/templates/document/captureDocModal.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\nconst uploadImg = (type_document, init_data, type, callbackFC) => {\n  let html =\n    `<div class="capture-and-upload-block-wrapper">\n      <div class="capture-and-upload-block">\n        <p class="header-title" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.header_title_style)}"><var>${type == "front" ? \'FRONT.FRONT\' : \'FRONT.BACK\'}</var></p>\n        <div class="capture-and-upload-wrapper" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_style)}">\n          <div class="capture-and-upload-wrapper-body" style="background-image: url(${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg_img})">\n            <div class="btn-wrapper" style="padding-top: 50px;padding-bottom: 50px">\n              <div id="upload-image-web" class="upload-btn-wrapper">\n                <button class="btn btn-upload-image" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_style)}">\n                  <img alt="active" src="${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon}" />\n                  <span style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_text_style)}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                </button>\n                <input accept="image/*" id="fileInputWeb10" name="img-id" type="file" />\n              </div>\n            </div>\n\n            <div class="camera_result" id="results_front_camera">\n              <img id="img-result"/>\n              <div class="action-wrapper">\n                <div id="upload-image-web" class="upload-btn-wrapper">\n                  <button class="btn btn-upload-image" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_style)}">\n                    <img alt="active" src="${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon}" />\n                    <span  style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.upload_btn_text_style)}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                  </button>\n                  <input accept="image/*" id="fileInputWeb12" name="img-id" type="file" />\n                </div>\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="description" id="description-1" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.description1_color_style)}">\n          <p><var>FACE.PLEASE</var></p>\n          <p><var>FRONT.GUIDE_4</var></p>\n        </div>\n        <div class="description" id="description-2" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.description1_color_style)}">\n          <p><var>FRONT.GUIDE_7</var></p>\n        </div>\n\n        <div class="common-btn" id="next-step-btn" style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_style)}">\n          <img class="next-icon" src="${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon}" />\n          <span class="title" id="take-picture-step1-title"  style="${Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["styleString"])(init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_text_style)}"><var>FACE.NEXT</var></span>\n        </div>\n        ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)}\n        <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n      </div>\n      <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n      ${Object(_captureDocModal__WEBPACK_IMPORTED_MODULE_2__["default"])(init_data)}\n    </div>`;\n\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["translate"])(varTags, init_data.LANGUAGE);\n\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureAndUploadBlock = document.getElementsByClassName("capture-and-upload-block")[0];\n  let loadingElement = document.getElementById("ekyc-loading");\n  let resultsFrontCamera = document.getElementById("results_front_camera");\n  let imgResult = document.getElementById("img-result");\n  let btnWrapper = document.getElementsByClassName("btn-wrapper")[0];\n  let description1 = document.getElementById("description-1");\n  let description2 = document.getElementById("description-2");\n  let nextStepBtn = document.getElementById("next-step-btn");\n  let object_local = {};\n  let dataHash = {};\n  let data_liveness = {};\n  let data_ocr = {};\n  object_local["type_document"] = type_document;\n  data_ocr["typeDocument"] = type_document;\n\n\n  function init() {\n    if (init_data.SHOW_HELP) {\n      if (type == "front") {\n        showPopup()\n      } else {\n        showBlockCaptureAndUpload()\n      }\n    } else {\n      showBlockCaptureAndUpload();\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureAndUploadBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureAndUploadBlock.style.display = "block";\n  }\n  const uploadFileSuccess = (res) => {\n    if (type == "front") {\n      localStorage.setItem("img_front_document", JSON.stringify(res.object.hash));\n      dataHash["hash0"] = res.object.hash;\n    }\n    if (type == "back") {\n      dataHash["hash1"] = res.object.hash;\n\n    }\n    loadingElement.style.display = "none";\n  }\n  const uploadFileFail = (err) => {\n    loadingElement.style.display = "none";\n\n    console.log(\'uploadFileFail\', err)\n  }\n\n  const actionUploadFile = (e) => {\n    // declare variable\n    var blob = null;\n    var data_image = {}\n    // effect\n    btnWrapper.style.display = "none";\n    resultsFrontCamera.style.display = "block";\n    imgResult.src = e.target.result;\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n\n    //action\n    if (type == "front") {\n      object_local["img_front_b64"] = e.target.result;\n    } else {\n      object_local["img_back_b64"] = e.target.result;\n    }\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64toBlob"])(e.target.result);\n    data_image["file"] = blob;\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  const effectAfterUpload = () => {\n    description1.style.display = "none";\n    description2.style.display = "block";\n    nextStepBtn.style.display = "flex";\n  }\n\n\n  /*Upload image */\n  document.getElementById("fileInputWeb10").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only!\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb12").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only!\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n  /**\n   * - Kiểm tra xem có phải mặt trước giấý tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Nếu là bằng lái xe hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api livenesss card hay không \n   *        - nếu đúng thì thực hiện liveness + ocr một mặt \n   *        - nếu sai thì chỉ thực hiện ocr một mặt\n   *  - Nếu không phải là bằng lái xe hoặc hoặc hộ chiếu \n   *    - kiểm tra xem có sử dụng api liveness không \n   *      - nếu đúng thì thực hiện liveness và qua bước chụp mặt sau\n   *      - nếu sai thì chỉ chụp ảnh và qua bước chụp mặt sau\n   * - Kiểm tra xem có phải mặt sau giấy tờ hay không, nếu đúng kiểm tra tiếp\n   *  - Kiểm tra xem có sử dụng api liveness hay không\n   *    - nếu đúng thì thực hiện liveness + orc và qua bước tiếp theo\n   *    - nếu sai thì thực hiện ocr và qua bước tiếp theo\n   */\n  nextStepBtn.onclick = async () => {\n    loadingElement.style.display = "block";\n    if (type == "front") {\n      await FaceVNPTBrowserSDK.init();\n      data_liveness[\'currentHash\'] = dataHash.hash0\n      data_ocr["currentHash"] = dataHash.hash0;\n      if (type_document == 5 || type_document == 6) {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["livebessCardMobileV2"])(data_liveness, init_data);\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n        else {\n          const ocrOneSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["ocrOneSideMobileV2"])(data_ocr, init_data);\n          object_local["ocr"] = ocrOneSide;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n      else {\n        if (init_data.CHECK_LIVENESS_CARD) {\n          const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["livebessCardMobileV2"])(data_liveness, init_data);\n          object_local["liveness_card_front"] = livenessData;\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        } else {\n          await callbackFC(object_local);\n          await hiddenLoadingV2();\n        }\n      }\n    } else {\n      let hashs = {};\n      hashs["hash0"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n      hashs["hash1"] = dataHash.hash1;\n      data_ocr["dataHash"] = hashs;\n      data_liveness[\'currentHash\'] = dataHash.hash1;\n      if (init_data.CHECK_LIVENESS_CARD) {\n        const livenessData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["livebessCardMobileV2"])(data_liveness, init_data);\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        object_local["liveness_card_back"] = livenessData;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      } else {\n        const ocrFullSide = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["ocrFullSideMobileV2"])(data_ocr, init_data);\n        object_local["ocr"] = ocrFullSide;\n        await callbackFC(object_local);\n        await hiddenLoadingV2();\n      }\n    }\n  }\n\n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n  init();\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (uploadImg);\n\n//# sourceURL=webpack://ekycsdk/./src/templates/document/uploadImg.js?')},"./src/templates/loadingComponent.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_js_ekycHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/js/ekycHelper */ "./src/js/ekycHelper.js");\n\n\nconst LoadingComponent = (init_data) => {\n  var html =\n  `<div class="ekyc-loading" id="ekyc-loading" style="${Object(_src_js_ekycHelper__WEBPACK_IMPORTED_MODULE_0__["styleString"])(init_data.OTHER_CONFIG.loading_styles)}">\n    <img class="arc" src=${init_data.OTHER_CONFIG.loading_icon}></img>\n  </div>`;\n\n  return (\n    html.replace(/(\\r\\n|\\n|\\r)/gm, "")\n  )\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (LoadingComponent);\n\n\n//# sourceURL=webpack://ekycsdk/./src/templates/loadingComponent.js?')},"./src/templates/portrait/captureAndUploadFace.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/webcamModule */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureFaceModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./captureFaceModal */ "./src/templates/portrait/captureFaceModal.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\n\nconst captureAndUploadFace = (type_document, init_data, type, callbackFC) => {\n  let html =\n  `<div class="capture-and-upload-block-wrapper">\n    <div class="capture-and-upload-block">\n      <p class="header-title" style="color:${init_data.CAPTURE_IMAGE_STYLE.big_title_color}"><var>${\'FACE.PORTRAIT\'}</var></p>\n      <div class="capture-and-upload-wrapper" style="background-color: ${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg}">\n        <div class="capture-and-upload-wrapper-body" style="background-image: url(${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg_img})">\n          <div class="btn-wrapper">\n            <div class="common-btn" id="capture-btn-id" style="display: flex; background: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_background};">\n              <img id="take-picture-step1-img" class="camera-icon"  src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n              <span class="title" id="take-picture-step1-title" style="color: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_color};"><var>FACE.TAKE_PHOTO</var></span>\n            </div>\n            <div id="upload-image-web" class="upload-btn-wrapper">\n              <button class="btn btn-upload-image" style="border: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_boder};background-color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_background}">\n                <img alt="active" src=${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} />\n                <span style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FRONT.UPLOAD_IMAGE</var></span>\n              </button>\n              <input accept="image/*" id="fileInputWeb10" name="img-id" type="file" />\n            </div>\n          </div>\n    \n          <div class="camera_attach" id="front_camera">\n            <video id="camera_attach_video" width="100%" muted="" playsinline="" class="video-stream" src=""></video>\n            <div class="action-wrapper">\n              <div class="common-btn" id="caputure-in-video" style="display: flex; background: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_background};">\n                <img id="take-picture-step1-img" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n                <span class="title" id="take-picture-step1-title" style="color: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_color};"><var>FACE.TAKE_PHOTO</var></span>\n              </div>\n              <div id="upload-image-web" class="upload-btn-wrapper">\n                <button class="btn btn-upload-image" style="border: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_boder};background-color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_background}">\n                  <img alt="active" src=${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} />\n                  <span style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                </button>\n                <input accept="image/*" id="fileInputWeb11" name="img-id" type="file" />\n              </div>\n            </div>\n          </div>\n    \n          <div class="camera_result" id="results_front_camera">\n            <img id="img-result"/>\n            <div class="action-wrapper">\n              <div class="common-btn" id="re-caputure-in-video" style="display: flex; background: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_background};">\n                <img id="take-picture-step1-img" class="camera-icon" src="${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon}" />\n                <span class="title" id="take-picture-step1-title" style="color: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_color};"><var>FACE.TAKE_AGAIN</var></span>\n              </div>\n              <div id="upload-image-web" class="upload-btn-wrapper">\n                <button class="btn btn-upload-image" style="border: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_boder};background-color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_background}">\n                  <img alt="active" src=${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} />\n                  <span style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                </button>\n                <input accept="image/*" id="fileInputWeb12" name="img-id" type="file" />\n              </div>\n          </div>\n          </div>\n        </div>\n      </div>\n    \n      <div class="ekyc_description" id="ekyc_description" style="display: block; color:${init_data.CAPTURE_IMAGE_STYLE.description1_color};">\n        <span><var>FACE.PLEASE</var></span><br />\n        <span><var>FACE.DES_1</var></span>\n      </div>\n    \n      <div class="common-btn" id="next-step-btn" style="background-color: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background}>\n        <img class="next-icon" src=${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon} />\n        <span class="title" id="take-picture-step1-title" style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FACE.NEXT</var></span>\n      </div>\n      ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_4__["default"])(init_data)}\n      <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n    </div>\n    <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n    ${Object(_captureFaceModal__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)}\n    </div>`;\n\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["translate"])(varTags, init_data.LANGUAGE);\n  /**declare */\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureAndUploadBlock = document.getElementsByClassName("capture-and-upload-block")[0];\n  let loadingElement = document.getElementById("ekyc-loading");\n  let frontCamera = document.getElementById("front_camera");\n  let resultsFrontCamera = document.getElementById("results_front_camera");\n  let imgResult = document.getElementById("img-result");\n  let btnWrapper = document.getElementsByClassName("btn-wrapper")[0];\n  let nextStepBtn = document.getElementById("next-step-btn");\n  let object_local = {};\n  let streamVideo = [];\n  let dataHash = {};\n  let data_liveness = {};\n  let data_ocr = {};\n  data_ocr["typeDocument"] = type_document;\n  object_local["type_document"] = type_document;\n\n  function init() {\n    if (init_data.SHOW_HELP) {\n      showPopup()\n    } else {\n      showBlockCaptureAndUpload()\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n\n    }\n  }\n  \n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureAndUploadBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureAndUploadBlock.style.display = "block";\n  }\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream)\n    }\n  }\n\n  const uploadFileSuccess = (res) => {\n    dataHash["hashFace"] = res.object.hash;\n    loadingElement.style.display = "none";\n\n  }\n\n  const uploadFileFail = (err) => {\n    loadingElement.style.display = "none";\n    console.log(\'uploadFileFail\', err)\n  }\n\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n  \n\n  const actionUploadFile = (e) => {\n\n    // declare variable\n    let blob = null;\n    let data_image = {}\n\n    // effect\n    btnWrapper.style.display = "none";\n    frontCamera.style.display = "block";\n    frontCamera.style.display = "none";\n    resultsFrontCamera.style.display = "block";\n    imgResult.src = e.target.result;\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n\n    //action\n    if (streamVideo.length > 0) {\n      Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n    }\n\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(e.target.result);\n    data_image["file"] = blob;\n    object_local["base64_face_img"] = {img_face_far: e.target.result}\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  const effectAfterUpload = () => {\n    nextStepBtn.style.display = "flex";\n  }\n\n  /*show video webcam */\n  document.getElementById("capture-btn-id").onclick = function () {\n    btnWrapper.style.display = "none";\n    frontCamera.style.display = "block";\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("camera_attach_video", (stream) => {\n      manageStream(stream);\n      if (stream) {\n        loadingElement.style.display = "none";\n\n      }\n    })\n  }\n\n  /*Capture image webcam */\n  document.getElementById("caputure-in-video").onclick = function () {\n    // declare variable\n    let video = document.getElementById("camera_attach_video");\n    let canvas = document.createElement("canvas");\n    let resultb64 = null;\n    let blob = null;\n    let data_image = {};\n    let windowWidth = window.screen.width < window.outerWidth ?\n    window.screen.width : window.outerWidth;\n    //draw image in video\n    if(windowWidth > 1024) {\n      canvas.width = 640;\n      canvas.height = 360;\n    }else {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n    }\n    canvas.getContext(\'2d\').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n    resultb64 = canvas.toDataURL(\'image/jpeg\');\n    imgResult.src = resultb64;\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_2__["b64toBlob"])(resultb64);\n    data_image["file"] = blob;\n\n    // effect \n    frontCamera.style.display = "none";\n    resultsFrontCamera.style.display = "block";\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n\n    // action\n    object_local["base64_face_img"] = {img_face_far: resultb64}\n    //validate cam fake\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  /*Recapture image */\n  document.getElementById("re-caputure-in-video").onclick = function () {\n    //effect\n    resultsFrontCamera.style.display = "none";\n    frontCamera.style.display = "block";\n    nextStepBtn.style.display = "none";\n    //action\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("camera_attach_video", (stream) => {\n      if (stream) {\n        loadingElement.style.display = "none";\n      }\n      manageStream(stream)\n    })\n\n  }\n\n  /*Upload image */\n  document.getElementById("fileInputWeb10").onchange = function () {\n    // validate input\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb11").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb12").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only.\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  nextStepBtn.onclick = async () => {\n    dataHash["hashFront"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n    loadingElement.style.display = "block";\n    let livenessFaceData = null, maskedFaceData=null, compareFaceData = null;\n    if(init_data.CHECK_LIVENESS_FACE) {\n      livenessFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["livenessFaceMobileV2"])(dataHash, init_data);\n      object_local["liveness_face"] = livenessFaceData;\n    }\n    if(init_data.CHECK_MASKED_FACE) {\n      maskedFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["maskedFaceMobileV2"])(dataHash, init_data)\n      object_local["masked"] = maskedFaceData;\n    }\n    if(init_data.COMPARE_FACE) {\n      compareFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_1__["compareFaceMobileV2"])(dataHash, init_data);\n      object_local["compare"] = compareFaceData;\n    }\n    await callbackFC(object_local);\n    await hiddenLoadingV2();\n  }\n  \n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n\n  init();\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (captureAndUploadFace);\n\n//# sourceURL=webpack://ekycsdk/./src/templates/portrait/captureAndUploadFace.js?')},"./src/templates/portrait/captureFaceModal.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nconst captureFaceModal = (init_data) => {\n  const FaceIcon = `${init_data.MODAL_FACE_STYLE.face_icon}`;\n  const closeIcon = `${init_data.MODAL_FACE_STYLE.close_icon}`;\n  const notice1 = `${init_data.MODAL_FACE_STYLE.notice1_icon}`;\n  const notice2 = `${init_data.MODAL_FACE_STYLE.notice2_icon}`;\n  const notice3 = `${init_data.MODAL_FACE_STYLE.notice3_icon}`;\n  var html =\n    `<div class="ekyc-popup" id="ekyc-popup-1" style="box-shadow: rgba(0, 0, 0, 0.06) 0px 0px 2px, rgba(0, 0, 0, 0.1) 0px 3px 8px;">\n      <div class="pu-header">\n        <div class="icons"><img class="main-icons" src=${FaceIcon} /></div>\n        <div class="content" id="header-title-pop" style="color: rgb(200, 36, 45);"><var>FACE_MODAL.TUTORIAL_TITLE</var></div>\n      </div>\n      <div class="pu-body">\n        <ul>\n          <li><var>FACE_MODAL.TUTORIAL_NOTICE1</var></li>\n          <li><var>FACE_MODAL.TUTORIAL_NOTICE2</var></li>\n          <li><var>FACE_MODAL.TUTORIAL_NOTICE3</var></li>\n        </ul>\n      </div>\n      <div class="pu-footer">\n        <div class="text-center">\n          <img class="main-icons" src=${notice1} />\n          <p>\n            <var>FACE_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>FACE_MODAL.TUTORIAL1</var>\n          </p>\n        </div>\n        <div class="text-center">\n          <img class="main-icons" src=${notice2} />\n          <p>\n            <var>FACE_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>FACE_MODAL.TUTORIAL2</var>\n          </p>\n        </div>\n        <div class="text-center">\n          <img class="main-icons" src=${notice3} />\n          <p>\n            <var>FACE_MODAL.DO_NOT</var>\n          </p>\n          <p>\n            <var>FACE_MODAL.TUTORIAL3</var>\n          </p>\n        </div>\n      </div>\n      <div id="close-pop-1" class="take-picture-btn" style="margin: 20px auto; background: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background}">\n        <img id="step1-closebtn-icon" class="next-icon" src="${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon}" />\n        <span id="step1-closebtn-title" style="margin-right: 10px; color: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color};"><var>FACE.NEXT</var></span>\n      </div>\n    </div>`;\n\n  return (\n    html.replace(/(\\r\\n|\\n|\\r)/gm, "")\n  )\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (captureFaceModal);\n\n\n//# sourceURL=webpack://ekycsdk/./src/templates/portrait/captureFaceModal.js?')},"./src/templates/portrait/captureFaceWebcam.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/webcamModule */ "./src/js/flow_type/webcamModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureFaceModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./captureFaceModal */ "./src/templates/portrait/captureFaceModal.js");\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\n\nconst captureFaceWebcam = (type_document, init_data, type, callbackFC) => {\n  var html =\n    `<div class="capture-webcam-wrapper">\n      <div class="capture-webcam">\n        <p class="header-title" style="color:${init_data.CAPTURE_IMAGE_STYLE.big_title_color}"><var>${\'FACE.PORTRAIT\'}</var></p>\n        <div class="webcame-zone" id="wedatabcame-zone" >\n          <div class="video-block" id="video-block"><video class="action-block" id="video1" muted="" playsinline="" autoplay=""></video></div>\n          <div id="webcam-result">\n            <img id="img-result" />\n          </div>\n        </div>\n        <div class="ekyc_description" id="ekyc_description" style="display: block; color:${init_data.CAPTURE_IMAGE_STYLE.description1_color};">\n          <span><var>FACE.PLEASE</var></span><br />\n          <span><var>FACE.DES_1</var></span>\n        </div>\n\n        <div class="take-picture-btn" id="take-picture-webcam" style="display: flex; background: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_background};">\n          <img id="take-picture-webcam-img" class="camera-icon" src=${init_data.CAPTURE_IMAGE_STYLE.capture_btn_icon} />\n          <span class="title" id="take-picture-webcam-title"><var style="color: ${init_data.CAPTURE_IMAGE_STYLE.capture_btn_color}">FACE.TAKE_PHOTO</var></span>\n        </div>\n        \n        <div class="after-capture-wrapper" id="after-capture">\n          <div class="step1-after-capture">\n            <div class="re-capture" id="re-capture" style="background: ${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_background}; border: ${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_border}">\n              <img id="re-capture-icon" class="camera-icon" src=${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_icon} />\n              <span id="re-capture-title"><var style="color: ${init_data.CAPTURE_IMAGE_STYLE.recapture_btn_color}">FACE.TAKE_AGAIN</var></span>\n            </div>\n            <div class="next-step" id="step1-next-step" style="background: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background}; border: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_border} ">\n              <img id="step1-next-step-icon" class="next-icon" src=${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon} />\n              <span id="step1-next-step-title"><var style="color: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_color}">FACE.NEXT</var></span>\n            </div>\n          </div>\n        </div>\n        \n        ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_4__["default"])(init_data)}\n        <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n      </div>\n      <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n      ${Object(_captureFaceModal__WEBPACK_IMPORTED_MODULE_2__["default"])(init_data)}\n    </div>`;\n\n  /**initital */\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["translate"])(varTags, init_data.LANGUAGE);\n  Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("video1", (stream) => { manageStream(stream) })\n\n  /**declare */\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureWebcamBlock = document.getElementsByClassName("capture-webcam")[0];\n  let takePicture = document.getElementById("take-picture-webcam");\n  let videoBlock = document.getElementById("video-block");\n  let imgResult = document.getElementById("img-result");\n  let afterCapture = document.getElementById("after-capture");\n  let reCapture = document.getElementById("re-capture");\n  let webcamResult = document.getElementById("webcam-result");\n  let nextStepBtn = document.getElementById("step1-next-step");\n  let object_local = {};\n  let streamVideo = [];\n  let data_ocr = {};\n  let dataHash = {};\n  let loadingElement = document.getElementById("ekyc-loading");\n\n  object_local["type_document"] = type_document;\n  data_ocr["typeDocument"] = type_document;\n\n\n  /**method */\n  function init() {\n    if (init_data.SHOW_HELP) {\n      showPopup();\n    } else {\n      showBlockCaptureAndUpload();\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureWebcamBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureWebcamBlock.style.display = "block";\n  }\n\n  function manageStream(stream) {\n    if (stream) {\n      streamVideo.push(stream)\n    }\n  }\n\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n\n  takePicture.onclick = () => {\n    // declare variable\n    let video = document.getElementById("video1");\n    let canvas = document.createElement("canvas");\n    let resultb64 = null;\n    let blob = null;\n    let data_image = {};\n    let windowWidth = window.screen.width < window.outerWidth ?\n    window.screen.width : window.outerWidth;\n    //draw image in video\n    if(windowWidth > 1024) {\n      canvas.width = 640;\n      canvas.height = 360;\n    }else {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n    }\n    canvas.getContext(\'2d\').drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n    resultb64 = canvas.toDataURL(\'image/jpeg\');\n    imgResult.src = resultb64;\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64toBlob"])(resultb64);\n    data_image["file"] = blob;\n\n    // effect \n    videoBlock.style.display = "none";\n    takePicture.style.display = "none";\n    afterCapture.style.display = "block";\n    webcamResult.style.display = "block";\n    loadingElement.style.display = "block";\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_3__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["stopBothVideoAndAudio"])(streamVideo);\n\n    // action\n    object_local["base64_face_img"] = {img_face_far: resultb64}\n    // callbackFC(object_local);\n  }\n\n\n  reCapture.onclick = () => {\n    //effect\n    webcamResult.style.display = "none";\n    afterCapture.style.display = "none";\n    videoBlock.style.display = "block";\n    takePicture.style.display = "flex";\n    Object(_js_flow_type_webcamModule__WEBPACK_IMPORTED_MODULE_0__["controlWebcam3"])("video1", (stream) => { manageStream(stream) })\n\n  }\n\n  nextStepBtn.onclick = async () => {\n    dataHash["hashFront"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n    loadingElement.style.display = "block";\n    let livenessFaceData = null, maskedFaceData=null, compareFaceData = null;\n    if(init_data.CHECK_LIVENESS_FACE) {\n      livenessFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_3__["livenessFaceMobileV2"])(dataHash, init_data);\n      object_local["liveness_face"] = livenessFaceData;\n    }\n    if(init_data.CHECK_MASKED_FACE) {\n      maskedFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_3__["maskedFaceMobileV2"])(dataHash, init_data)\n      object_local["masked"] = maskedFaceData;\n    }\n    if(init_data.COMPARE_FACE) {\n      compareFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_3__["compareFaceMobileV2"])(dataHash, init_data);\n      object_local["compare"] = compareFaceData;\n    }\n    await callbackFC(object_local);\n    await hiddenLoadingV2();\n  }\n\n  function uploadFileSuccess(res) {\n    dataHash["hashFace"] = res.object.hash;\n    loadingElement.style.display = "none";\n  }\n  \n  function uploadFileFail(err) {\n    console.log(\'uploadFileFail\', err)\n    loadingElement.style.display = "none";\n  }\n  \n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n  init();\n\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (captureFaceWebcam);\n\n\n//# sourceURL=webpack://ekycsdk/./src/templates/portrait/captureFaceWebcam.js?')},"./src/templates/portrait/uploadImgFace.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js/flow_type/apiModule */ "./src/js/flow_type/apiModule.js");\n/* harmony import */ var _js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/ekycHelper */ "./src/js/ekycHelper.js");\n/* harmony import */ var _captureFaceModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./captureFaceModal */ "./src/templates/portrait/captureFaceModal.js");\n/* harmony import */ var _loadingComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../loadingComponent */ "./src/templates/loadingComponent.js");\n\n\n\n\n\nconst uploadImgFace = (type_document, init_data, type, callbackFC) => {\n  let html =\n    `<div class="capture-and-upload-block-wrapper">\n      <div class="capture-and-upload-block">\n        <p class="header-title" style="color:${init_data.CAPTURE_IMAGE_STYLE.big_title_color}"><var>${\'FACE.PORTRAIT\'}</var></p>\n        <div class="capture-and-upload-wrapper" style="background-color: ${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg}">\n          <div class="capture-and-upload-wrapper-body" style="background-image: url(${init_data.CAPTURE_IMAGE_STYLE.capture_and_upload_wrapper_bg_img})">\n            <div class="btn-wrapper">\n              <div id="upload-image-web" class="upload-btn-wrapper">\n                <button class="btn btn-upload-image" style="border: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_boder};background-color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_background}">\n                  <img alt="active" src=${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} />\n                  <span style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                </button>\n                <input accept="image/*" id="fileInputWeb10" name="img-id" type="file" />\n              </div>\n            </div>\n\n            <div class="camera_result" id="results_front_camera">\n              <img id="img-result"/>\n              <div class="action-wrapper">\n                <div id="upload-image-web" class="upload-btn-wrapper">\n                  <button class="btn btn-upload-image" style="border: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_boder};background-color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_background}">\n                    <img alt="active" src=${init_data.CAPTURE_IMAGE_STYLE.upload_btn_icon} />\n                    <span style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FRONT.UPLOAD_IMAGE</var></span>\n                  </button>\n                  <input accept="image/*" id="fileInputWeb12" name="img-id" type="file" />\n                </div>\n            </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="ekyc_description" id="ekyc_description" style="display: block; color:${init_data.CAPTURE_IMAGE_STYLE.description1_color};">\n          <span><var>FACE.PLEASE</var></span><br />\n          <span><var>FACE.DES_1</var></span>\n        </div>\n\n        <div class="common-btn" id="next-step-btn" style="background-color: ${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_background}">\n          <img class="next-icon" src=${init_data.CAPTURE_IMAGE_STYLE.nextstep_btn_icon} />\n          <span class="title" id="take-picture-step1-title" style="color: ${init_data.CAPTURE_IMAGE_STYLE.upload_btn_color}"><var>FACE.NEXT</var></span>\n        </div>\n        ${Object(_loadingComponent__WEBPACK_IMPORTED_MODULE_3__["default"])(init_data)}\n        <div class="tutorial-mobile"><a id="tutorial-mobile"><var>FACE.GUIDE</var></a></div>\n      </div>\n      <img id="tutorial_btn" class="tutorial_btn" src=${init_data.CAPTURE_IMAGE_STYLE.tutorial_btn_icon}>\n      ${Object(_captureFaceModal__WEBPACK_IMPORTED_MODULE_2__["default"])(init_data)}\n    </div>`;\n\n  const parent = document.getElementById("ekyc_sdk_intergrated");\n  parent.insertAdjacentHTML(\'beforeend\', html.replace(/(\\r\\n|\\n|\\r)/gm, ""));\n  const varTags = parent.getElementsByTagName("var");\n  Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["translate"])(varTags, init_data.LANGUAGE);\n\n  const windowWidth =\n    window.screen.width < window.outerWidth ?\n      window.screen.width :\n      window.outerWidth;\n  let imgResult = document.getElementById("img-result");\n  let btnWrapper = document.getElementsByClassName("btn-wrapper")[0];\n  let nextStepBtn = document.getElementById("next-step-btn");\n  let closePopup = document.getElementById("close-pop-1");\n  let tutorialMobile = document.getElementById("tutorial-mobile");\n  let tutorialBtn = document.getElementById("tutorial_btn");\n  let tutorialPopup = document.getElementById("ekyc-popup-1");\n  let captureAndUploadBlock = document.getElementsByClassName("capture-and-upload-block")[0];\n  let loadingElement = document.getElementById("ekyc-loading");\n  let resultsFrontCamera = document.getElementById("results_front_camera");\n  let object_local = {};\n  let dataHash = {};\n  let data_ocr = {};\n  object_local["type_document"] = type_document;\n  data_ocr["typeDocument"] = type_document;\n\n  function init() {\n    if (init_data.SHOW_HELP) {\n      showPopup()\n    } else {\n      showBlockCaptureAndUpload();\n      tutorialBtn.style.display = "none";\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showPopup() {\n    tutorialPopup.style.display = "block";\n    captureAndUploadBlock.style.display = "none";\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "none";\n    } else {\n      tutorialMobile.style.display = "none";\n    }\n  }\n\n  function showBlockCaptureAndUpload() {\n    if (windowWidth > 1024) {\n      tutorialBtn.style.display = "block";\n    } else {\n      tutorialMobile.style.display = "block";\n    }\n    tutorialPopup.style.display = "none";\n    captureAndUploadBlock.style.display = "block";\n  }\n\n  const hiddenLoadingV2 = async () => {\n    loadingElement.style.display = "none"\n  }\n\n\n  const uploadFileSuccess = (res) => {\n    dataHash["hashFace"] = res.object.hash;\n    loadingElement.style.display = "none";\n\n  }\n  const uploadFileFail = (err) => {\n    loadingElement.style.display = "none";\n    console.log(\'uploadFileFail\', err)\n  }\n\n\n  const actionUploadFile = (e) => {\n    // declare variable\n    var blob = null;\n    var data_image = {}\n\n    // effect\n    btnWrapper.style.display = "none";\n\n    resultsFrontCamera.style.display = "block";\n    imgResult.src = e.target.result;\n    loadingElement.style.display = "block";\n    effectAfterUpload();\n\n    //action\n    blob = Object(_js_ekycHelper__WEBPACK_IMPORTED_MODULE_1__["b64toBlob"])(e.target.result);\n    data_image["file"] = blob;\n    object_local["base64_face_img"] = {img_face_far: e.target.result}\n    Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["uploadImage"])(data_image, uploadFileSuccess, uploadFileFail, init_data);\n  }\n\n  const effectAfterUpload = () => {\n    nextStepBtn.style.display = "flex";\n  }\n\n  /*Upload image */\n  document.getElementById("fileInputWeb10").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only!\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n  document.getElementById("fileInputWeb12").onchange = function () {\n    let filePath = this.value;\n    let allowedExtensions = /(\\.jpg|\\.jpeg|\\.png|\\.gif)$/i;\n\n    let reader = new FileReader();\n    let file = this.files[0];\n    reader.onloadend = (e) => {\n      if (file && allowedExtensions.exec(filePath)) {\n        actionUploadFile(e)\n      } else {\n        alert(\'Please upload file image only!\');\n        this.value = \'\';\n        return false;\n      };\n    }\n    reader.readAsDataURL(file);\n  }\n\n\n  nextStepBtn.onclick = async () => {\n    dataHash["hashFront"] = localStorage.getItem("img_front_document") ? JSON.parse(localStorage.getItem("img_front_document")) : null;\n    loadingElement.style.display = "block";\n    let livenessFaceData = null, maskedFaceData=null, compareFaceData = null;\n    if(init_data.CHECK_LIVENESS_FACE) {\n      livenessFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["livenessFaceMobileV2"])(dataHash, init_data);\n      object_local["liveness_face"] = livenessFaceData;\n    }\n    if(init_data.CHECK_MASKED_FACE) {\n      maskedFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["maskedFaceMobileV2"])(dataHash, init_data)\n      object_local["masked"] = maskedFaceData;\n    }\n    if(init_data.COMPARE_FACE) {\n      compareFaceData = await Object(_js_flow_type_apiModule__WEBPACK_IMPORTED_MODULE_0__["compareFaceMobileV2"])(dataHash, init_data);\n      object_local["compare"] = compareFaceData;\n    }\n    await callbackFC(object_local);\n    await hiddenLoadingV2();\n  }\n\n  closePopup.onclick = function () {\n    showBlockCaptureAndUpload()\n  }\n  tutorialBtn.onclick = function () {\n    showPopup();\n  }\n  tutorialMobile.onclick = function () {\n    showPopup();\n  }\n  init();\n\n\n}\n\n/* harmony default export */ __webpack_exports__["default"] = (uploadImgFace);\n\n//# sourceURL=webpack://ekycsdk/./src/templates/portrait/uploadImgFace.js?')},0:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./src/js/app.js */"./src/js/app.js");\n\n\n//# sourceURL=webpack://ekycsdk/multi_./src/js/app.js?')}});